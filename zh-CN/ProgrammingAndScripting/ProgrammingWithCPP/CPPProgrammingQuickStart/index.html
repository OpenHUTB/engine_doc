<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 10:42:44 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var finishButton = finishButtonTemplate;
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/" />');
				var udnCSS = '../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>编程快速入门 | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../Include/Javascript/instructional.js" type="text/javascript"></script>
	    <script  src="../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/" hreflang="ko" />

	<meta name="redirect" content="ProgrammingAndScripting/ProgrammingQuickStart" />
<meta name="redirect" content="Programming/QuickStart" />
<meta name="intsourcechangelist" content="15263018" />
<meta name="availability" content="Public" />
<meta name="title" content="编程快速入门" />
<meta name="description" content="创建首个代码项目，并添加新的C++类。" />
<meta name="type" content="quick start" />
<meta name="type" content="multi-step" />
<meta name="skilllevel" content="beginner" />
<meta name="version" content="4.24" />
<meta name="parent" content="ProgrammingAndScripting/ProgrammingWithCPP" />
<meta name="prereq" content="Basics/InstallingUnrealEngine" />
<meta name="prereq" content="Basics/ContentBrowser/UI" />
<meta name="prereq" content="ProductionPipelines/DevelopmentSetup/VisualStudioSetup" />
<meta name="topic-image" content="ProgrammingQuickStartTopic.png" />
<meta name="course" content="your-first-hour-with-unreal-engine|Your First Hour with Unreal Engine|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fyour-first-hour-with-unreal-engine%2F117-Your-First-Hour-In-Unreal-Engine-%281200x675%29-1200x675-3ba0c73d60c867b2040a2e3fcbb057c40313d515.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fyour-first-hour-with-unreal-engine%2F000-Spending-Your-First-Hour-in-Unreal-Engine%402x-1000x1000-257a32336fe426ebef81c31d8cba78473ac56645.png?resize=1&amp;w=300" />
<meta name="course" content="introducing-unreal-engine|Introducing Unreal Engine|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fintroducing-unreal-engine%2F103_EditorBasics%281200x675%29-1200x675-d1f9bfdcf224e37c9fe8c8f26b1ede1d22366103.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fintroducing-unreal-engine%2FIntroducing-Unreal-Engine-1000x1000-510d02d0754bb60deb7807c0fa45b23b1cf7ba02.png?resize=1&amp;w=300" />
<meta name="course" content="unreal-engine-editor-fundamentals---editor-introduction|Unreal Engine Editor Fundamentals|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fue-editor-fundamentals---editor-introduction%2F118_1_Thumbnail_1920x1080-1920x1080-3a70b05e12f65bc5c12fa8391d697da90b41653b.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fue-editor-fundamentals---editor-introduction%2F118.1-UE-Editor-Fundamentals_-Editor-Introduction%402x-1000x1000-10141e3ca4902e37c2031a4509686aa5998a97b4.png?resize=1&amp;w=300" />
<meta name="keywords" content="Programming" />
<meta name="keywords" content="C++" />
<meta name="crumbs" content="%ROOT%,ProgrammingAndScripting,ProgrammingAndScripting/ProgrammingWithCPP" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="编程快速入门" />
	<meta property="og:description" content="创建首个代码项目，并添加新的C++类。" />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">

			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">

	<span class="separator">></span> <a id="parent_link" href="../../index.html">编程和脚本编写</a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">编程指南</a>

<span class="separator">></span> <span id="page">编程快速入门</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">
			<div id="nav-filter-container">
				<div id="nav-filter-inner">
					<form>
						<input type="text" placeholder="Filter pages..." id="nav-filter" onchange="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, this.value);if(this.value.length == 0){$('#filter-clear').hide();}else{$('#filter-clear').show();}" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();" />
						<button class="close-icon" id="filter-clear" type="reset" onclick="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, '');$(this).hide();"></button>
					</form>
				</div>
			</div>
			<nav id="navPanel">
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">编程快速入门</h1>
							</div>	
							<h2 >创建首个代码项目，并添加新的C++类。</h2>
							<div id="access">
								<div class="accessContainer">
																		<div class="skill_tag_filter Beginner"><a id="skill_link" href="../../../SiteIndex/index.html?skills=Beginner">Beginner</a></div>
																	</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>												<div class="tip" id="notice" style="display:none;">
欢迎回来！要回到您上次离开的地方吗？
<div class="button-container">
<a href="javascript:void();" id="goButton" class="btn btn-lrg btn-default action">前往</a>
<a href="javascript:void();" id="cancelButton" class="btn btn-lrg btn-default">取消</a>
</div>
</div>																								<div id="courses">
	<div style="position:relative;">
		<div id="title">相关课程</div>
		<div id="pageList">
			<ul>
								<li>
					<div name="your-first-hour-with-unreal-engine" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/your-first-hour-with-unreal-engine">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/your-first-hour-with-unreal-engine/117-Your-First-Hour-In-Unreal-Engine-(1200x675)-1200x675-3ba0c73d60c867b2040a2e3fcbb057c40313d515.224f86?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/your-first-hour-with-unreal-engine/000-Spending-Your-First-Hour-in-Unreal-Engine%402x-1000x1000-257a32336fe426ebef81c31d8cba78473ac56645.23fe4?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="your-first-hour-with-unreal-engine_title">
				Your First Hour with Unreal Engine
			</div>
		</div>
	</a> 
</div>				</li>
								<li>
					<div name="introducing-unreal-engine" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/introducing-unreal-engine">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_4/Unreal%20Engine/onlinelearning-courses/introducing-unreal-engine/103_EditorBasics(1200x675)-1200x675-d1f9bfdcf224e37c9fe8c8f26b1ede1d22366103.254f86.del?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_4/Unreal%20Engine/onlinelearning-courses/introducing-unreal-engine/Introducing-Unreal-Engine-1000x1000-510d02d0754bb60deb7807c0fa45b23b1cf7ba02.27fe4b.del?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="introducing-unreal-engine_title">
				Introducing Unreal Engine
			</div>
		</div>
	</a> 
</div>				</li>
								<li>
					<div name="unreal-engine-editor-fundamentals---editor-introduction" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/unreal-engine-editor-fundamentals---editor-introduction">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_4/Unreal%20Engine/onlinelearning-courses/ue-editor-fundamentals---editor-introduction/118_1_Thumbnail_1920x1080-1920x1080-3a70b05e12f65bc5c12fa8391d697da9?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/ue-editor-fundamentals---editor-introduction/118.1-UE-Editor-Fundamentals_-Editor-Introduction%402x-1000x1000-10141e3ca4902e37c2031a4509686aa5?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="unreal-engine-editor-fundamentals---editor-introduction_title">
				Unreal Engine Editor Fundamentals
			</div>
		</div>
	</a> 
</div>				</li>
							</ul>
		</div>
	</div>
</div>
																		<div class="prereq">
    <div class="normaltitle">
        前置主题
    </div>
    <p style="margin-bottom:8px;">
        为了理解并使用本文中的内容，请确保您已掌握以下主题：
    </p>
    <ul style="margin-bottom:0.5em;">
                <li>
            <p>
                <a href="../../../Basics/InstallingUnrealEngine/index.html" title="介绍虚幻引擎的安装步骤">安装虚幻引擎</a>
            </p>
        </li>
                <li>
            <p>
                <a href="../../../Basics/ContentBrowser/UI/index.html" title="介绍内容浏览器界面的布局和作用。">内容浏览器UI</a>
            </p>
        </li>
                <li>
            <p>
                <a href="../../../ProductionPipelines/DevelopmentSetup/VisualStudioSetup/index.html" title="设置Visual Studio以使用虚幻引擎4的提示、技巧和技术">设置虚幻引擎的Visual Studio</a>
            </p>
        </li>
            </ul>
</div>
																		<div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#1.必要设置">1. 必要设置</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#2.创建新c++类">2. 创建新C++类</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#3.编辑c++类">3. 编辑C++类</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#4.编译和测试c++代码">4. 编译和测试C++代码</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#5.最终结果">5. 最终结果</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#6.自己动手操作！">6. 自己动手操作！</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#范例代码">范例代码</a></p>
	</li>		    	        </ul>
</div>
</div>
</div>
<p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/ProgrammingQuickStartTopic.jpg">
		<img class="  lazyload" alt="ProgrammingQuickStartTopic.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/ProgrammingQuickStartTopic.jpg" />
</picture>

</p><p>在本快速入门指南中，你将学到如何在虚幻引擎中设置C++项目及在Visual Studio中编写首个C++ gameplay类。学完本教程后将了解如何进行下列操作：
</p><ul ><li class="Default"><p>创建新的C++项目
</p></li><li class="Default"><p>用C++创建新的Actor类
</p></li><li class="Default"><p>在开发环境中编辑该C++类，添加可视化展示和功能
</p></li><li class="Default"><p>编译项目
</p></li><li class="Default"><p>在虚幻编辑器中测试新Actor
</p></li></ul><!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content OS windows active_button_content">
    <div class="container">
        <p>本指南假定已将Visual Studio设为编程环境。如未设置，请参见<a id="content_link"filter-data="tag_visual_studio" href="../../../ProductionPipelines/DevelopmentSetup/VisualStudioSetup/index.html" ><span>为虚幻引擎设置Visual Studio</span></a>了解Visual Studio安装和设置说明，以便将其用于虚幻引擎编程。我们还假定你在开始学习本指南前对使用 <strong>虚幻编辑器</strong> 有一定了解，但为方便起见，我们将逐一介绍从编辑器创建和管理C++类的所有必要步骤。本指南的最终产物将是一个
在半空中轻盈地漂浮并不断旋转的立方体，让你在学习使用开发环境进行编程时拥有一个用来测试的简单对象。</p>
    </div>
</div><!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content OS mac active_button_content">
    <div class="container">
        <p>本指南假定已将XCode设为编程环境。我们还假定你在开始学习本指南前对使用 <strong>虚幻编辑器</strong> 有一定了解，但为方便起见，我们将逐一介绍从编辑器创建和管理C++类的所有必要步骤。本指南的最终产物将是一个
在半空中轻盈地漂浮并不断旋转的立方体，让你在学习使用开发环境进行编程时拥有一个用来测试的简单对象。</p>
    </div>
</div><h2 id="1.必要设置">1. 必要设置</h2>
<p>启动 <strong>虚幻编辑器</strong>。在 <strong>项目浏览器</strong> 窗口弹出后，点击 <strong>游戏</strong> 分类并选择 <strong>空白</strong> 模板。确保已启用了 <strong>C++</strong> 和 <strong>初学者内容包</strong>，选择项目的 <strong>保存位置（Save Location）</strong> 和 <strong>名称</strong>，然后点击 <strong>创建项目（Create Project）</strong>。在本示例中，我们将项目命名为QuickStart。
</p><!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content OS windows active_button_content">
    <div class="container">
        <p>此操作将自动创建简单的空白项目，在解决方案中只有基本C++代码，而且其会自动在虚幻编辑器及Visual Studio中打开。欲了解管理和创建项目的更多信息，请参见<a id="content_link"filter-data="tag_project tag_projects tag_create_new" href="../../../Basics/Projects/Browser/index.html" ><span>项目浏览器</span></a>页面。</p>
    </div>
</div><!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content OS mac active_button_content">
    <div class="container">
        <p>此操作将自动创建简单的空白项目，在解决方案中只有基本C++代码，而且其会自动在虚幻编辑器及XCode中打开。欲了解管理和创建项目的更多信息，请参见<a id="content_link"filter-data="tag_project tag_projects tag_create_new" href="../../../Basics/Projects/Browser/index.html" ><span>项目浏览器</span></a>页面。</p>
    </div>
</div><div class="tip">
	<p>任何蓝图项目均可转换为C++项目。如要对蓝图项目添加C++，请按下一节的说明创建新的C++类，编辑器将设置代码环境。 
另外请注意，使用C++项目并不会妨碍使用蓝图。C++项目不过是使用C++代替蓝图来设置项目的基本类。</p>
</div><h2 id="2.创建新c++类">2. 创建新C++类</h2>
<ol ><li class="Default"><p>在 <strong>虚幻编辑器</strong> 中，点击 <strong>文件（File）</strong> 下拉菜单，然后选择 <strong>新建C++类...（New C++ Class...）</strong> 命令。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_2-1.png" ><span><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_2-1.jpg">
		<img class="  lazyload" alt="选择父类" height="720" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_2-1.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>点击查看大图。</p>
</div></li><li class="Default"><p>此时将显示 <strong>选择父类（Choose Parent Class）</strong> 菜单。可以选择要扩展的现有类，将其功能添加到自己的类。选择 <strong>Actor</strong>，因为其是可在场景中放置的最基本对象类型，然后点击 <strong>下一步（Next）</strong>。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_2-2.png" ><span><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_2-2.jpg">
		<img class="  lazyload" alt="选择父类" width="1100" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_2-2.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>点击查看大图。</p>
</div></li><li class="Default"><p>在 <strong>为新Actor命名（Name Your New Actor）</strong> 菜单中，将Actor命名为 <strong>FloatingActor</strong>，然后点击 <strong>创建类（Create Class）</strong>。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_2-3.png" ><span><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_2-3.jpg">
		<img class="  lazyload" alt="命名新类" width="1100" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_2-3.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>点击查看大图。</p>
</div><p>在内容浏览器中选中新类后，虚幻引擎将会自动编译并重新加载它，编程环境也将随 <code>FloatingActor.cpp</code> 自动打开。
</p></li></ol><h2 id="3.编辑c++类">3. 编辑C++类</h2>
<!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content OS windows active_button_content">
    <div class="container">
        <p>现在我们已创建C++类，将切换到Visual Studio并编辑代码。
</p><ol ><li class="Default"><p>在 <strong>Visual Studio</strong> 中，找到默认情况下显示在窗口左侧的 <strong>解决方案浏览器</strong>，然后用其找到 <code>FloatingActor.h</code>。在项目中，它将位于 <strong>Games> QuickStart > Source > QuickStart</strong> 下。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_3-1.jpg">
		<img class="  lazyload" alt="解决方案浏览器" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_3-1.jpg" />
</picture>

</p></li><li class="Default"><p>双击 <code>FloatingActor.h</code> 打开它，并在文本编辑器中将它放到前台。
</p><p> <picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_3-2.jpg">
		<img class="  lazyload" alt="打开标头文件" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_3-2.jpg" />
</picture>

</p><p>此为 <em>标头</em> 文件。可以将它视作C++类的目录之类的东西。
要开始编译任何新功能，必须首先声明在此文件中使用的所有新 <strong>变量</strong> 或 <strong>函数</strong>。
</p></li><li class="Default"><p>在 <strong>AFloatingActor()</strong> 的声明下面添加下列代码：
</p><pre class="prettyprint"><code>UPROPERTY(VisibleAnywhere)
UStaticMeshComponent&#42; VisualMesh;</code></pre>
<p>这里声明的是 <strong>StaticMeshComponent</strong>，它将担当对象的视觉表示。请注意，它使用 <strong>UProperty</strong> 宏，这使它在虚幻编辑器中可见。 
欲了解UProperty及其说明符的更多信息，请参见<a id="content_link"filter-data="tag_variable tag_uproperty tag_uenum tag_enum tag_bitmask tag_bitfield" href="../../GameplayArchitecture/Properties/index.html" ><span>属性</span></a>页面。
</p></li><li class="Default"><p>现在打开 <code>FloatingActor.cpp</code>，在 <strong>AFloatingActor::AFloatingActor()</strong> 中将下列代码添加到右大括号前：
</p><pre class="prettyprint"><code>VisualMesh = CreateDefaultSubobject&lt;UStaticMeshComponent&gt;(TEXT("Mesh"));
VisualMesh-&gt;SetupAttachment(RootComponent);

static ConstructorHelpers::FObjectFinder&lt;UStaticMesh&gt; CubeVisualAsset(TEXT("/Game/StarterContent/Shapes/Shape&#95;Cube.Shape&#95;Cube"));

if (CubeVisualAsset.Succeeded())
{
    VisualMesh-&gt;SetStaticMesh(CubeVisualAsset.Object);
    VisualMesh-&gt;SetRelativeLocation(FVector(0.0f, 0.0f, 0.0f));
}</code></pre>
<p>此函数是 <em>构造函数</em>，它在类首次创建时告诉该类如何初始化自身。我们添加的代码将会在VisualMesh引用中填充新的StaticMeshComponent、 
将它附加到Actor，并将它设为 <strong>初学者内容包</strong> 资源中的立方体模型。欲了解在代码中附加组件的更多信息，请参见<a id="content_link"filter-data="tag_quickstart tag_programming tag_collision tag_component tag_pawn" href="../CPPTutorials/Components/index.html" ><span>创建和附加组件</span></a>的指南。
</p></li><li class="Default"><p>在 <strong>AFloatingActor::Tick(float DeltaTime)</strong> 中将下列代码添加到右大括号前：
</p><pre class="prettyprint"><code>FVector NewLocation = GetActorLocation();
FRotator NewRotation = GetActorRotation();
float RunningTime = GetGameTimeSinceCreation();
float DeltaHeight = (FMath::Sin(RunningTime + DeltaTime) - FMath::Sin(RunningTime));
NewLocation.Z += DeltaHeight &#42; 20.0f;       //Scale our height by a factor of 20
float DeltaRotation = DeltaTime &#42; 20.0f;    //Rotate by 20 degrees per second
NewRotation.Yaw += DeltaRotation;
SetActorLocationAndRotation(NewLocation, NewRotation);</code></pre>
<p>我们在 <strong>Tick</strong> 函数中添加要实时执行的代码。在此例中，它将使立方体在上下浮动的同时旋转。 
欲了解对Actor进行Tick的更多信息，请参见<a id="content_link" href="../UnrealArchitecture/Actors/Ticking/index.html" ><span>对Actor进行Tick</span></a>。
</p></li></ol>
    </div>
</div><!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content OS mac active_button_content">
    <div class="container">
        <p>现在我们已创建C++类，将切换到XCode并编辑代码。
</p><ol ><li class="Default"><p>在 <strong>XCode</strong> 中，找到默认情况下显示在窗口左侧的 <strong>项目导航器</strong>，然后用其找到 <code>FloatingActor.h</code>。在项目中，它将位于 <strong>Games> QuickStart > Source > QuickStart</strong> 下。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_Mac_3-1.jpg">
		<img class="  lazyload" alt="解决方案浏览器" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_Mac_3-1.jpg" />
</picture>

</p></li><li class="Default"><p>双击 <code>FloatingActor.h</code> 将其打开，并在文本编辑器中将它放到前台。此为 <em>标头</em> 文件。可以将它视作C++类的目录。
要开始编译任何新功能，必须首先声明在此文件中使用的所有新 <strong>变量</strong> 或 <strong>函数</strong>。
</p></li></ol><ol ><li class="Default"><p>在 <strong>AFloatingActor()</strong> 的声明下面添加下列代码：
</p><pre class="prettyprint"><code>UPROPERTY(VisibleAnywhere)
UStaticMeshComponent&#42; VisualMesh;</code></pre>
<p>这里声明的是 <strong>StaticMeshComponent</strong>，它将担当对象的视觉表示。请注意，它使用 <strong>UProperty</strong> 宏，这使它在虚幻编辑器中可见。 
欲了解UProperty及其说明符的更多信息，请参见<a id="content_link"filter-data="tag_variable tag_uproperty tag_uenum tag_enum tag_bitmask tag_bitfield" href="../../GameplayArchitecture/Properties/index.html" ><span>属性</span></a>页面。
</p></li><li class="Default"><p>现在打开 <code>FloatingActor.cpp</code>，在 <strong>AFloatingActor::AFloatingActor()</strong> 中将下列代码添加到右大括号前：
</p><pre class="prettyprint"><code>VisualMesh = CreateDefaultSubobject&lt;UStaticMeshComponent&gt;(TEXT("Mesh"));
VisualMesh-&gt;SetupAttachment(RootComponent);

static ConstructorHelpers::FObjectFinder&lt;UStaticMesh&gt; CubeVisualAsset(TEXT("/Game/StarterContent/Shapes/Shape&#95;Cube.Shape&#95;Cube"));

if (CubeVisualAsset.Succeeded())
{
    VisualMesh-&gt;SetStaticMesh(CubeVisualAsset.Object);
    VisualMesh-&gt;SetRelativeLocation(FVector(0.0f, 0.0f, 0.0f));
}</code></pre>
<p>此函数是 <em>构造函数</em>，它在类首次创建时告诉该类如何初始化自身。我们添加的代码将会在VisualMesh引用中填充新的StaticMeshComponent、 
将它附加到Actor，并将它设为 <strong>初学者内容包</strong> 资源中的立方体模型。欲了解在代码中附加组件的更多信息，请参见<a id="content_link"filter-data="tag_quickstart tag_programming tag_collision tag_component tag_pawn" href="../CPPTutorials/Components/index.html" ><span>创建和附加组件</span></a>的指南。
</p></li><li class="Default"><p>在 <strong>AFloatingActor::Tick(float DeltaTime)</strong> 中将下列代码添加到右大括号前：
</p><pre class="prettyprint"><code>FVector NewLocation = GetActorLocation();
FRotator NewRotation = GetActorRotation();
float RunningTime = GetGameTimeSinceCreation();
float DeltaHeight = (FMath::Sin(RunningTime + DeltaTime) - FMath::Sin(RunningTime));
NewLocation.Z += DeltaHeight &#42; 20.0f;       //Scale our height by a factor of 20
float DeltaRotation = DeltaTime &#42; 20.0f;    //Rotate by 20 degrees per second
NewRotation.Yaw += DeltaRotation;
SetActorLocationAndRotation(NewLocation, NewRotation);</code></pre>
<p>我们在 <strong>Tick</strong> 函数中添加要实时执行的代码。在此例中，它将使立方体在上下浮动的同时旋转。 
欲了解对Actor进行Tick的更多信息，请参见<a id="content_link" href="../UnrealArchitecture/Actors/Ticking/index.html" ><span>对Actor进行Tick</span></a>。
</p></li></ol>
    </div>
</div><h2 id="4.编译和测试c++代码">4. 编译和测试C++代码</h2>
<!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content OS windows active_button_content">
    <div class="container">
        <ol ><li class="Default"><p><strong>保存</strong> 在 <code>FloatingActor.h</code> 以及 <code>FloatingActor.cpp</code> 中的工作成果。然后在 <strong>解决方案浏览器</strong> 中右键点击项目，点击快捷菜单中的 <strong>编译（Build）</strong> 命令，然后等待项目完成编译。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-1.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-1.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-1.jpg" />
</picture>

</p><p>应会在窗口底部的 <strong>输出</strong> 日志中看到一条显示"已成功（Succeeded）"的消息。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-2.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-2.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-2.jpg" />
</picture>

</p><p>或者，可以回到 <strong>虚幻编辑器</strong>，点击屏幕顶部工具栏中的 <strong>编译（Compile）</strong> 按钮。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-3.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-3.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-3.jpg" />
</picture>

</p><div class="note">
	<p>一定要在尝试编译前保存工作，否则在代码中做的更改将不会生效。</p>
</div></li><li class="Default"><p>在 <strong>虚幻编辑器</strong> 中，转到 <strong>内容浏览器</strong>，展开 <strong>C++类（C++ Classes）</strong>，然后找到 <strong>FloatingActor</strong>。它将位于与项目同名的文件夹中，在范例中是QuickStart。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-4.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-4.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-4.jpg" />
</picture>

</p></li><li class="Default"><p>点击 <strong>FloatingActor</strong> 并将它拖进 <strong>透视视口</strong> 来创建FloatingActor的实例。它将在 <strong>世界大纲视图</strong> 中作为"FloatingActor1"处于被选中状态，它的属性将显示在 <strong>细节（Details）</strong> 面板中。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-5.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-5.png" width="900" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-5.jpg" />
</picture>

</p><p>欲了解在视口中导航和在世界场景中放置Actor的信息，请参见<a id="content_link" href="../../../BuildingWorlds/LDQuickStart/index.html" ><span>关卡设计器快速入门</span></a>。
</p></li><li class="Default"><p>在 <strong>FloatingActor1</strong> 的 <strong>细节（Details）</strong> 面板中，将Actor的 <strong>位置（Location）</strong>设置为（-180、0、180）。此操作会将其放置在默认场景中桌子的正上方。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-6.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-6.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-6.jpg" />
</picture>

</p><p>或者也可使用移动小工具手动将其移到该处。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-7.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-7.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-7.jpg" />
</picture>

</p></li><li class="Default"><p>按屏幕顶部的 <strong>在编辑器中运行（Play In Editor）</strong> 按钮。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-8.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-8.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-8.jpg" />
</picture>

</p></li></ol>
    </div>
</div><!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content OS mac active_button_content">
    <div class="container">
        <ol ><li class="Default"><p><strong>保存</strong> 在 <code>FloatingActor.h</code> 及 <code>FloatingActor.cpp</code> 中的工作成果。然后点击屏幕顶部的 <strong>产品（Product）</strong> 下拉菜单，选择 <strong>编译（Build）</strong> 命令，等待项目完成编译。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_Mac_4-1.jpg">
		<img class="  lazyload" alt="PRQuickStart_Mac_4-1.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_Mac_4-1.jpg" />
</picture>

</p><p>应会在窗口底部的 <strong>输出</strong> 日志中看到一条显示"成功（Succeeded）"的消息。或者，可以回到 <strong>虚幻编辑器</strong>，点击屏幕顶部工具栏中的 <strong>编译（Compile）</strong> 按钮。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-3.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-3.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-3.jpg" />
</picture>

</p><div class="note">
	<p>一定要在尝试编译前保存工作，否则在代码中做的更改将不会生效。</p>
</div></li><li class="Default"><p>在 <strong>虚幻编辑器</strong> 中，转到 <strong>内容浏览器</strong>，展开 <strong>C++类（C++ Classes）</strong>，然后找到 <strong>FloatingActor</strong>。它将位于与项目同名的文件夹中，在范例中是QuickStart。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-4.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-4.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-4.jpg" />
</picture>

</p></li><li class="Default"><p>点击 <strong>FloatingActor</strong> 并将它拖进 <strong>透视视口</strong> 来创建FloatingActor的实例。它将在 <strong>世界大纲视图</strong> 中作为"FloatingActor1"处于被选中状态，它的属性将显示在 <strong>细节（Details）</strong> 面板中。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-5.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-5.png" width="900" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-5.jpg" />
</picture>

</p><p>欲了解在视口中导航和在世界场景中放置Actor的信息，请参见<a id="content_link" href="../../../BuildingWorlds/LDQuickStart/index.html" ><span>关卡设计器快速入门</span></a>。
</p></li><li class="Default"><p>在 <strong>FloatingActor1</strong> 的 <strong>细节（Details）</strong> 面板中，将Actor的 <strong>位置（Location）</strong>设置为（-180、0、180）。此操作会将其放置在默认场景中桌子的正上方。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-6.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-6.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-6.jpg" />
</picture>

</p><p>或者也可使用移动小工具手动将其移到该处。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-7.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-7.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-7.jpg" />
</picture>

</p></li><li class="Default"><p>按屏幕顶部的 <strong>在编辑器中运行（Play In Editor）</strong> 按钮。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-8.jpg">
		<img class="  lazyload" alt="PRQuickStart_4-8.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_4-8.jpg" />
</picture>

</p></li></ol>
    </div>
</div><h2 id="5.最终结果">5. 最终结果</h2>
<p>此时应看到立方体在桌子上方轻盈地上下漂浮，同时缓慢旋转。 
</p><!--
videoid:paramliteral
width:paramliteral
height:paramliteral
units:paramliteral
type:paramliteral
start:paramliteral
service:paramliteral
-->
<style type="text/css">
#player_1_249vamor_756
{
	margin: 0px;
	width: 75%;
	display: inline-block;
	position: relative;
	overflow: hidden;
}
#player_1_249vamor_756:after
{
	content: "";
	padding-top: 56.25%;
	display: block;
}
</style> 
<div id="player_1_249vamor_756"> 
	<div id="playerContainer_1_249vamor_756" style="position:absolute;top:0;left: 0;right: 0;bottom:0;border:solid thin black;">
		<iframe width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen="" src="https://dev.epicgames.com/community/api/cms/videos/1_249vamor/embed.html"></iframe>
	</div>
</div>
<p>祝贺你！你已经完全用C++创建了首个Actor类。虽然它只能表示非常简单的对象，这也只是C++源代码所能实现的最简单功能， 
但你目前已经了解了创建、编辑和编译游戏C++代码的所有基础知识。现在可以迎接更复杂的gameplay编程挑战啦，建议你进行以下操作。
</p><h2 id="6.自己动手操作！">6. 自己动手操作！</h2>
<p>了解如何构建简单的C++ Actor之后，请尝试提高它的可配置性。例如添加变量来控制它的行为：
</p><p>在 <strong>FloatingActor.h</strong> 中：</p><pre class="prettyprint"><code>...
public: 
    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category="FloatingActor")
    float FloatSpeed = 20.0f;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category="FloatingActor")
    float RotationSpeed = 20.0f;
...</code></pre>
<p>在 <strong>FloatingActor.cpp</strong> 中：</p><pre class="prettyprint"><code>...
NewLocation.Z += DeltaHeight &#42; FloatSpeed;          //按FloatSpeed调整高度
float DeltaRotation = DeltaTime &#42; RotationSpeed;    //每秒旋转等于RotationSpeed的角度
...</code></pre>
<p>通过在标头文件中添加这些变量，并替换在.cpp中用于缩放DeltaHeight和DeltaRotation的浮点值，可在选择Actor时在 <strong>细节（Details）</strong> 面板中编辑浮动和旋转速度。 
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_6-1.jpg">
		<img class="  lazyload" alt="PRQuickStart_6-1.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_6-1.jpg" />
</picture>

</p><p>可以尝试使用位置、旋转和比例向Tick函数添加其他类型的行为。
</p><p>也可尝试在C++中附加其他类型的组件来创建更复杂的对象。请参见<a id="content_link"filter-data="tag_quickstart tag_programming tag_collision tag_component tag_pawn" href="../CPPTutorials/Components/index.html" ><span>创建和附加组件</span></a>指南来了解可使用的不同类型组件的范例， 
并尝试添加粒子系统组件来为你的浮动对象增添一点光辉。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_6-2.jpg">
		<img class="  lazyload" alt="PRQuickStart_6-2.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_6-2.jpg" />
</picture>

</p><p>最后，如在 <strong>内容浏览器</strong> 中右键点击自己的Actor类，将看到在C++或蓝图中扩展它的选项，可以用来创建它的新变体。
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_6-3.jpg">
		<img class="  lazyload" alt="PRQuickStart_6-3.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_6-3.jpg" />
</picture>

</p><p>可以建立FloatingActor的一整个库，其中每个都代表选择的不同网格体或参数。 
</p><p><picture>
		<source data-srcset="./../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_6-4.jpg">
		<img class="  lazyload" alt="PRQuickStart_6-4.png" data-src="../../../../Images/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/PRQuickStart_6-4.jpg" />
</picture>

</p><h2 id="范例代码">范例代码</h2>
<p><strong>FloatingActor.h</strong></p><pre class="prettyprint"><code>// 版权所有 1998-2019 Epic Games, Inc。保留所有权利。

#pragma once

#include "CoreMinimal.h"
#include "GameFramework/Actor.h"
#include "FloatingActor.generated.h"

UCLASS()
class QUICKSTART&#95;API AFloatingActor : public AActor
{
    GENERATED&#95;BODY()

public: 
    // 设置此Actor属性的默认值
    AFloatingActor();

    UPROPERTY(VisibleAnywhere)
    UStaticMeshComponent&#42; VisualMesh;

protected:
    // 游戏开始时或生成时调用
    virtual void BeginPlay() override;

public: 
    // 逐帧调用
    virtual void Tick(float DeltaTime) override;

};</code></pre>
<p><strong>FloatingActor.cpp</strong></p><pre class="prettyprint"><code>// 版权所有 1998-2019 Epic Games, Inc。保留所有权利。

#include "FloatingActor.h"

// 设置默认值
AFloatingActor::AFloatingActor()
{
    // 将此Actor设为逐帧调用Tick()。如无需此功能，可关闭以提高性能。
    PrimaryActorTick.bCanEverTick = true;

    VisualMesh = CreateDefaultSubobject&lt;UStaticMeshComponent&gt;(TEXT("Mesh"));
    VisualMesh-&gt;SetupAttachment(RootComponent);

    static ConstructorHelpers::FObjectFinder&lt;UStaticMesh&gt; CubeVisualAsset(TEXT("/Game/StarterContent/Shapes/Shape&#95;Cube.Shape&#95;Cube"));

    if (CubeVisualAsset.Succeeded())
    {
        VisualMesh-&gt;SetStaticMesh(CubeVisualAsset.Object);
        VisualMesh-&gt;SetRelativeLocation(FVector(0.0f, 0.0f, 0.0f));
    }
}

// 游戏开始时或生成时调用
void AFloatingActor::BeginPlay()
{
    Super::BeginPlay();

}

// 逐帧调用
void AFloatingActor::Tick(float DeltaTime)
{
    Super::Tick(DeltaTime);

    FVector NewLocation = GetActorLocation();
    FRotator NewRotation = GetActorRotation();
    float RunningTime = GetGameTimeSinceCreation();
    float DeltaHeight = (FMath::Sin(RunningTime + DeltaTime) - FMath::Sin(RunningTime));
    NewLocation.Z += DeltaHeight &#42; 20.0f;       //Scale our height by a factor of 20
    float DeltaRotation = DeltaTime &#42; 20.0f;    //Rotate by 20 degrees per second
    NewRotation.Yaw += DeltaRotation;
    SetActorLocationAndRotation(NewLocation, NewRotation);
}</code></pre>

																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="pageTags">
				<div class="title">标签</div>
					<div>
					<div class="keyword_tag_filter"><a id="tag_link" href="../../../SiteIndex/index.html?tags=Programming">Programming</a></div>
<div class="keyword_tag_filter"><a id="tag_link" href="../../../SiteIndex/index.html?tags=C++">C++</a></div>
					</div>
				</div>
								<div id="recommendations"></div>			</div>
						  									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/ProgrammingAndScripting/ProgrammingWithCPP/CPPProgrammingQuickStart/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 10:42:54 GMT -->
</html>
