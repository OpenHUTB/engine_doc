<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/ProductionPipelines/DeployingTheEngine/UnrealGameSync/Reference/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:40:53 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/ProductionPipelines/DeployingTheEngine/UnrealGameSync/Reference/" />');
				var udnCSS = '../../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>UGS参考 | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/informational.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/ProductionPipelines/DeployingTheEngine/UnrealGameSync/Reference/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/ProductionPipelines/DeployingTheEngine/UnrealGameSync/Reference/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/ProductionPipelines/DeployingTheEngine/UnrealGameSync/Reference/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/ProductionPipelines/DeployingTheEngine/UnrealGameSync/Reference/" hreflang="ko" />

	<meta name="redirect" content="Programming/Deployment/UnrealGameSync/Reference" />
<meta name="intsourcechangelist" content="10084440" />
<meta name="availability" content="Public" />
<meta name="title" content="UGS参考" />
<meta name="description" content="本页面将讲解配置UGS并部署为工作室的方法。" />
<meta name="type" content="reference" />
<meta name="version" content="4.23" />
<meta name="parent" content="ProductionPipelines/DeployingTheEngine/UnrealGameSync" />
<meta name="order" content="2" />
<meta name="keywords" content="UnrealGameSync" />
<meta name="crumbs" content="%ROOT%,ProductionPipelines,ProductionPipelines/DeployingTheEngine,ProductionPipelines/DeployingTheEngine/UnrealGameSync" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="UGS参考" />
	<meta property="og:description" content="本页面将讲解配置UGS并部署为工作室的方法。" />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">
			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">

	<span class="separator">></span> <a id="parent_link" href="../../../index.html">建立你的开发流程</a>

	<span class="separator">></span> <a id="parent_link" href="../../index.html">部署引擎</a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">UnrealGameSync (UGS)</a>

<span class="separator">></span> <span id="page">UGS参考</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">
			<div id="nav-filter-container">
				<div id="nav-filter-inner">
					<form>
						<input type="text" placeholder="Filter pages..." id="nav-filter" onchange="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, this.value);if(this.value.length == 0){$('#filter-clear').hide();}else{$('#filter-clear').show();}" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();" />
						<button class="close-icon" id="filter-clear" type="reset" onclick="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, '');$(this).hide();"></button>
					</form>
				</div>
			</div>
			<nav id="navPanel">
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">UGS参考</h1>
							</div>	
							<h2 >本页面将讲解配置UGS并部署为工作室的方法。</h2>
							<div id="access">
								<div class="accessContainer">
																																			</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>																																				<div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#朝向">朝向</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#配置">配置</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#自动更新">自动更新</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#设置元数据服务">设置元数据服务</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#设置mysql后端">设置MySql后端</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#故障诊断">故障诊断</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#禁用only_full_group_by">禁用ONLY_FULL_GROUP_BY</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#方法1：运行命令">方法1：运行命令</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#方法2：修改选项文件">方法2：修改选项文件</a></p>
	</li>					</ul>
	</li>					</ul>
	</li>					</ul>
	</li>							<li id="">
	<p><a id="toc_link" href="#设置元数据服务_1">设置元数据服务</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#与编译进程集成">与编译进程集成</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#徽章">徽章</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#postbadgestatus">PostBadgeStatus</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#项目的自定义化">项目的自定义化</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#品牌">品牌</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#项目配置文件">项目配置文件</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#预编译二进制">预编译二进制</a></p>
	</li>					</ul>
	</li>		    	        </ul>
</div>
</div>
</div>
<p>本页面将讲解配置 <strong>UnrealGameSync (UGS)</strong> 并部署为工作室的方法。
</p><h2 id="朝向">朝向</h2>
<p>UnrealGameSync的源代码位于 <code>Engine/Source/Programs/UnrealGameSync</code> 下面。 
</p><p>UnrealGameSync解决方案包含以下项目： 
</p><div class="simpletable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>项目</p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>描述</p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>UnrealGameSync</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>主程序。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>UnrealGameSyncLauncher</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>UGS的启动程序，会在有新版本时自动更新主程序的可执行文件。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>MetadataServer</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>REST API，随UGS一起部署以启用其完整功能集，包括评论编译，对编译健康投票和标记较差编译，以及显示PostBadgeStatus提交的CIS结果。<div class="note">
	<p>元数据服务器必须部署到装有IIS 7.0或更高版本和.NET 4.6.2的Windows服务器上。</p>
</div></p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>Installer</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>UnrealGameSyncLauncher的MSI安装程序。此通常用于在开发机器上安装启动程序，可根据Perforce自动更新和运行程序。<div class="note">
	<p>需要Wix 3.8进行编译。</p>
</div></p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>PostBadgeStatus</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将编译结果推到MetadataServer实例的实用程序。</p>
			</td>
	
</tr></tbody>
</table>
</div><h2 id="配置">配置</h2>
<p>在 <code>Engine/Source/Programs/UnrealGameSync/UnrealGameSync/DeploymentSettings.cs</code> 中指定UGS的部署设置。可使用自己团队的设置修此文件，然后将其编译为分发的可执行文件中。 
</p><p>此类设置包括： 
</p><div class="simpletable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>设置</p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>描述</p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>ApiUrl</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>元数据服务的运行中实例的URL（见下文），此元数据服务用于向开发者显示信息。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>DefaultDepotPath</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>默认Perforce depot路径，UnrealGameSyncLauncher应从此路径同步UnrealGameSync可执行文件。<div class="note">
	<p>参阅下文了解该文件夹布局方式。</p>
</div></p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>bSendTelemetry</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>是否将编译时的遥测发布到元数据服务。</p>
			</td>
	
</tr></tbody>
</table>
</div><h2 id="自动更新">自动更新</h2>
<p>要在不同分支和项目的带外UGS上启用部署，通过自补丁机制来分发UGS，这种机制利用Perforce进行版本控制。 
</p><p>极少更新的启动程序应用使用Microsoft安装程序（MSI）软件包（"Installer"项目），手动安装在各开发者机器上。安装此程序会创建开始菜单图标，运行后会根据Perforce同步最新的UGS可执行文件并运行此类文件。该路径受监控，如提交了新可执行文件，程序将重新启动并重新同步。 
</p><p>同步此类文件无需工作空间；以无状态方式从Perforce服务器获取。 
</p><div class="note">
	<p>编译安装程序需要Wix 3.8。</p>
</div><p>UnrealGameSyncLauncher用于更新应用程序的路径由 <code>DefaultDepotPath</code> 变量指定，通过 <code>DeploymentSettings.cs</code> 将此变量编译到应用程序中（上述链接）。该文件夹应如下布局（例如，DefaultDepotPath = "//depot/UnrealGameSync"）： 
</p><p><code>//depot/UnrealGameSync/</code><strong>Release/UnrealGameSync.exe</strong><br /><code>//depot/UnrealGameSync/</code><strong>Release/UnrealGameSync.exe.config</strong><br /><code>//depot/UnrealGameSync/</code><strong>Release/UnrealGameSync.pdb</strong><br /><code>//depot/UnrealGameSync/</code><strong>Release/Ionic.Zip.Reduced.dll</strong><br /></p><p><code>//depot/UnrealGameSync/</code><strong>UnstableRelease/UnrealGameSync.exe</strong><br /><code>//depot/UnrealGameSync/</code><strong>UnstableRelease/UnrealGameSync.exe.config</strong><br /><code>//depot/UnrealGameSync/</code><strong>UnstableRelease/UnrealGameSync.pdb</strong><br /><code>//depot/UnrealGameSync/</code><strong>UnstableRelease/Ionic.Zip.Reduced.dll</strong><br /></p><div class="note">
	<p>迁入两个UnrealGameSync的副本——一个位于"Release"文件夹下，另一个位于"UnstableRelease"文件夹下。</p>
</div><p>默认使用 <code>Release</code> 文件夹下的可执行文件，但通过UGS中的 <code>&#42;&#42;应用程序设置&#42;&#42; 对话框，或开始启动程序时长按shift键，使用 </code>UnstableRelease` 文件夹将测试版本分布到选择其的用户。 
</p><p>提交新可执行文件，即可推出UnrealGameSync的新版本。应用程序将轮询已提交变更的文件夹，找到变更时重新启动并重新同步二进制文件。 
</p><h2 id="设置元数据服务">设置元数据服务</h2>
<p>UGS可与网络服务通信，以在团队成员间共享信息。无需设置此项，其也可以运行，但将无法使用部分更强大的协作功能。 
</p><ul ><li class="Default"><p>显示编译结果并提供关于编译损坏的桌面通知。
</p></li><li class="Default"><p>用户可标记变更为好和差，并向其他团队成员表明其正在调查版本问题。 
</p></li><li class="Default"><p>显示哪些用户同步到哪些更改
</p></li></ul><p>元数据服务使用ASP.NET进行实现，需设置数据库后端的MySql实例。 
</p><div class="tip">
	<p>数据库进程（理想下）可使用所有机器资源，因此建议在不同机器上使用MetadataServer和数据库后端主持IIS实例——但此并非必需操作。</p>
</div><h3 id="设置mysql后端">设置MySql后端</h3>
<div class="note">
	<p>在继续下一步前，请注意最低版本要求为<a id="content_link" href="https://dev.mysql.com/doc/relnotes/mysql/8.0/en/" ><span>MySQL 8.0</span></a>。</p>
</div><p>要设置MySql后端，执行以下步骤： 
</p><ol ><li class="Default"><p>下载最新版本的MySql安装程序：<a id="content_link" href="https://dev.mysql.com/downloads/installer/" ><span>https://dev.mysql.com/downloads/installer/</span></a> 
</p></li><li class="Default"><p>在 <strong>选择设置类型</strong> 上，选择 <strong>仅限服务器（Server Only）</strong>。 
</p></li><li class="Default"><p>在 <strong>配置步骤（Configuration Steps）</strong> 中设置：<br /></p><p>1.<strong>高可用性（High Availability）</strong>：独立MySql服务器
1.<strong>类型和网络</strong>：如与上文中的IIS实例进行共享，则为 <strong>服务器计算机</strong>；如位于单独实例上，则为 <strong>专属服务器</strong>。所有TCP/IP配置和端口保留默认值。
1.<strong>验证方法（Authentication Method）</strong>：使用强密码加密
1.对于 <strong>帐户</strong> 和 <strong>角色</strong>：</p><pre class="prettyprint"><code>1.选择根用户名和密码。&#91;REGION:note&#93;此为数据库的主账户，因此不要丢密码。&#91;/REGION&#93;
1.添加另一用户作为服务帐户，IIS实例将使用此帐户进行连接。&#91;REGION:note&#93;不要使用根帐户。&#91;/REGION&#93;</code></pre>
<p>1.<strong>Windows服务</strong>（假设在Windows机器上安装）：可忽略此类选项。 
</p><div class="tip">
	<p>在本地工作站上安装MySql Workbench：<a id="content_link" href="https://dev.mysql.com/downloads/workbench/" ><span>https://dev.mysql.com/downloads/workbench/</span></a>.有了MySQL Workbench，不仅可查看和操纵数据库，还可执行备份和还原等管理任务。</p>
</div></li></ol><h4 id="故障诊断">故障诊断</h4>
<h5 id="禁用only_full_group_by">禁用ONLY_FULL_GROUP_BY</h5>
<p>如启用 <code>ONLY&#95;FULL&#95;GROUP&#95;BY</code> 函数，运行MySQL脚本时可能会遇到错误。此函数可通过运行命令（方法1）或修改MySQL选项文件（方法2）来禁用：
</p><h6 id="方法1：运行命令">方法1：运行命令</h6>
<p>从命令行启动MySQL服务器并运行：
</p><pre class="prettyprint"><code>mysql &gt; SET GLOBAL sql&#95;mode=(SELECT&#95;REPLACE(@@sql&#95;mode, 'ONLY&#95;FULL&#95;GROUP&#95;BY', ''));</code></pre>
<div class="note">
	<p>如Windows用户在从命令行运行MySQL服务器时遇到困难，请阅读MySQL 8.0 参考手册中的<a id="content_link" href="https://dev.mysql.com/doc/refman/8.0/en/windows-start-command-line.html" ><span>从Windows命令行开始MySQL（Starting MySQL from the Windows Command Line）</span></a>。</p>
</div><h6 id="方法2：修改选项文件">方法2：修改选项文件</h6>
<div class="note">
	<p><strong>必需：</strong>如不知如何使用MySQL选项文件，请阅读MySQL 8.0参考手册中的<a id="content_link" href="https://dev.mysql.com/doc/refman/8.0/en/option-files.html" ><span>使用选项文件（Using Option Files）</span></a>。</p>
</div><ol ><li class="Default"><p>找到并打开 <code>my.cnf</code> 选项文件。 
</p></li><li class="Default"><p>运行此查询来检查 <code>sql&#95;mode</code>：
</p><pre class="prettyprint"><code>SELECT @@sql&#95;mode;</code></pre></li><li class="Default"><p>查看查询结果，应类似于这些值： 
</p><pre class="prettyprint"><code>ONLY&#95;FULL&#95;GROUP&#95;BY,STRICT&#95;TRANS&#95;TABLES,NO&#95;ZERO&#95;IN&#95;DATE,NO&#95;ZERO&#95;DATE, ERROR&#95;FOR&#95;DIVISION&#95;BY&#95;ZERO,NO&#95;ENGINE&#95;SUBSTITUTION</code></pre></li><li class="Default"><p>编辑 <code>my.cnf</code>，输入下列 <code>sql&#95;mode</code> 语句（在[mysqld]下）以及上一步中的值：
</p><pre class="prettyprint"><code>sql&#95;mode=STRICT&#95;TRANS&#95;TABLES,NO&#95;ZERO&#95;IN&#95;DATE,NO&#95;ZERO&#95;DATE, ERROR&#95;FOR&#95;DIVISION&#95;BY&#95;ZERO,NO&#95;ENGINE&#95;SUBSTITUTION</code></pre>
<div class="note">
	<p>请注意，该语句不包含 <code>ONLY&#95;FULL&#95;GROUP&#95;BY</code> 值。</p>
</div></li><li class="Default"><p>重新启动MySQL服务器。
</p></li></ol><div class="note">
	<p>欲了解更多信息，请查看MySQL 8.0参考手册中的这些章节：
</p><ul ><li class="Default"><p>Server <a id="content_link" href="https://dev.mysql.com/doc/refman/8.0/en/sql-mode.html" ><span>SQL Modes</span></a>
</p></li><li class="Default"><p>MySQL <a id="content_link" href="https://dev.mysql.com/doc/refman/8.0/en/group-by-handling.html" ><span>Handling of GROUP BY</span></a>
</p></li></ul>
</div><h3 id="设置元数据服务_1">设置元数据服务</h3>
<p>要设置元数据服务，执行以下步骤： 
</p><ul ><li class="Default"><p>修改UGS可执行文件以设置ApiUrl
</p></li></ul><ol ><li class="Default"><p>确保已安装ASP.NET Web Publishing工具。可在Visual Studio安装目录中找到这个软件包。如不安装此软件包，编译项目将失败并提示"TransformXml task not found"错误。
</p></li><li class="Default"><p>项目不与 <code>web.config</code> 文件共同发布，而是与 <code>web.template.config.xml</code>。此文件根据 <code>.debug</code> 和 <code>.release</code> XML文件转变得来，可动态生成 <code>web.config</code>。建议将 <code>web.template.config</code> 迁入源控制，而非 <code>web.config</code>。
</p></li><li class="Default"><p>在 .<code>debug</code> 和 <code>.release</code> XML文件中，可通过"Connection String"属性指定保存MySql数据库的路径。此与标准MySql连接字符串类似： 
</p><pre class="prettyprint"><code>&lt;add name="ConnectionString" connectionString="server=localhost;UserId=service&#95;account&#95;username;password=service&#95;account&#95;password;" providerName="MySql.Data.Client"/&gt;</code></pre>
<div class="note">
	<p><code>serviceaccountusername</code> 和 <code>serviceaccountpassword</code> 是MySql设置进程中输入的帐户凭证。</p>
</div></li><li class="Default"><p>首次启动站点时会自动种入数据库。
</p></li></ol><p>要验证服务器是否已正确配置，在Web浏览器中打开 <code>servername.com/api/latest</code>。应可看到以下类似内容：
</p><pre class="prettyprint"><code>&lt;LatestData xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.datacontract.org/2004/07/MetadataServer.Models"&gt;
  &lt;LastBuildId&gt;0&lt;/LastBuildId&gt;
  &lt;LastCommentId&gt;0&lt;/LastCommentId&gt;
  &lt;LastEventId&gt;0&lt;/LastEventId&gt;
&lt;/LatestData&gt;</code></pre>
<div class="note">
	<p>要确保正确初始化数据库，无法创建或找到数据库时站点将终止。如部署站点并出现404错误，很可能是由该原因造成。检查连接字符串，如位于不同实例上，IIS实例能够与数据库通信。</p>
</div><h2 id="与编译进程集成">与编译进程集成</h2>
<h3 id="徽章">徽章</h3>
<p>通过提交的变更列表中显示的 <strong>徽章</strong>，UGS显示编译系统结果（以"正在"编译的通知）。如编译中断，则会上次成功后所有已提交的开发者显示通知。点击徽章可在Web浏览器中打开URL，其中包含编译日志。 
</p><p>该信息由元数据服务存储，使用PostBadgeStatus实用程序可向其添加条目。 
</p><h3 id="postbadgestatus">PostBadgeStatus</h3>
<p><code>PostBadgeStatus</code> 命令行语法如下： 
</p><pre class="prettyprint"><code>PostBadgeStatus.exe
    //（将出现在UGS中的徽章名称。）
  -Name=Editor
    //（正在编译的变更列表。）
  -Change=123456
    //（要显示徽章的项目。注意：此为文件夹路径，而非实际.uproject文件。）
  -Project=//UE4/Main/Samples/StarterContent
    //（部署UGSAPI的基本URI）
  -RestUrl="http://ugsapi-server.net"
    //（编译状态。有效值为"Starting"、"Failure"、"Warning"和"Success"。）
  -Status=Success
    //（如用户点击徽章，此为将用户导航到编译日志的链接。）
  -Url=http://link-to-build-log</code></pre>
<h2 id="项目的自定义化">项目的自定义化</h2>
<h3 id="品牌">品牌</h3>
<p>将 <code>Build\UnrealGameSync.png</code> 文件放置在包含项目的目录中，可添加要在UGS中显示的项目徽章。该图像将缩放到126像素高度。 
</p><div class="tip">
	<p>建议使用200x126像素尺寸。
</p><div class="raw">
	<p><picture>
		<source data-srcset="./../../../../../Images/ProductionPipelines/DeployingTheEngine/UnrealGameSync/Reference/BrandPxDim.jpg">
		<img class="  lazyload" alt="BrandPxDim.png" title="BrandPxDim.png" data-src="../../../../../Images/ProductionPipelines/DeployingTheEngine/UnrealGameSync/Reference/BrandPxDim.jpg" />
</picture>
</p>
</div><p><em>请随意下载该参考图片。</em></p>
</div><h3 id="项目配置文件">项目配置文件</h3>
<p>可使用项目特定配置文件自定义向用户显示项目的方法。项目配置文件应以 <ProjectDir>/Build/UnrealGameSync.ini 形式提交到Perforce。
</p><p>可用以下设置： 
</p><p>*UGS仅默认显示因项目源代码变更而编译失败的通知。如有应向提交内容的开发者显示的徽章，按照以下步骤将其加入白名单： 
</p><pre class="prettyprint"><code>    &#91;Notifications&#93;
    +ContentBadges=Content</code></pre>
<ul ><li class="Default"><p>如果向CL的描述列添加可点击按钮，点击相应按钮后，对CL描述运行正则表达式以将用户导航到URL。例如，以下用例将徽章添加到所有带有 <code>#jira</code> 标记的CL旁，并带有指向Jira中的对应问题的链接： 
</p><pre class="prettyprint"><code>&#91;Badges&#93;
+DescriptionBadges=(Pattern="(?i)#\\s&#42;jira\\s&#42;:?\\s+(&#91;A-Za-z&#93;+-&#91;0-9&#93;+)", Name="$1", Group="Jira", Color="#c0c0c0", HoverColor="#e0e0e0", Url="https://jira.it.yourcompany.net/browse/$1") </code></pre>
<p>本例中使用以下属性： 
</p><div class="simpletable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>属性</p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>描述</p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>Pattern</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>指定要匹配的正则表达式，其会采集部分匹配文本，可之后进行提交。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>Label</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>指定徽章上将显示标签。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>Group</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>指定任意辨识符，将相关徽章分组，而非使用空格进行分隔。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>Color</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>指定徽章的十六进制RGB值。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>HoverColor</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>指定悬停徽章时的十六进制RGB值。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>Url</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>指定点击徽章时使用C# Process.Open调用打开的路径。</p>
			</td>
	
</tr></tbody>
</table>
</div></li><li class="Default"><p>添加"Message of the day"及相对特定分支的状态面板颜色： 
</p><pre class="prettyprint"><code>&#91;//UE4/Main/Samples/Games/ShooterGame/ShooterGame.uproject&#93;
Message=:alert:Lock-down for fixes is &#42;&#42;5 pm on Friday&#42;&#42;.仅将1.2.3发布的修复提交到该分支。自1/23后还剩余123问题.
StatusPanelColor=#e20000

使用StatusPanelColor选项，可轻松辨识流送。此外，使用消息选项时，支持Markdown的有限子集：

&#91;网络链接&#93;(http://www.google.com)
&#42;斜体&#42;
&#95;italic&#95;
&#42;&#42;粗体&#42;&#42;
&#95;&#95;bold&#95;&#95;</code></pre>
<div class="note">
	<p>支持使用 <code>:icon:</code> 语法的图标；但 <code>:alert:</code> 为当前唯一可用的图标。</p>
</div></li><li class="Default"><p>自定义CIS列中的徽章大小和排列： 
</p><pre class="prettyprint"><code>&#91;Default&#93;
ColumnWidth&#95;CIS=580
+BadgeGroups=Editor
+BadgeGroups=And, Lin, PS4, XB1, Win, IOS, Mac, Swi
+BadgeGroups=Content</code></pre></li><li class="Default"><p>使用以下设置定义特定于项目的同步过滤器：
</p><pre class="prettyprint"><code>&#91;Options&#93;
+SyncCategory=(UniqueId="d9610e2f-7f6f-4898-bc98-d39dd7053d75", Name="FirstCategory", Paths="/MyGame/Content/Foo/...")</code></pre>
<div class="note">
	<ul ><li class="Default"><p><code>UniqueId</code> 是随机生成的GUID。
</p></li><li class="Default"><p><code>Name</code> 显示在UGS UI中。
</p></li><li class="Default"><p><code>Paths</code> 可以用分号隔开。
</p></li></ul><p>要修改现有的目录设置，需要指定其 <code>GUID</code>，它位于 <code>.../UnrealGameSync/Workspace.cs</code> 中的 <code>DefaultSyncCategories</code> 数组。在默认情况下，UGS会将指定的路径附加到现有列表，但设置 <code>Clear=true</code> 会替换它。</p>
</div></li></ul><h3 id="预编译二进制">预编译二进制</h3>
<p>要使用户能下载预编译编辑器编译，而无需在本地编译，可向Perforce提交包含所需二进制文件的zip文件，并让UnrealGameSync同步和抽取此类文件。为此，使用与本地编译相同的用户界面，但无相匹配二进制文件的修改将变灰。配置后，用户可选择 <strong>选项</strong> 菜单下的 <strong>同步预编译二进制（Sync Precompiled Binaries）</strong> 项目使用预编译二进制文件。 
</p><p>要配置预编译二进制文件的路径，将 <code>Build\UnrealGameSync.ini</code> 文件添加到项目下，并在提交此类文件的Perforce服务器上引用位置，如下所示： 
</p><pre class="prettyprint"><code>&#91;//UE4/Main/Samples/Games/ShooterGame/ShooterGame.uproject&#93;
ZippedBinariesPath=//UE4/Dev-Binaries/++UE4+Main-Editor.zip</code></pre>
<p>建议使用常规开发流外的位置保存预编译二进制文件，以避免干扰未使用预编译二进制文件的用户。无需维护其的单独工作空间；UnrealGameSync会以无状态方式，使用同步文件所用的相同登录凭证获取此类文件。 
</p><p>无需设置元数据服务器以使用预编译二进制文件；各zip文件修订版的对应更改列表将在更改列表描述（以标记 <code>&#91;CL 12345678&#93;</code> 开头）中进行解析。
</p><p>在此提供一个范例脚本，以展示以正确格式创建和提交编辑器二进制文件的方法，具体位置如下：<code>Engine/Build/Graph/Examples/BuildEditorAndTools.xml</code>
</p><p>运行该脚本的典型命令行如下： 
</p><pre class="prettyprint"><code>Engine\Build\BatchFiles\RunUAT.bat
  BuildGraph
  -Script=Engine/Build/Graph/Examples/BuildEditorAndTools.xml
  -Target="Submit To Perforce for UGS"
  -set:EditorTarget=ShooterGameEditor
  -set:ArchiveStream=//UE4/Dev-Binaries
  -p4
  -submit</code></pre>
<p>此操作会向 <code>//UE4/Dev-Binaries/++UE4+Main-Editor.zip</code> 提交zip文件，其中 <code>++UE4+Main</code> 为当前分支的名称，斜杠被换码为"+"字符。相同路径应设为 <code>UnrealGameSync.ini</code> 中的 <code>ZippedBinariesPath</code> 的值。 
</p><p>文件开头的注释中包含使用 <code>BuildEditorAndTools.xml</code> 的更多相关信息。 
</p>
																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="pageTags">
				<div class="title">标签</div>
					<div>
					<div class="keyword_tag_filter"><a id="tag_link" href="../../../../SiteIndex/index.html?tags=UnrealGameSync">UnrealGameSync</a></div>
					</div>
				</div>
								<div id="recommendations"></div>			</div>
						  									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/ProductionPipelines/DeployingTheEngine/UnrealGameSync/Reference/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:40:53 GMT -->
</html>
