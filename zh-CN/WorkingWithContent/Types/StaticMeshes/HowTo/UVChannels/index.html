<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:01:57 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/" />');
				var udnCSS = '../../../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>使用UV通道 | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../../../Include/Javascript/informational.js" type="text/javascript"></script>
	    <script  src="../../../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/" hreflang="ko" />

	<meta name="redirect" content="Engine/Content/Types/StaticMeshes/HowTo/UVChannels" />
<meta name="intsourcechangelist" content="15924808" />
<meta name="availability" content="Public" />
<meta name="title" content="使用UV通道" />
<meta name="description" content="UV通道在渲染静态网格体时所扮演的角色，以及如何在虚幻编辑器中使用。" />
<meta name="type" content="" />
<meta name="version" content="4.24" />
<meta name="parent" content="WorkingWithContent/Types/StaticMeshes/HowTo" />
<meta name="order" content="" />
<meta name="keywords" content="" />
<meta name="related" content="WorkingWithContent/Types/StaticMeshes/LightmapUnwrapping" />
<meta name="crumbs" content="%ROOT%,WorkingWithContent,WorkingWithContent/Types,WorkingWithContent/Types/StaticMeshes,WorkingWithContent/Types/StaticMeshes/HowTo" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="使用UV通道" />
	<meta property="og:description" content="UV通道在渲染静态网格体时所扮演的角色，以及如何在虚幻编辑器中使用。" />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">

			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">
<span id="versionContainer">
	<span id="versionSelect" class="btn btn-version" onclick="ToggleMenu($('#versionMenu'), $(this));"></span>
	<div id="versionMenu">
		<div id="4_26" data-version="4.26" class="btn btn-select" onclick="createCookie('version', '4.26', 365);SwitchVersion('4.26');">Unreal Engine 4.26 Documentation</div>
		<div id="4_27" data-version="4.27" class="btn btn-select" onclick="createCookie('version', '4.27', 365);SwitchVersion('4.27');">Unreal Engine 4.27 Documentation</div>
		<div id="5_0" data-version="5.0" class="btn btn-select" onclick="createCookie('version', '5.0', 365);SwitchVersion('5.0');">Unreal Engine 5.0 Documentation</div>
		<div id="5_1" data-version="5.1" class="btn btn-select" onclick="createCookie('version', '5.1', 365);SwitchVersion('5.1');">Unreal Engine 5.1 Documentation</div>
		<div id="5_2" data-version="5.2" class="btn btn-select" onclick="createCookie('version', '5.2', 365);SwitchVersion('5.2');">Unreal Engine 5.2 Documentation</div>
		<div id="5_3" data-version="5.3" class="btn btn-select" onclick="createCookie('version', '5.3', 365);SwitchVersion('5.3');">Unreal Engine 5.3 Documentation</div>
	</div>
</span>
	<span class="separator">></span> <a id="parent_link" href="../../../../index.html">管理内容</a>

	<span class="separator">></span> <a id="parent_link" href="../../../index.html">内容资产类型</a>

	<span class="separator">></span> <a id="parent_link" href="../../index.html">静态网格体</a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">静态网格模型操作说明</a>

<span class="separator">></span> <span id="page">使用UV通道</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">
			<div id="nav-filter-container">
				<div id="nav-filter-inner">
					<form>
						<input type="text" placeholder="Filter pages..." id="nav-filter" onchange="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, this.value);if(this.value.length == 0){$('#filter-clear').hide();}else{$('#filter-clear').show();}" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();" />
						<button class="close-icon" id="filter-clear" type="reset" onclick="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, '');$(this).hide();"></button>
					</form>
				</div>
			</div>
			<nav id="navPanel">
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">使用UV通道</h1>
							</div>	
							<h2 >UV通道在渲染静态网格体时所扮演的角色，以及如何在虚幻编辑器中使用。</h2>
							<div id="access">
								<div class="accessContainer">
																																			</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>																		<div id="seeAlso">
	<div style="position:relative;">
		<div id="title">参见</div>
		<div id="pageList">
			<ul>
								<li>
					<p>
						<a id="related_link" href="../../LightmapUnwrapping/index.html" title="正确设置静态网格体UV的技巧和指南。">展开光照图的UV</a>
					</p>
				</li>
							</ul>
		</div>
	</div>
</div>
																														<div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#静态网格体编辑器中的uv通道">静态网格体编辑器中的UV通道</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#列示uv通道">列示UV通道</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#可视化uv通道">可视化UV通道</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#移除uv通道">移除UV通道</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#创建uv贴图">创建UV贴图</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#选项1：展开网格体几何体">选项1：展开网格体几何体</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#选项2：将网格体几何体投射到uv通道">选项2：将网格体几何体投射到UV通道</a></p>
	</li>					</ul>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#编辑器脚本中的uv通道">编辑器脚本中的UV通道</a></p>
	</li>		    	        </ul>
</div>
</div>
</div>
<p>UV通道是静态网格体中的一组数据，它将网格体的每个顶点映射到2D空间中的坐标。这些映射定义了在渲染网格体时2D纹理贴图是如何围绕3D几何体进行包裹的。<br /></p><p>你通常在专用的建模工具中创建和管理UV映射——创建静态网格体的几何体时也使用相同的工具。然而，编辑器确实提供了使用你的模型的UV通道的可能性，见本页的下文。
</p><p>UV通道在引擎中有两个主要用途：
</p><ul ><li class="Default"><p><strong>材质中的纹理坐标 -</strong> 当你创建一个材质来采样纹理映射并将其应用于静态网格体的表面时，你可以使用一个纹理坐标（或 <strong>Texcoord</strong>）节点来指定UV通道。该材质使用所选UV通道中包含的2D坐标和3D顶点位置之间的映射来确定应该使用纹理的哪些区域来对3D模型中的哪些三角形进行着色。<br /></p><p>例如，UV通道0在这个简单的平面静态网格体中（如下图右上角所示）显示了将网格体的两个三角形（A和B）映射到纹理空间的最简单方法。当你使用这个UV通道（由 <strong>TexCoord</strong> 节点的 <strong>坐标索引（Coordinate Index）</strong> 属性设置）时，材质将纹理的全部宽度和高度应用到平面上。<br /><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/texture-mapping-1-1.jpg">
		<img class="  lazyload" alt="texture-mapping-1-1.png" title="texture-mapping-1-1.png" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/texture-mapping-1-1.jpg" />
</picture>
<br />另一方面，下图显示了UV通道1，它旋转并偏斜了三角形和UV纹理空间之间的映射。当相同的图像纹理应用于静态网格体时，它更改将纹理的哪些部分应用于静态网格体的哪些部分。<br /><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/texture-mapping-2.jpg">
		<img class="  lazyload" alt="texture-mapping-2.png" title="texture-mapping-2.png" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/texture-mapping-2.jpg" />
</picture>
<br />UV映射中的三角形可以重叠。重叠仅仅意味着纹理的相同部分应用于3D静态网格体几何体的多个部分。<br /></p><p>"UV通道"中的U表示纹理的横轴；V代表纵轴。纹理坐标通常保持在0和1之间，其中(0,0)表示纹理的左下角，(1,1)表示右上角。但这有时不正确。默认情况下，当U或V值超过1或小于0时，材质会"包裹"到纹理的另一边。例如，V值1.25通常被视为0.25。但是，你可以选择将这些值夹在材质中，将它们限制为最小值0和最大值1。
</p></li></ul><ul ><li class="Default"><p><strong>光照贴图：</strong> UV通道还用于存储和应用光照贴图。光照贴图是一种特殊的纹理，它为静态网格体存储预先计算好的光照信息。当光卡中的光源的移动性（Mobility）设置为固定（Stationary）或静态（Static），在你为关卡建立照明时，Lightmass工具节省光照贴图纹理的间接照明（和静态光源的直接照明），使用UV通道来确定静态网格体的3D几何体与2D纹理空间之间的映射。<br /></p><p>用于光照贴图的UV通道必须遵循一些特殊的规则。因为一个对象的每个部分通常接受不同数量的光照，所以网格体中的任何两个三角形都不能在2D纹理空间中重叠。每个三角形必须在纹理中覆盖自己的区域。此外，所有UV坐标值必须在0到1之间。光照贴图纹理不能像常规纹理映射那样"环绕"。<br />由于这些原因，光照贴图UV通常从更简单的UV映射生成或 <em>打包</em>。<br /></p><p>例如，这个柱子的纹理映射UV通道将四个面的几何体映射到纹理的相同重叠区域。当你使用此UV通道将纹理应用到几何体时，每一面都使用相同的纹理部分。<br /><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/texture-mapping-pillar.jpg">
		<img class="  lazyload" alt="texture-mapping-pillar.png" title="texture-mapping-pillar.png" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/texture-mapping-pillar.jpg" />
</picture>
<br />然而，在对象的光图贴图UV中，每一面都需要覆盖自己独特的2D空间：<br /><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/texture-mapping-pillar-packed.jpg">
		<img class="  lazyload" alt="texture-mapping-pillar-packed.png" title="texture-mapping-pillar-packed.png" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/texture-mapping-pillar-packed.jpg" />
</picture>
<br />有关光照贴图UV以及如何生成它们的更多信息，请参阅<a id="content_link"filter-data="tag_static_mesh tag_lightmap" href="../../LightmapUnwrapping/index.html" ><span>打开光照贴图的UV</span></a>和<a id="content_link" href="../../AutoGeneratedLightmaps/index.html" ><span>生成光照贴图UV</span></a>。
</p></li></ul><p>引擎中的每个静态网格体最多可以有7个不同的UV通道，因此你可以为不同的材质（或单个材质中的不同纹理采样节点）设置多种不同的纹理包裹方式。
</p><h2 id="静态网格体编辑器中的uv通道">静态网格体编辑器中的UV通道</h2>
<p>在静态网格体编辑器UI中，你可以列示、可视化和移除UV通道。
</p><h3 id="列示uv通道">列示UV通道</h3>
<p>在静态网格体编辑器中打开任何静态网格体资源时，可以使用工具栏中的 <strong>UV</strong> 按钮列出当前静态网格体使用的所有UV通道。
</p><p><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_list.jpg">
		<img class="  lazyload" alt="List UV Channels" title="List UV Channels" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_list.jpg" />
</picture>

</p><h3 id="可视化uv通道">可视化UV通道</h3>
<p>在列表中选择任意UV通道，将网格体的三角形到2D纹理空间的映射在视口中可视化为覆盖：
</p><p><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_viz.jpg">
		<img class="  lazyload" alt="Visualize UV Channels" title="Visualize UV Channels" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_viz.jpg" />
</picture>

</p><p>在列表顶部选择 <strong>无（None）</strong> 以隐藏UV覆层。
</p><h3 id="移除uv通道">移除UV通道</h3>
<p>在列表中选择通道后，可以将其移除。每个UV通道都将每个顶点的纹理坐标存储为静态网格体的一部分，因此你可以删除不使用的映射来节省一些运行时内存。
</p><p><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_remove.jpg">
		<img class="  lazyload" alt="Remove selected UV channel" title="Remove selected UV channel" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_remove.jpg" />
</picture>

</p><p>删除通道之后，列表中出现的所有其他UV通道都向上移动一位，以填充删除通道后留下的空白。
</p><div class="note">
	<p>如果你的静态网格体资源被设置为生成光照贴图UV，并且你所选择的UV通道已经用作关照贴图UV的源通道或目标通道，则不能删除该UV通道。要么禁用 <strong>构建设置（Build Settings）> 生成光照贴图UV（Generate Lightmap UVs）</strong> 选项，要么更改 <strong>构建设置（Build Settings）> 源光照贴图索引（Source Lightmap Index）</strong> 和 <strong>构建设置（Build Settings）> 目标光照贴图索引（Destination Lightmap Index）</strong> 设置，以指向不同的UV通道。</p>
</div><h3 id="创建uv贴图">创建UV贴图</h3>
<p>材质将纹理作为其通道的源数据时（例如底色、法线贴图、粗糙度等），通常使用模型的UV贴图决定纹理的哪些部分将包裹几何体的哪些部分。因此，若模型不包含UV贴图，或所含UV贴图布局较差，在尝试使用纹理材质时你将时常看到显示问题。例如，若UV贴图具有诸多 <em>接缝</em>（即在网格体几何体上相邻但在UV贴图上不相邻的三角形处），纹理将显示此类接缝的可见关节。若UV贴图将UV空间的区域不均匀指定到网格体三角形，以将网格体大三角形映射到纹理的小区域（或相反），网格体不同部分上的纹理将出现拉伸或扭曲。
</p><p>为获得最佳艺术效果，应固定在专用建模工具中创建3D对象的UV贴图。但此操作有时不可用。例如，将某些CAD建模应用程序中的数据导入虚幻引擎时，可能无法在源应用程序中创建高质量UV贴图。针对这类情况，你可在虚幻编辑器中创建UV贴图。
</p><p>虚幻编辑器提供了两种创建静态网格体UV贴图的方法：
</p><ul ><li class="Default"><p><a id="content_link" href="#选项1：展开网格体几何体" ><span>选项1：展开网格体几何体</span></a>
</p></li><li class="Default"><p><a id="content_link" href="#选项2：将网格体几何体投射到uv通道" ><span>选项2：将网格体投射到2D空间</span></a>
</p></li></ul><div class="note">
	<p><strong>项目设置：</strong>
要使用下述UV通道生成法，必须安装虚幻引擎项目的 <strong>多边形编辑（Polygon Editing）</strong> 插件。</p>
</div><h4 id="选项1：展开网格体几何体">选项1：展开网格体几何体</h4>
<p>在此方法中，组成静态网格体几何体的三角形将自动展开并平整化。三角形表面区域会自动调整，以保持与附近三角形相邻，与相邻表面间的角度超过设定阈值处将引入接缝。 
</p><p>要将静态网格体展开到新UV贴图：
</p><ol ><li class="Default"><p>选择要展开的静态网格体，执行以下任一操作：
</p><ul ><li class="Default"><p>在 <strong>内容浏览器</strong> 中右键点击静态网格体，在快捷菜单中选择 <strong>展开UV（Unwrap UV）</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/unwrap_content_browser.jpg">
		<img class="  lazyload" alt="在内容浏览器中展开UV" title="Unwrap UV in the Content Browser" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/unwrap_content_browser.jpg" />
</picture>

</p></li><li class="Default"><p>在静态网格体编辑器中打开要生成的静态网格体。然后在静态网格体编辑器的工具栏中，选择 <strong>UV > 展开UV（Unwrap UVs）</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/unwrap_mesh_editor.jpg">
		<img class="  lazyload" alt="在静态网格体编辑器中展开UV" title="Unwrap UV in the Static Mesh Editor" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/unwrap_mesh_editor.jpg" />
</picture>

</p></li></ul><div class="tip">
	<p>若未找到上述菜单选项，请启用项目的 <strong>多边形插件（Polygon Editing）</strong> 插件。</p>
</div></li><li class="Default"><p>设置参数以控制展开结果：
</p><p><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/unwrap_uvs.jpg">
		<img class="  lazyload" alt="展开UV设置" title="Unwrap UV settings" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/unwrap_uvs.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>设置 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>通道选择（Channel Selection）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>决定展开进程选择保存新UV贴图的通道的方式。
</p><ul ><li class="Default"><p><strong>自动光照贴图设置（Automatic Lightmap Setup）</strong>：将展开的UV贴图保存到此静态网格体设置的通道，以作为光照贴图UV的源，然后利用新UV贴图生成新光照贴图UV。
</p></li><li class="Default"><p><strong>首个空白通道（First Empty Channel）</strong>：将展开的UV贴图保存到静态网格体中的首个空白UV通道。
</p></li><li class="Default"><p><strong>指定通道（Specify Channel）</strong>：在 <strong>UV通道（UVChannel）</strong> 设置中指定通道索引。
</p></li></ul>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>UV通道（UVChannel）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>当 <strong>通道选择（Channel Selection）</strong> 被设为 <strong>指定通道（Specify Channel）</strong> 时，使用此设置决定用于保存已展开的UV的UV通道。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>角度阈值（Angle Threshold）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>决定两个相邻面在展开后保持连接时的最大角度。增大此值会减少单独UV"岛状区"的数量，让更多三角形与相邻的三角形连接，并减少会导致纹理贴图断开的接缝数量。但由于三角形可能需要在2D空间中更积极地调整大小，以保持与相邻三角形的连接，因此这也可能导致展开的纹理更加失真。</p>
			</td>
	
</tr></tbody>
</table></li><li class="Default"><p>点击 <strong>继续（Proceed）</strong>。
</p></li></ol><h4 id="选项2：将网格体几何体投射到uv通道">选项2：将网格体几何体投射到UV通道</h4>
<p>你可使用投射体积（平面、盒体或球体）将静态网格体的3D几何体投射到2D纹理空间。在此方法中，静态网格体的各面均向外投射到投射体积的面，然后投射体积将展开到2D纹理空间中。 
</p><p><div class="note">
	<p> 此功能部件当前只负责将3D网格体投射到2D，并不包含在功能齐全的建模和纹理工具中拥有的完整投射编辑功能。 </p>
</div>
</p><ol ><li class="Default"><p>在静态网格体编辑器中打开要生成的静态网格体。
</p><p>例如，在 <strong>内容浏览器（Content Browser）</strong> 中双击静态网格体资源。
</p></li><li class="Default"><p>在静态网格体编辑器的工具栏中选择 <strong>UV >生成UV（Generate UVs）</strong>。
</p><div class="tip">
	<p>若未找到此菜单选项，其启用项目的 <strong>多边形编辑（Polygon Editing）</strong> 插件。</p>
</div></li><li class="Default"><p>现在你可看到 <strong>生成UV（Generate UV）</strong> 面板，其中提供了协助控制UV投射结果的功能按钮集。
</p><p><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/Generate_UVs.jpg">
		<img class="  lazyload" alt="生成UV面板中的项目设置" title="Generate UV panel Projection Settings" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/Generate_UVs.jpg" />
</picture>

</p><p>同时还可在视口中看到静态网格体周围显示的绿色体积，与标准虚幻编辑器操纵器小工具。
</p><div class="tip">
	<p>若体积和操纵器未第一时间显示，可切换 <strong>生成UV（Generate UV）</strong> 面板底部的 <strong>显示小工具（Show Gizmo）</strong> 按钮。</p>
</div></li><li class="Default"><p>在 <strong>投射类型（Projection Type）</strong> 设置中，选择最适合静态网格体尺寸的体积。
</p></li><li class="Default"><p>调整体积的大小、位置和旋转以匹配静态网格体的范围。
</p><p>可使用视口中的操纵器或 <strong>生成UV（Generate UV）</strong> 面板中的文本字段进行该调整。同时还可使用 <strong>适配（Fit）</strong> 按钮自动调节体积以作为良好起点来适应静态网格体几何体范围。
</p></li><li class="Default"><p>在 <strong>目标通道（Target Channel）</strong> 设置中，设置用于保存投射UV贴图的通道的索引。
</p><div class="tip">
	<p>多数材质在通道0中获取纹理坐标。若要生成UV贴图以改进纹理在静态网格体几何体周围的映射方式，你应将此字段设为 <code>0</code>。</p>
</div></li><li class="Default"><p>点击 <strong>应用（Apply）</strong> 生成UV贴图，并将其保存到静态网格体中的目标通道。
</p></li></ol><p>下表对 <strong>生成UV（Generate UV）</strong> 面板中的所有设置进行了说明：
</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>设置 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>投射类型（Projection Type）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>体积，将静态网格体几何体投射到其上。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>大小（Size）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>投射体积的尺寸。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>位置（Position）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>相对于静态网格体枢轴点的投射体积位置。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>旋转（Rotation）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>相对于静态网格体枢轴点的投射体积旋转。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>UV平铺比例（UV Tiling Scale）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>投射在UV空间中的比例。值越大，纹理空间中的投射越大，将导致纹理细节在网格体表面周围包裹时显得更小。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>UV偏移（UV Offset）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>控制投射在2D纹理空间中的位置。减小X轴上的值会使投射在UV贴图中向左移动，增大该值会使投射向右移动。减小Y轴上的值会使投射在UV贴图中向上移动，增大该值会使投射向下移动。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>目标通道（Target Channel）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>用于保存投射的UV通道的索引。此通道不可为静态网格体编辑器用于存储生成的光照贴图UV的通道。若目标通道已有数据，要确认后编辑器才会继续。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>显示小工具（Show Gizmo）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>在视口中切换渲染投射体积和操作器小工具。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>应用（Apply）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>根据上述设置生成UV投射，并将结果保存到 <strong>目标通道</strong>。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>适配（Fit）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>使投射体积的大小包住静态网格体的整个几何体。</p>
			</td>
	
</tr></tbody>
</table><h2 id="编辑器脚本中的uv通道">编辑器脚本中的UV通道</h2>
<p>你还可以使用蓝图中的UV通道和在虚幻编辑器中运行的Python脚本。你可以在静态网格体编辑器中做所有你可以做的事情，另外你还可以添加新的通道并生成新的UV映射。
</p><div class="note">
	<p> <strong>先决条件：</strong>如果还没有安装编辑器脚本工具插件，则需要安装。详情请参阅<a id="content_link"filter-data="tag_blueprints tag_python tag_scripting" href="../../../../../ProductionPipelines/ScriptingAndAutomation/index.html" ><span>编写脚本和自动执行编辑器</span></a>。</p>
</div><div class="togglesection">
	<div class="normaltitle">
	<p>选择实现方法：</p>
</div><div class="toggleButtons">
	<!--
category:paramliteral
id:paramliteral
label:paramliteral
active:paramliteral
-->
<div class="btn btn-default btn-toggle BlueprintOrCPPSelect blueprintimplementation active_button" onclick="setSelector('BlueprintOrCPPSelect', 'blueprintimplementation');">
    <p>Blueprints</p>
</div><!--
category:paramliteral
id:paramliteral
label:paramliteral
active:paramliteral
-->
<div class="btn btn-default btn-toggle BlueprintOrCPPSelect pythonimplementation " onclick="setSelector('BlueprintOrCPPSelect', 'pythonimplementation');">
    <p>Python</p>
</div>
</div>
</div><!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content BlueprintOrCPPSelect blueprintimplementation active_button_content">
    <div class="container">
        <p>你将在 <strong>编辑器脚本（Editor Scripting）> 静态网格体（Static Mesh）</strong> 类别下找到管理UV通道所需的节点。
</p><div class="note">
	<p>要使用这些节点，你的蓝图类必须派生自仅编辑器类，例如 <strong>PlacedEditorUtilityBase</strong> 类。详情请参阅<a id="content_link"filter-data="tag_blueprints tag_blueprint_utilities tag_scripting tag_editor" href="../../../../../ProductionPipelines/ScriptingAndAutomation/Blueprints/index.html" ><span>使用蓝图编写编辑器脚本</span></a>。</p>
</div><p>所有这些函数都与静态网格体资源配合使用，你通常需要通过调用 <strong>编辑器脚本（Editor Scripting）> 资源库（Asset Library）> 加载资源（Load Asset）</strong> 节点来加载静态网格体资源。
</p><p>修改UV通道会修改资源。假设你希望保留所做的更改，以后还需要使用类似于 <strong>编辑器脚本（Editor Scripting）> 资源库（Asset Library）> 保存资源（Save Asset）</strong> 或 <strong>保存加载的资源（Save Loaded Asset）</strong> 节点。见下例。
</p><h3 id="列示uv通道_1">列示UV通道</h3>
<p>你可以使用 <strong>Get Num UV Channels</strong> 节点来了解给定静态网格体资源中当前存在多少UV通道。
</p><p>例如：
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_list.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_list.jpg">
		<img class="  lazyload" alt="Get the number of UV channels" title="Get the number of UV channels" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_list.jpg" />
</picture>
</span></a></span> 
</p><p><em>点击查看大图。</em></p>
</div><h3 id="移除uv通道_1">移除UV通道</h3>
<p>每个UV通道都将每个顶点的纹理坐标存储为静态网格体的一部分，因此你可以删除不使用的映射来节省一些运行时内存。
</p><p>要移除UV通道，调用 <strong>Remove UV Channel</strong> 节点。将静态网格体资源和要删除的UV通道的索引传递给它。
</p><p>例如：
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_remove.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_remove.jpg">
		<img class="  lazyload" alt="Remove a UV Channel" title="Remove a UV Channel" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_remove.jpg" />
</picture>
</span></a></span> 
</p><p><em>点击查看大图。</em></p>
</div><p>列表中指定索引之后存在的所有其他UV通道都将向上移动一位，以填充删除条目后留下的空白。
</p><div class="note">
	<p>如果你的静态网格体资源被设置为生成光照贴图UV，并且你所选择的UV通道已经用作关照贴图UV的源通道或目标通道，则不能删除该UV通道。要么禁用 <strong>构建设置（Build Settings）> 生成光照贴图UV（Generate Lightmap UVs）</strong> 选项，要么更改 <strong>构建设置（Build Settings）> 源光照贴图索引（Source Lightmap Index）</strong> 和 <strong>构建设置（Build Settings）> 目标光照贴图索引（Destination Lightmap Index）</strong> 设置，以指向不同的UV通道。</p>
</div><h3 id="添加新的uv通道">添加新的UV通道</h3>
<p>你可以通过调用以下任一节点向静态网格体资源添加一个新的UV通道：
</p><ul ><li class="Default"><p><strong>Add UV Channel</strong> - 在现有通道列表的末尾添加新通道。
</p></li><li class="Default"><p><strong>Insert UV Channel</strong> - 在指定的索引处添加新通道，将其他各个UV通道在列表中下移一位。注意，UV通道数组不能是稀疏的：你只能在列表中将新通道插入到与另一个现有通道相邻的位置。例如，如果列表中有三个UV通道（索引0、1、2），可以添加索引为3的新通道，但索引为4就不可以。
</p></li></ul><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_add.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_add.jpg">
		<img class="  lazyload" alt="Add and insert a UV Channel" title="Add and insert a UV Channel" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_add.jpg" />
</picture>
</span></a></span> 
</p><p><em>点击查看大图。</em></p>
</div><p>新映射为空。新映射要在填充之后才能使用，方法是投影网格体几何体（见下图），或者将其作为生成光照贴图的目标。
</p><h3 id="将网格体几何体展开到uv通道中">将网格体几何体展开到UV通道中</h3>
<p>通过使静态网格体编辑器自动展开和平整组成静态网格体几何体的三角形，即可新建UV贴图。三角形表面区域会自动调整，以保持与附近三角形相邻，与相邻表面间的角度超过设定阈值处将引入接缝。 
</p><div class="note">
	<p><strong>项目设置：</strong>
要使用下述UV通道生成法，必须安装虚幻引擎项目的 <strong>多边形编辑（Polygon Editing）</strong> 插件。</p>
</div><p>使用 <strong>Generate Unwrapped UVs</strong> 节点。需向此节点提供：
</p><ul ><li class="Default"><p>要修改的静态网格体资源的引用。
</p></li><li class="Default"><p>用于保存展开UV的UV通道的索引。若该通道不存在，则展开进程将创建此通道。
</p></li><li class="Default"><p>两个相邻面在展开后保持连接时的最大角度。增大此值会减少单独UV"岛状区"的数量，使更多相邻三角形保持连接，并减少会导致纹理贴图断开的接缝数量。但由于三角形可能需要在2D空间中更积极地调整大小，以保持与相邻三角形连接，因此也会导致展开的纹理更加失真。
</p></li></ul><p>例如：
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_unwrap.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_unwrap.jpg">
		<img class="  lazyload" alt="将静态网格展开到UV映射中" title="Unwrap a Static Mesh into a UV Mapping" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_unwrap.jpg" />
</picture>
</span></a></span> 
</p><p><em>点击查看大图。</em></p>
</div><h3 id="将网格体几何体投影到uv通道">将网格体几何体投影到UV通道</h3>
<p>你可以通过将静态网格体中的三角形投影到2D平面或简单的3D体积上来创建新的UV映射。
</p><div class="note">
	<p>下面描述的每个节点都将它创建的UV映射保存到你指定的UV通道中。这个UV通道必须已经存在；如果它不存在，函数将不会创建它。</p>
</div><h4 id="平面投影">平面投影</h4>
<p>使用 <strong>Generate Planar UV Channel</strong> 节点将静态网格体几何体投影到平面上。如果静态网格体只有一侧需要包裹纹理，可以使用这种投影。
</p><p>例如：
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_projectplane.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_projectplane.jpg">
		<img class="  lazyload" alt="Make a planar projection" title="Make a planar projection" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_projectplane.jpg" />
</picture>
</span></a></span> 
</p><p><em>点击查看大图。</em></p>
</div><h4 id="圆柱投影">圆柱投影</h4>
<p>使用 <strong>Generate Cylindrical UV Channel</strong> 节点将静态网格体几何体投影到圆柱体的侧面、顶部和底部。
</p><p>例如：
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_projectcylinder.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_projectcylinder.jpg">
		<img class="  lazyload" alt="Make a cylindrical projection" title="Make a cylindrical projection" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_projectcylinder.jpg" />
</picture>
</span></a></span> 
</p><p><em>点击查看大图。</em></p>
</div><h4 id="盒体投影">盒体投影</h4>
<p>使用 <strong>Generate Box UV Channel</strong> 节点将静态网格体几何体投影到立方体的各个面上。
</p><p>例如，下面的脚本创建了一个与静态网格体大小近似相同的盒体，然后通过将静态网格体的几何体投影到盒体的侧面来创建一个新的UV映射：
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_projectbox.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_projectbox.jpg">
		<img class="  lazyload" alt="Make a box projection" title="Make a box projection" data-src="../../../../../../Images/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/uv_channels_bp_projectbox.jpg" />
</picture>
</span></a></span> 
</p><p><em>点击查看大图。</em></p>
</div>

    </div>
</div><!--
category:paramliteral
id:paramliteral
content:param
active:paramliteral
-->
<div class="button_content BlueprintOrCPPSelect pythonimplementation ">
    <div class="container">
        <p>你将在"unreal.EditorStaticMeshLibrary"类中找到LOD管理函数。
</p><p>所有这些函数都使用静态网格体资源，通常需要通过调用"unreal.EditorAssetLibrary.load_asset"这样的函数来加载。
</p><p>修改UV通道会修改资源。假设你希望保留所做的更改，之后还需要使用"unreal.EditorAssetLibrary.save_asset"或"unreal.EditorAssetLibrary.save_loaded_asset"之类的函数。
</p><h3 id="列示uv通道_2">列示UV通道</h3>
<p>你可以使用 <strong>unreal.EditorStaticMeshLibrary.get_num_uv_channels</strong> 函数来了解给定静态网格体资源中当前存在多少UV通道。
</p><p>例如：
</p><pre class="prettyprint"><code>import unreal
asset&#95;name = '/Game/Path/MyStaticMeshAsset'
# 加载静态网格体资源。
loaded&#95;asset = unreal.EditorAssetLibrary.load&#95;asset(asset&#95;name)
# 获取资源中保存的UV通道数量。
num&#95;uv&#95;channels = unreal.EditorStaticMeshLibrary.get&#95;num&#95;uv&#95;channels(asset&#95;name)
print("Number of UV channels: " + str(num&#95;uv&#95;channels))</code></pre>
<h3 id="移除uv通道_2">移除UV通道</h3>
<p>每个UV通道都将每个顶点的纹理坐标存储为静态网格体的一部分，因此你可以删除不使用的映射来节省一些运行时内存。
</p><p>要移除UV通道，调用"unreal.EditorStaticMeshLibrary.remove_uv_channel"函数。将静态网格体资源和要删除的UV通道的索引传递给它。
</p><p>例如：
</p><pre class="prettyprint"><code>import unreal
asset&#95;name = '/Game/Path/MyStaticMeshAsset'
# 加载静态网格体资源。
loaded&#95;asset = unreal.EditorAssetLibrary.load&#95;asset(asset&#95;name)
# 获取资源中保存的UV通道数量。
num&#95;uv&#95;channels = unreal.EditorStaticMeshLibrary.get&#95;num&#95;uv&#95;channels(asset&#95;name)
# 移除列表中的最后一个。
channel&#95;to&#95;remove = num&#95;uv&#95;channels - 1
unreal.EditorStaticMeshLibrary.remove&#95;uv&#95;channel(asset&#95;name, channel&#95;to&#95;remove)
# 保存已修改的资源。
unreal.EditorAssetLibrary.save&#95;asset(asset&#95;name)</code></pre>
<p>列表中指定索引之后存在的所有其他UV通道都将向上移动一位，以填充删除条目后留下的空白。
</p><div class="note">
	<p>如果你的静态网格体资源被设置为生成光照贴图UV，并且你所选择的UV通道已经用作关照贴图UV的源通道或目标通道，则不能删除该UV通道。要么禁用 <strong>构建设置（Build Settings）> </strong>生成光照贴图UV（Generate Lightmap UVs）<strong> 选项，要么更改 </strong>构建设置（Build Settings）> <strong>源</strong> 光照贴图索引（Source Lightmap Index）<strong> 和 </strong>构建设置（Build Settings）> <strong>目标光照贴图索引（Destination Lightmap Index）</strong> 设置，以指向不同的UV通道。</p>
</div><h3 id="添加新的uv通道_1">添加新的UV通道</h3>
<p>你可以通过调用以下任一函数向静态网格体资源添加一个新的UV通道：
</p><ul ><li class="Default"><p><code>unreal.EditorStaticMeshLibrary.add&#95;uv&#95;channel</code> - 在现有通道列表的末尾添加新通道。
</p></li><li class="Default"><p><code>unreal.EditorStaticMeshLibrary.insert&#95;uv&#95;channel</code> - 在指定的索引处添加新通道，将其他各个UV通道在列表中下移一位。注意，UV通道数组不能是稀疏的：你只能在列表中将新通道插入到与另一个现有通道相邻的位置。例如，如果列表中有三个UV通道（索引0、1、2），可以添加索引为3的新通道，但索引为4就不可以。
</p></li></ul><p>例如：
</p><pre class="prettyprint"><code>import unreal
asset&#95;name = '/Game/Path/MyStaticMeshAsset'
# 加载静态网格体资源。
loaded&#95;asset = unreal.EditorAssetLibrary.load&#95;asset(asset&#95;name)
# 获取资源中保存的UV通道数量。
num&#95;uv&#95;channels = unreal.EditorStaticMeshLibrary.get&#95;num&#95;uv&#95;channels(asset&#95;name)
print("Number of UV channels before: " + str(num&#95;uv&#95;channels))
# 向列表末尾添加一个UV通道。
unreal.EditorStaticMeshLibrary.add&#95;uv&#95;channel(asset&#95;name)
# 在列表开头添加一个UV通道。
unreal.EditorStaticMeshLibrary.insert&#95;uv&#95;channel(asset&#95;name, 0)
# 获取资源中保存的新UV通道的数量。
num&#95;uv&#95;channels = unreal.EditorStaticMeshLibrary.get&#95;num&#95;uv&#95;channels(asset&#95;name)
print("Number of UV channels after: " + str(num&#95;uv&#95;channels))
# 保存已修改的资源。
unreal.EditorAssetLibrary.save&#95;asset(asset&#95;name)</code></pre>
<p>新映射为空。新映射要在填充之后才能使用，方法是投影网格体几何体（见下图），或者将其作为生成光照贴图的目标。
</p><h3 id="将网格体几何体展开到uv通道中_1">将网格体几何体展开到UV通道中</h3>
<p>通过使静态网格体编辑器自动展开和平整组成静态网格体几何体的三角形，即可新建UV贴图。三角形表面区域会自动调整，以保持与附近三角形相邻，与相邻表面间的角度超过设定阈值处将引入接缝。 
</p><div class="note">
	<p><strong>项目设置：</strong>
要使用下述UV通道生成法，必须安装虚幻引擎项目的 <strong>多边形编辑（Polygon Editing）</strong> 插件。</p>
</div><p>使用 <code>unreal.UVGenerationFlattenMapping.generate&#95;flatten&#95;mapping&#95;u&#95;vs()</code> 函数。传递：
</p><ul ><li class="Default"><p>要修改的静态网格体资源的引用。
</p></li><li class="Default"><p>用于保存展开UV的UV通道的索引。若该通道不存在，则展开进程将创建此通道。
</p></li><li class="Default"><p>两个相邻面在展开后保持连接时的最大角度（以度计）。增大此值会减少单独UV"岛状区"的数量，使更多相邻三角形保持连接，并减少会导致纹理贴图断开的接缝数量。但由于三角形可能需要在2D空间中更积极地调整大小，以保持与相邻三角形连接，因此也会导致展开的纹理更加失真。
</p></li></ul><p>例如：
</p><pre class="prettyprint"><code>import unreal
asset&#95;name = '/Game/Meshes/StaticMesh'
# 加载静态网格体资源。
loaded&#95;asset = unreal.EditorAssetLibrary.load&#95;asset(asset&#95;name)
# 指定要保存到的UV通道。
channel&#95;index = 2
# 设置角度阈值
angle&#95;threshold = 55
# 将网格体展开到UV通道中
unreal.UVGenerationFlattenMapping.generate&#95;flatten&#95;mapping&#95;u&#95;vs(loaded&#95;asset, channel&#95;index, angle&#95;threshold)
# 保存已修改的资源。
unreal.EditorAssetLibrary.save&#95;asset(asset&#95;name)</code></pre>
<h3 id="将网格体几何体投影到uv通道_1">将网格体几何体投影到UV通道</h3>
<p>你可以通过将静态网格体中的三角形投影到2D平面或简单的3D体积上来创建新的UV映射。
</p><p>这目前只在虚幻编辑器脚本API中公开，而不是静态网格体编辑器的UI中。但是，如果你已经熟悉用于网格体投影的可视化工具（如3ds Max中的工具），则API所需的过程和设置更容易理解。请参阅3ds Max帮助中的<a id="content_link" href="http://help.autodesk.com/view/3DSMAX/2019/ENU/?guid=GUID-78327298-4741-470C-848D-4C3618B18FCA" ><span>UVW贴图修饰符</span></a>了解背景。
</p><div class="note">
	<p>下面描述的每个函数都将它创建的UV映射保存到你指定的UV通道中。这个UV通道必须已经存在；如果它不存在，函数将不会创建它。</p>
</div><h4 id="平面投影_1">平面投影</h4>
<p>使用 <strong>unreal.EditorStaticMeshLibrary.generate_planar_uv_channel</strong> 函数将静态网格体几何体投影到平面上。如果静态网格体只有一侧需要包裹纹理，可以使用这种投影。
</p><p>例如：
</p><pre class="prettyprint"><code>import unreal
asset&#95;name = '/Game/Path/MyStaticMeshAsset'
# 加载静态网格体资源。
loaded&#95;asset = unreal.EditorAssetLibrary.load&#95;asset(asset&#95;name)
# 指定要投影的LOD。
lod&#95;index = 0
# 为我们的投影添加新UV通道。
num&#95;uv&#95;channels = unreal.EditorStaticMeshLibrary.get&#95;num&#95;uv&#95;channels(asset&#95;name)
unreal.EditorStaticMeshLibrary.add&#95;uv&#95;channel(asset&#95;name)
channel&#95;index = num&#95;uv&#95;channels
# 设置投影平面，或"gizmo"。
bbox = loaded&#95;asset.get&#95;bounding&#95;box()
gizmo&#95;pos = ((bbox.min + bbox.max) &#42; 0.5)   # 找到对象的边界框的中心。
# 设置旋转角度度数。
pitch = 0   # 围绕X轴
yaw = 0     # 围绕Y轴
roll = 0    # 围绕Z轴
gizmo&#95;orientation = unreal.Rotator(pitch, yaw, roll)
# 增加或减少数值使投影变大或变小。
tiling = unreal.Vector2D(1, 1)
# 将静态网格体几何体投影到UV通道中。
unreal.EditorStaticMeshLibrary.generate&#95;planar&#95;uv&#95;channel(loaded&#95;asset, lod&#95;index, channel&#95;index, gizmo&#95;pos, gizmo&#95;orientation, tiling)
# 保存已修改的资源。
unreal.EditorAssetLibrary.save&#95;asset(asset&#95;name)</code></pre>
<h4 id="圆柱投影_1">圆柱投影</h4>
<p>使用 <strong>unreal.EditorStaticMeshLibrary.generate_cylindrical_uv_channel</strong> 函数将静态网格体几何体投影到圆柱体的侧面、顶部和底部。
</p><p>例如：
</p><pre class="prettyprint"><code>import unreal
asset&#95;name = '/Game/Path/MyStaticMeshAsset'
# 加载静态网格体资源。
loaded&#95;asset = unreal.EditorAssetLibrary.load&#95;asset(asset&#95;name)
# 指定要投影的LOD。
lod&#95;index = 0
# 为我们的投影添加新UV通道。
num&#95;uv&#95;channels = unreal.EditorStaticMeshLibrary.get&#95;num&#95;uv&#95;channels(asset&#95;name)
unreal.EditorStaticMeshLibrary.add&#95;uv&#95;channel(asset&#95;name)
channel&#95;index = num&#95;uv&#95;channels
# 设置投影圆柱体，或"gizmo"。
bbox = loaded&#95;asset.get&#95;bounding&#95;box()
gizmo&#95;pos = ((bbox.min + bbox.max) &#42; 0.5)   # 找到对象的边界框的中心。
# 设置旋转角度度数。
pitch = 0   # 围绕X轴
yaw = 0     # 围绕Y轴
roll = 0    # 围绕Z轴
gizmo&#95;orientation = unreal.Rotator(pitch, yaw, roll)
# 增加或减少数值使投影变大或变小。
tiling = unreal.Vector2D(1, 1)
# 将静态网格体几何体投影到UV通道中。
unreal.EditorStaticMeshLibrary.generate&#95;cylindrical&#95;uv&#95;channel(teapot, lod&#95;index, channel&#95;index, gizmo&#95;pos, gizmo&#95;orientation, tiling)
# 保存已修改的资源。
unreal.EditorAssetLibrary.save&#95;asset(asset&#95;name)</code></pre>
<h4 id="盒体投影_1">盒体投影</h4>
<p>使用 <strong>unreal.EditorStaticMeshLibrary.generate_box_uv_channel</strong> 函数将静态网格体几何体投影到立方体的各个面上。
</p><p>例如，下面的脚本创建了一个与静态网格体大小近似相同的盒体，然后通过将静态网格体的几何体投影到盒体的侧面来创建一个新的UV映射：
</p><pre class="prettyprint"><code>import unreal
asset&#95;name = '/Game/Path/MyStaticMeshAsset'
# 加载静态网格体资源。
loaded&#95;asset = unreal.EditorAssetLibrary.load&#95;asset(asset&#95;name)
# 指定要投影的LOD。
lod&#95;index = 0
# 为我们的投影添加新UV通道。
num&#95;uv&#95;channels = unreal.EditorStaticMeshLibrary.get&#95;num&#95;uv&#95;channels(asset&#95;name)
unreal.EditorStaticMeshLibrary.add&#95;uv&#95;channel(asset&#95;name)
channel&#95;index = num&#95;uv&#95;channels
# 设置投影体积，或"gizmo"。
bbox = loaded&#95;asset.get&#95;bounding&#95;box()
gizmo&#95;pos = ((bbox.min + bbox.max) &#42; 0.5)   # 找到对象的边界框的中心。
# 设置旋转角度度数。
pitch = 0   # 围绕X轴
yaw = 0     # 围绕Y轴
roll = 0    # 围绕Z轴
gizmo&#95;orientation = unreal.Rotator(pitch, yaw, roll)
# 获取盒体大小。
gizmo&#95;size = bbox.max - bbox.min
# 将静态网格体几何体投影到UV通道中。
unreal.EditorStaticMeshLibrary.generate&#95;box&#95;uv&#95;channel(box, channel&#95;index, lod&#95;index, gizmo&#95;pos, gizmo&#95;orientation, gizmo&#95;size)
# 保存已修改的资源。
unreal.EditorAssetLibrary.save&#95;asset(asset&#95;name)</code></pre>


    </div>
</div>
																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="recommendations"></div>			</div>
						  									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/WorkingWithContent/Types/StaticMeshes/HowTo/UVChannels/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:02:10 GMT -->
</html>
