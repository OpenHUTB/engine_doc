<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/Resources/ContentExamples/Blueprints/1_3/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:44:50 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/Resources/ContentExamples/Blueprints/1_3/" />');
				var udnCSS = '../../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>1.3 - 变量 | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/informational.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/Resources/ContentExamples/Blueprints/1_3/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/Resources/ContentExamples/Blueprints/1_3/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/Resources/ContentExamples/Blueprints/1_3/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/Resources/ContentExamples/Blueprints/1_3/" hreflang="ko" />

	<meta name="intsourcechangelist" content="15970103" />
<meta name="availability" content="Public" />
<meta name="title" content="1.3 - 变量" />
<meta name="description" content="蓝图关卡示例1.3概览：变量" />
<meta name="related" content="ProgrammingAndScripting/Blueprints/Overview" />
<meta name="related" content="ProgrammingAndScripting/Blueprints/UserGuide/Components" />
<meta name="related" content="ProgrammingAndScripting/Blueprints/UserGuide/Variables" />
<meta name="related" content="ProgrammingAndScripting/Blueprints/UserGuide/BlueprintComms" />
<meta name="related" content="ProgrammingAndScripting/Blueprints/UserGuide/Types/MacroLibrary" />
<meta name="related" content="AnimatingObjects/SkeletalMeshAnimation/AnimBlueprints/EventGraph" />
<meta name="related" content="ProgrammingAndScripting/Blueprints/UserGuide/UserConstructionScript" />
<meta name="related" content="InteractiveExperiences/Input/SetUpInput/Blueprints" />
<meta name="version" content="4.9" />
<meta name="crumbs" content="%ROOT%,Resources,Resources/ContentExamples,Resources/ContentExamples/Blueprints" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="1.3 - 变量" />
	<meta property="og:description" content="蓝图关卡示例1.3概览：变量" />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">

			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">

	<span class="separator">></span> <a id="parent_link" href="../../../index.html">示例与教学</a>

	<span class="separator">></span> <a id="parent_link" href="../../index.html">内容示例</a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">蓝图内容示例</a>

<span class="separator">></span> <span id="page">1.3 - 变量</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">
			<div id="nav-filter-container">
				<div id="nav-filter-inner">
					<form>
						<input type="text" placeholder="Filter pages..." id="nav-filter" onchange="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, this.value);if(this.value.length == 0){$('#filter-clear').hide();}else{$('#filter-clear').show();}" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();" />
						<button class="close-icon" id="filter-clear" type="reset" onclick="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, '');$(this).hide();"></button>
					</form>
				</div>
			</div>
			<nav id="navPanel">
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">1.3 - 变量</h1>
							</div>	
							<h2 >蓝图关卡示例1.3概览：变量</h2>
							<div id="access">
								<div class="accessContainer">
																																			</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>																		<div id="seeAlso">
	<div style="position:relative;">
		<div id="title">参见</div>
		<div id="pageList">
			<ul>
								<li>
					<p>
						<a id="related_link" href="../../../../ProgrammingAndScripting/Blueprints/Overview/index.html" title="蓝图总览页面包含蓝图剖析和可用的不同蓝图类型。">蓝图总览</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../../../ProgrammingAndScripting/Blueprints/UserGuide/Components/index.html" title="简述在蓝图中的组件窗口内使用组件。">组件窗口</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../../../ProgrammingAndScripting/Blueprints/UserGuide/Variables/index.html" title="保存值或参考世界场景中的对象或Actor的属性。">蓝图变量</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../../../ProgrammingAndScripting/Blueprints/UserGuide/BlueprintComms/index.html" title="如何从一个蓝图中使用另一个蓝图的函数、事件和变量。">直接蓝图通信</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../../../ProgrammingAndScripting/Blueprints/UserGuide/Types/MacroLibrary/index.html" title="声明和定义宏以便在其他蓝图中重复利用的蓝图。">蓝图宏库</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../../../AnimatingObjects/SkeletalMeshAnimation/AnimBlueprints/EventGraph/index.html" title="基于事件的图表，用于更新动画蓝图和计算动画图表中使用的值。">事件图表</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../../../ProgrammingAndScripting/Blueprints/UserGuide/UserConstructionScript/index.html" title="当创建一个蓝图实例来执行初始化动作时执行该构造脚本。">构造脚本</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../../../InteractiveExperiences/Input/SetUpInput/Blueprints.html" title="关于如何在蓝图中进行输入设置的操作指南。">如何在蓝图中设置输入</a>
					</p>
				</li>
							</ul>
		</div>
	</div>
</div>
																														<div class="fullwidth">
	<p><picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/BPVariablesExample.jpg">
		<img class="  lazyload" alt="BPVariablesExample.png" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/BPVariablesExample.jpg" />
</picture>
</p>
</div><div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#组件">组件</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#变量设置">变量设置</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#变量创建">变量创建</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#构造脚本">构造脚本</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#设置光源颜色">设置光源颜色</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#创建动态材质实例并存储它们">创建动态材质实例并存储它们</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#指定新的动态材质实例">指定新的动态材质实例</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#为动态材质实例设置颜色">为动态材质实例设置颜色</a></p>
	</li>					</ul>
	</li>		    	        </ul>
</div>
</div>
</div>
<p>在本示例中，我们有一个蓝图Actor。它设置了两个聚光源，每个聚光源的颜色都由一个 <strong>变量（variable）</strong> 控制。在编程中，变量是计算机内存中的一片区域，用来保存数据。在蓝图脚本中，变量相当于某种"虚拟容器"，我们可以将一些信息放入其中，也可以从中查询某些信息。本示例中的每个光源都有一个线性颜色变量（Linear Color variable），该变量存储特定颜色的RGB值。我们可以设置它的默认值，随时随地查询它，为它设置新颜色——这些都是蓝图脚本的功能。
</p><p>虽然这里主要用到了线性颜色变量，但在蓝图脚本中，还有许多其他变量。每种变量都包含不同类型的数据，你需要对这些类型有个基本的了解，这点很重要。有关数据类型和变量用途的介绍，请参阅<a id="content_link"filter-data="tag_data_types tag_blueprints" href="../../../../ProgrammingAndScripting/Blueprints/UserGuide/Variables/index.html" ><span>蓝图变量文档</span></a>。
</p><p>在左侧聚光源中，线性颜色变量被设置为 <strong>公有（public）</strong>，表示选中蓝图Actor后，你可以在 <strong>细节（Details）</strong> 面板中编辑这个变量。右边聚光源的设置类似，但线性颜色变量是 <strong>私有（private）</strong> 类型，表示更改颜色值时，你需要打开Actor的蓝图，在脚本中更改变量，或以其他方式在脚本中更改。
</p><p>如需将变量设为公有，只需勾选它的 <strong>可编辑（Editable）</strong> 属性，或者点击 <strong>我的蓝图（My Blueprint）</strong> 窗口中变量旁的眼睛图标。变量设置成可编辑后，眼睛图标会高亮为黄色，表示该变量已可编辑。但现在还缺少提示信息，所以用户可能会不知道它的作用。为此，请在变量的 <strong>提示文本（Tooltip）</strong> 属性中输入介绍。完成此操作后，眼睛按钮将显示为绿色。
</p><p>对于初学者来说，注意不要把所有变量都设置成共有。有时，允许用户修改变量可能会导致某些重要功能被更改，甚至被破坏。应该确保只有美术师或关卡设计师需要访问的变量才是公有的，将他们无权访问的变量设为私有。
</p><div class="tip">
	<p>确保用提示文本来解释公有变量的用途。</p>
</div><h2 id="组件">组件</h2>
<p>这个蓝图Actor有很多组件，它包含两个完全独立的工作光源。它的大多数组件都是静态网格体组件，另外有少数文本渲染组件（Text Render Component）用于显示文本。当然，我们还添加了一些聚光源组件（Spot Light Component）来实现该效果。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/LightComponentList.jpg">
		<img class="  lazyload" alt="LightComponentList.png" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/LightComponentList.jpg" />
</picture>
 <picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/LightComponentPreview.jpg">
		<img class="  lazyload" alt="LightComponentPreview.png" width="550" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/LightComponentPreview.jpg" />
</picture>

</p><p>这两组光源的设置稍有不同，但最终效果相同。每个光源的组件设置如下：
</p><div class="note">
	<p>请注意，我们在组件名称中添加了 <strong>公有（Public）</strong> 和 <strong>私有（Private）</strong> 作为前缀。此外，缩进表示组件与另一个组件的父子关系，正如组件列表中所示。</p>
</div><ul ><li class="Default"><p><strong>壁挂（Wall Mount）</strong> - 这是静态网格体组件，固定在墙上。
</p><ul ><li class="Default"><p><strong>支架（Bracket）</strong> - 这是静态网格体组件，它将连接到壁挂，并支撑灯具。
</p><ul ><li class="Default"><p><strong>灯具（Light Fixture）</strong> - 这是灯具本身的静态网格体组件，用于表示玩家看到的聚光源。它的第二个材质元素（元素1）采用了一个特殊材质，因此它的颜色能实时变化以匹配光源颜色。
</p><ul ><li class="Default"><p><strong>聚光源（Spot Light）</strong> - 这是聚光源组件，提供光照效果。
</p></li></ul></li></ul></li><li class="Default"><p><strong>文本（Text）</strong> - 文本渲染组件，用来显示公有（Public）或私有（Private）字样。
</p><ul ><li class="Default"><p><strong>说明（Description）</strong> - 一些描述性的文字，用于解释效果。
</p></li></ul></li></ul></li></ul><h2 id="变量设置">变量设置</h2>
<p>为蓝图Actor添加组件时，你会发现 <strong>我的蓝图（My Blueprint）</strong> 面板（如在图表（Graph）模式中所示）会自动填充组件变量。这样你就能访问各个组件，从组件获取数据或设置数据。此外，我们专门添加了一些变量。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/LightVariables.jpg">
		<img class="  lazyload" alt="LightVariables.png" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/LightVariables.jpg" />
</picture>

</p><p>下方是专门为此效果创建的自定义变量：
</p><ul ><li class="Default"><p><strong>PublicColor</strong> - 这是一个线性颜色变量，用于保存左侧公有光源的颜色。我们把它的默认值设置为绿色。
</p></li><li class="Default"><p><strong>PrivateColor</strong> - 这也是一个线性颜色变量，用于保存右侧私有光源的颜色。我们把它的默认值设置为红色。
</p></li></ul><p>我们还创建了两个变量来保存灯具镜头使用的动态材质实例（Dynamic Material Instances）。有了它们，我们就能将上文中的颜色变量值发送给灯具镜头，从而改变镜头颜色以匹配聚光源的颜色。
</p><ul ><li class="Default"><p><strong>PublicLightLensMaterial</strong> - 保存公有灯具镜头的动态材质实例。 
</p></li><li class="Default"><p><strong>PrivateLightLensMaterial</strong> - 保存私有灯具镜头的动态材质实例。
</p></li></ul><h3 id="变量创建">变量创建</h3>
<p>并不是所有变量都需要在 <strong>我的蓝图（My Blueprint）</strong> 面板中手动创建。如果你觉得节点的输入值或输出值需要保存为变量，可以在对应的数据引脚上 <strong>点击右键</strong>，在上下文菜单中选择 <strong>提升为变量（Promote to variable）</strong>。具体操作如下：
</p><ul ><li class="Default"><p>如果你 <strong>右键单击</strong> 数据输入引脚（位于变量左侧）
</p><ul ><li class="Default"><p>创建一个对应类型的新变量。
</p></li><li class="Default"><p>你可以输入名称，命名这个新变量。
</p></li></ul></li><li class="Default"><p>如果你 <strong>右键单击</strong> 数据输出引脚（位于变量右侧）
</p><ul ><li class="Default"><p>创建一个对应类型的新变量。
</p></li><li class="Default"><p>会新建一个"设置（Set）"节点，用于将新变量的初始值设置为引脚的输出值。
</p></li></ul></li></ul><h2 id="构造脚本">构造脚本</h2>
<p>光源效果的大部分实现实际上都是在构造脚本中完成的。由于游戏开始后光源逻辑不需要更新，所以我们没有用到事件图表。
</p><p>为了便于理解本例中的构造脚本，我们将其分为多个段落，并为每个段落添加了注释，如下所示：
</p><p><strong>点击查看大图</strong>
</p><div class="lightbox">
	<div class="fullwidth">
	<p><span class="non-localized"><a id="content_link" href="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/LightConstructionScript.png" ><span><picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/LightConstructionScript.jpg">
		<img class="  lazyload" alt="LightConstructionScript.png" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/LightConstructionScript.jpg" />
</picture>
</span></a></span></p>
</div>
</div><div class="tip">
	<p>尝试在蓝图编辑器中打开该示例的构造脚本，这样看得更清楚些！</p>
</div><p>它执行的逻辑包括：
</p><ul ><li class="Default"><p>设置光源颜色。
</p></li><li class="Default"><p>创建动态材质实例并将它们保存到变量中。
</p></li><li class="Default"><p>将新的动态材质实例指定给灯具网格体。
</p></li><li class="Default"><p>为动态材质实例设置颜色。
</p></li></ul><h3 id="设置光源颜色">设置光源颜色</h3>
<div class="fullwidth">
	<p><picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/SetLightColor.jpg">
		<img class="  lazyload" alt="SetLightColor.png" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/SetLightColor.jpg" />
</picture>
</p>
</div><p>在这部分脚本中，我们获取了颜色的默认值，并将它们指定给光源作为光源颜色。这是段逻辑在脚本中首先执行，首先是为光源设置默认颜色：私有光源为红色，公有光源为绿色。最简单的方法是：
</p><ol ><li class="Default"><p>通过 <strong>Ctrl-拖动</strong> 将两个聚光源组件拖入图表，选择Get引用。
</p></li><li class="Default"><p>分别拖动组件，在搜索栏中输入"光源颜色（Light Color）"。列表中会出现设置光源颜色（Set Light Color）节点。
</p></li></ol><p><picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/SetLightColor_node.jpg">
		<img class="  lazyload" alt="SetLightColor_node.png" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/SetLightColor_node.jpg" />
</picture>

</p><h3 id="创建动态材质实例并存储它们">创建动态材质实例并存储它们</h3>
<div class="fullwidth">
	<p><picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/CreateStoreDMI.jpg">
		<img class="  lazyload" alt="CreateStoreDMI.png" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/CreateStoreDMI.jpg" />
</picture>
</p>
</div><p>接下来是为每盏灯的静态网格体创建动态材质实例（Dynamic Material Instance）。动态材质实例是材质的实例化副本，可以在游戏中以某种方式进行更新。在这个例子中，我们需要更改材质的自发光颜色，使其与聚光源的颜色相同。可以看到，我们创建了两个单独的动态材质实例。这是因为我们需要表示两种颜色。 
</p><p>在每个"创建动态材质实例（Create Dynamic Material Instance）"节点后，还可以看到我们将新创建的材质保存在一个变量中。这让我们可以在之后使用这些材质，如果我们想要调整颜色的话，就需要这些材质。我们可以直接将返回值（Return Value）连到需要使用的位置，但把它保存在变量中会使蓝图脚本看起来更整洁，而且可以在需要时随时在事件图表中获取它。
</p><h3 id="指定新的动态材质实例">指定新的动态材质实例</h3>
<div class="fullwidth">
	<p><picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/AssigningDMIs.jpg">
		<img class="  lazyload" alt="AssigningDMIs.png" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/AssigningDMIs.jpg" />
</picture>
</p>
</div><p>仅仅创建动态材质实例是不够的。你还必须将这些新材质指定给网格体的表面。在脚本的这一部分中，我们把新创建的动态材质实例添加到了灯具的静态网格体上。要注意，材质元素的索引是1，该材质元素已经位于灯具玻璃的静态网格体上。这样我们的材质就能更改灯具玻璃的颜色。
</p><h3 id="为动态材质实例设置颜色">为动态材质实例设置颜色</h3>
<div class="fullwidth">
	<p><picture>
		<source data-srcset="./../../../../../Images/Resources/ContentExamples/Blueprints/1_3/SetLensColor.jpg">
		<img class="  lazyload" alt="SetLensColor.png" data-src="../../../../../Images/Resources/ContentExamples/Blueprints/1_3/SetLensColor.jpg" />
</picture>
</p>
</div><p>动态材质实例已经应用到表面，我们的最后一步是指定这些材质的颜色。在这个例子中，我们用到了两个变量。在本例中，我们将其中一个设置为公有（public），另一个设置为私有（private）。但要注意的是，这样设置主要是为了教学演示。实际上，把这两个变量都设置为公有可能更实际。
</p>
																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="recommendations"></div>			</div>
						  									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/Resources/ContentExamples/Blueprints/1_3/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:44:56 GMT -->
</html>
