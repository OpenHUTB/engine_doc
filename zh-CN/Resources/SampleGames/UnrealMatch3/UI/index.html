<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/Resources/SampleGames/UnrealMatch3/UI/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:47:01 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/Resources/SampleGames/UnrealMatch3/UI/" />');
				var udnCSS = '../../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>创建虚幻三消游戏UI | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/informational.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/Resources/SampleGames/UnrealMatch3/UI/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/Resources/SampleGames/UnrealMatch3/UI/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/Resources/SampleGames/UnrealMatch3/UI/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/Resources/SampleGames/UnrealMatch3/UI/" hreflang="ko" />

	<meta name="intsourcechangelist" content="16146891" />
<meta name="availability" content="Public" />
<meta name="title" content="创建虚幻三消游戏UI" />
<meta name="description" content="介绍虚幻三消示例游戏UI的构建流程。" />
<meta name="version" content="4.10" />
<meta name="related" content="InteractiveExperiences/UMG" />
<meta name="related" content="ProgrammingAndScripting/Blueprints" />
<meta name="topic-image" content="Resources/SampleGames/UnrealMatch3/unrealmatch3_topic.png" />
<meta name="crumbs" content="%ROOT%,Resources,Resources/SampleGames,Resources/SampleGames/UnrealMatch3" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="创建虚幻三消游戏UI" />
	<meta property="og:description" content="介绍虚幻三消示例游戏UI的构建流程。 " />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">

			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">

	<span class="separator">></span> <a id="parent_link" href="../../../index.html">示例与教学</a>

	<span class="separator">></span> <a id="parent_link" href="../../index.html">游戏示例项目</a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">虚幻三消游戏</a>

<span class="separator">></span> <span id="page">创建虚幻三消游戏UI</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">
			<div id="nav-filter-container">
				<div id="nav-filter-inner">
					<form>
						<input type="text" placeholder="Filter pages..." id="nav-filter" onchange="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, this.value);if(this.value.length == 0){$('#filter-clear').hide();}else{$('#filter-clear').show();}" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();" />
						<button class="close-icon" id="filter-clear" type="reset" onclick="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, '');$(this).hide();"></button>
					</form>
				</div>
			</div>
			 <nav id="navPanel">
				<div class="contents-table-el"><!----><!----><!----><!----><a class="contents-table-link is-parent" href="/zh-CN/Basics/index.html">理解基础概念</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WorkingWithContent/index.html">管理内容</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/BuildingWorlds/index.html">构建虚拟世界</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/RenderingAndGraphics/index.html">设计视觉、渲染和图形效果</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProgrammingAndScripting/index.html">编程和脚本编写</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/InteractiveExperiences/index.html">创建交互体验</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/AnimatingObjects/index.html">为角色和对象添加动画</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/WorkingWithMedia/index.html">使用媒体</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProductionPipelines/index.html">建立你的开发流程</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/TestingAndOptimization/index.html">测试并优化你的内容</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/SharingAndReleasing/index.html">项目分享及发布</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/Resources/index.html">示例与教学</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WhatsNew/index.html">新内容</a></div>
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">创建虚幻三消游戏UI</h1>
							</div>	
							<h2 >介绍虚幻三消示例游戏UI的构建流程。 </h2>
							<div id="access">
								<div class="accessContainer">
																																			</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>																		<div id="seeAlso">
	<div style="position:relative;">
		<div id="title">参见</div>
		<div id="pageList">
			<ul>
								<li>
					<p>
						<a id="related_link" href="../../../../InteractiveExperiences/UMG/index.html" title="本文是使用虚幻示意图形来创建UI元素的指南。">UMG UI设计器</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../../../ProgrammingAndScripting/Blueprints/index.html" title="关于使用蓝图可视化脚本系统制作游戏的介绍。">蓝图可视化脚本</a>
					</p>
				</li>
							</ul>
		</div>
	</div>
</div>
																														<div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#标题画面">标题画面</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#主菜单">主菜单</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#选项菜单">选项菜单</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#游戏显示">游戏显示</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#游戏结束显示">游戏结束显示</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#关卡选择">关卡选择</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#howtoplay">How To Play</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#商店菜单">商店菜单</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#延展阅读">延展阅读</a></p>
	</li>		    	        </ul>
</div>
</div>
</div>
<p><strong>虚幻三消（Unreal Match 3）</strong> 示例游戏的 UI 通过 <a id="content_link"filter-data="tag_umg_ui_designer" href="../../../../InteractiveExperiences/UMG/index.html" ><span>UMG UI设计器</span></a> 和 <a id="content_link"filter-data="tag_blueprints" href="../../../../ProgrammingAndScripting/Blueprints/index.html" ><span>蓝图可视化脚本</span></a> 构建。
此示例中包含一些不同的UI元素，包括前端菜单和游戏中的HUD。在构建每种UI元素时，我们也充分考虑到了移动设备。
</p><p>本页将重点介绍每一种菜单，并展示菜单构建过程中考虑到的要素、讨论生成UI美术时的注意事项、如何设置UI以匹配不同移动设备和高宽比、UI的优化步骤，以及一些提示和技巧，有助于加速工作流程。 
</p><h2 id="标题画面">标题画面</h2>
<p><img class="  lazyload" alt="TitleScreen.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/TitleScreen.png" />

</p><p>标题画面（Title Screen）作为 <strong>TitleScreen</strong> 控件蓝图保存在 <strong>Content/UI</strong> 文件夹中。标题画面主要由一些文字控件和一个动画按钮组成。玩家点击或按下按钮时，将前往游戏的主菜单。在图表中我们使用了计时器，每5秒调用并播放跳动动画。点击按钮后，将创建主菜单控件蓝图，并在移除标题画面之前添加到视口。 
</p><p>本示例中将频繁使用标题画面使用按钮的设置。
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/ButtonSetup.jpg">
		<img class="  lazyload" alt="ButtonSetup.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/ButtonSetup.jpg" />
</picture>

</p><p>此处我们使用缩放框选中按钮，即可对整体内容进行线性缩放。按钮在悬停（Hovered）、普通（Normal）和按下（Pressed）状态时指定为绿色背景。然后，我们使用包含图像（图标）的覆层包裹缩放框，以便在整个按钮中单独缩放图标的尺寸。 
</p><p>我们选择不将图标直接烘焙到背景中，以便在必要时相互交换，或者使用不同背景使它们更易于交换。 
</p><h2 id="主菜单">主菜单</h2>
<p><img class="  lazyload" alt="MainMenu.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/MainMenu.png" />

</p><p>主菜单（Main Menu）作为 <strong>MainMenu</strong> 控件蓝图保存在 <strong>Content/UI</strong> 文件夹中。玩家可以在主菜单中进行多项操作，其中包含10个按钮，用于进行设置、进入游戏商店、开始游戏、选择关卡等。在移动设备上进行游戏时，玩家可基于不同平台（安卓或 iOS）访问特定排行榜和成就。 
</p><p>此控件蓝图的图表已经完成设置，因此玩家点击切换至新菜单画面（设置、选择关卡、商店等）的按钮时，我们首先检查玩家之前是否已经访问过此画面，如未曾访问，则创建相应的控件蓝图，显示画面并将其保存为一个变量，以便下次访问该画面。这样便可避免在玩家每次访问时创建/销毁画面。 
</p><p>在设计主菜单画面时，需要确定顶部和底部按钮的布局方式。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/UniformGridPanelUsage.jpg">
		<img class="  lazyload" alt="UniformGridPanelUsage.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/UniformGridPanelUsage.jpg" />
</picture>

</p><p>我们决定使用 <strong>均匀网格面板（Uniform Grid Panel）</strong> 代替 <strong>水平框（Horizontal Box）</strong> 来保存每个按钮（可以轻松完成）。
这样，我们便能在 <strong>细节（Details）</strong> 面板中指定槽填充的量，添加到每个添加的子项（不在每个单独添加的按钮上进行操作）。我们只需要将按钮居中，它们便会在网格面板中均匀分布。 
</p><h2 id="选项菜单">选项菜单</h2>
<p><img class="  lazyload" alt="Options1.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/Options1.png" />
 <img class="  lazyload" alt="Options2.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/Options2.png" />

</p><p>选项菜单（Options Menu）作为 <strong>OptionsMenu</strong> 控件蓝图保存在 <strong>Content/UI</strong> 文件夹中。如左图所示，选项菜单已重设，用于主菜单以及在游戏内按下选项按钮时显示。菜单内容会根据上下文菜单变化，将出现额外选项，并使用风格化的处理方式。 
</p><p>此控件蓝图的图表包含发生变更的选项的加载/保存逻辑，由 <strong>Global Game Instance</strong> 蓝图处理。 
我们还将查看玩家是否正在游戏内或主菜单中访问选项，替换在下方显示的按钮，或启用/禁用背景色。 
</p><p>在游戏内的选项菜单中执行特定操作时会出现确认画面。
通常来说，最好在创建UI画面时（退出游戏、购买物品、删除物品等）为"销毁"操作设置确认页面，以防用户无意选中某项内容或执行不需要的操作。 
</p><p>此画面在项目中的使用频率较高，我们已创建一个单独的控件蓝图，名为 <strong>确认画面（ConfirmationScreen）</strong>（保存在 <strong>Content/UI</strong> 文件夹中），在玩家需要取消选择操作时，可以调用显示该画面。
下图是 <strong>选项菜单（OptionsMenu）</strong> 控件蓝图中使用的脚本，可以创建/显示控件并绑定"应用"（Accept）和"返回"（Back）按钮，对选项菜单执行操作。 
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/ConfirmationMenu.png" ><span><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/ConfirmationMenu.jpg">
		<img class="  lazyload" alt="ConfirmationMenu.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/ConfirmationMenu.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>点击查看大图。 </p>
</div><h2 id="游戏显示">游戏显示</h2>
<p><img class="  lazyload" alt="InGameDisplay.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/InGameDisplay.png" />

</p><p>主要的游戏HUD包含在 <strong>Content/UI</strong> 文件夹的 <strong>GameScreen</strong> 控件蓝图中。控件蓝图定义组成整体显示的单独块布局：计分板（<strong>ScoreBoardWB</strong> 控件蓝图）、炸弹能量（<strong>PowerBarHorz</strong> 控件蓝图）和设置按钮（展示 <strong>OptionsMenu</strong> 控件蓝图）。
</p><p>GameScreen控件蓝图的图表只包含显示选项菜单的逻辑。计分板和炸弹能量条的更新逻辑由各自的控件蓝图处理，这样可以使内容更模块化、易于理解（而不是将所有内容放置在一个控件蓝图中）。
</p><h4 id="计分板显示">计分板显示</h4>
<p>计分板（Score Board）控件蓝图展示游戏的重要信息，如当前分数、剩余时间、最高分和获得奖牌所需的分数。
在游戏中，时间和分数的值经常发生变化（与最高分或奖牌分数不同）。在时间显示方面，<strong>尺寸框（Size Box）</strong> 用于匹配固定位置的标题文本和时间数值。
同样，分数显示使用 <strong>水平框（Horizontal Box）</strong>，标题设为 <strong>自动（Auto）</strong>，数值设为 <strong>填充（Fill）</strong>。水平框自身也被设为水平填充，为显示的各种分数提供固定布局。
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/ScoreBoardWidget.jpg">
		<img class="  lazyload" alt="ScoreBoardWidget.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/ScoreBoardWidget.jpg" />
</picture>

</p><p>关于计分板，另一项内容是将信息更新变为 <a id="content_link"filter-data="tag_umg_ui_designer" href="../../../../InteractiveExperiences/UMG/HowTo/EventBasedUI/index.html" ><span>基于事件</span></a> 更新，避免频繁地通过Tick进行更新。
这样就需每帧检查分数是否已更新或查看定时器数值是否已发生变化，可以大大节省成本。我们还使用 <a id="content_link"filter-data="tag_umg_ui_designer" href="../../../../InteractiveExperiences/UMG/UserGuide/WidgetTypeReference/Invalidation/index.html" ><span>无效化方框</span></a> 缓存木头背景块。
这样，我们只需要将这些块绘制一次并缓存即可，无需每帧再次绘制（可再次节约开销）。 
</p><h4 id="炸弹条显示">炸弹条显示</h4>
<p>在炸弹能量条显示（<strong>PowerBarHorz</strong> 控件蓝图）方面，使用尺寸框进行覆盖并使用自定义宽度/高度数值。
材质将用作进度条的填充图像（<strong>Content/Materials</strong> 文件夹中的 <strong>M_JaggedRockFire_MeshEmit_Lit</strong>）。
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/BombMaterial.jpg">
		<img class="  lazyload" alt="BombMaterial.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/BombMaterial.jpg" />
</picture>

</p><p>和计分板相同，进度条随事件更新（不随Tick更新），开销更低。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/SetProgressValue.jpg">
		<img class="  lazyload" alt="SetProgressValue.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/SetProgressValue.jpg" />
</picture>

</p><p><strong>设置百分比（Set Percent）</strong> 函数负责进度条的填充，增量设为20%（从三消游戏模式中获得）。 
</p><h4 id="漂浮文本显示">漂浮文本显示</h4>
<p>得分时显示的漂浮文本（Floating Text）由多个不同的蓝图进行处理。第一个是 <strong>FloatingScore</strong> 控件蓝图（也位于 <strong>Content/UI</strong> 文件夹中），负责处理显示的文本。第二个是 <strong>Content/Blueprints</strong> 文件夹中的 <strong>FloatingScoreBP</strong>。这是一个生成的 Actor，包含基于 FloatingScore 控件蓝图的 3D 控件组件。此 Actor 生成后，调用动画前将执行延迟，淡出文本并销毁生成的 Actor（如下图所示）。
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/FloatingScoreBP.jpg">
		<img class="  lazyload" alt="FloatingScoreBP.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/FloatingScoreBP.jpg" />
</picture>

</p><p><strong>GameLevel_GM</strong> 蓝图（<strong>Content/Blueprints</strong> 文件夹）和 <strong>Tile_BP</strong> 蓝图（<strong>Content/Blueprints/Tiles</strong> 文件夹）二者共同决定漂浮分数生成的位置。在Tile_BP中，事件用于何时开始进行消除。如果消除达到了一定的奖励分数，会将消除位置传送到 GameLevel_GM，并在生成漂浮文字之前处理奖励分数。
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/FloatingScore.jpg">
		<img class="  lazyload" alt="FloatingScore.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/FloatingScore.jpg" />
</picture>

</p><div class="caption">
	<p>在上图的 <strong>GameLevel_GM</strong> 中，分数已经定义，已开始在比赛位置生成漂浮文字。 </p>
</div><h2 id="游戏结束显示">游戏结束显示</h2>
<p><img class="  lazyload" alt="YouWinScreen.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/YouWinScreen.png" />
 <img class="  lazyload" alt="YouLoseScreen.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/YouLoseScreen.png" />

</p><p>游戏结束画面（You Win 和 You Lose）作为 <strong>VictoryScreen</strong> 控件蓝图保存在 <strong>Content/UI</strong> 文件夹中。游戏结束时将调用相同的控件蓝图，但将基于会话结果进行更新。 
</p><p>如游戏胜利，将显示蓝色背景和赢得的奖牌。如游戏失败，将显示红色背景，文字内容变为"你输了（you lose）"。
</p><p>无论胜负，均会显示获得的分数和一系列按钮，你可以返回主菜单、显示特定平台的排行榜或成就，或再来一局。 
</p><p>屏幕底部显示的按钮保存在 <strong>GameOverButtons</strong> 控件蓝图中。它们与游戏结束画面（Game Over Screen）控件分离，以便进行重设并用于其他画面，无需在每次显示这些选项时重新设置。 
</p><h3 id="排行榜/成就">排行榜/成就</h3>
<div class="topics third">
	<div class="topicContainer">
	<!--
image:param
title:param
description:param
path:param
-->
<div class="topics item">
    <a id="topic_link" href="../../../../SharingAndReleasing/Mobile/Leaderboards/index.html">
        		<div class="img_container">
            <p><picture>
		<source data-srcset="./../../../../../Images/SharingAndReleasing/Mobile/Leaderboards/topic.jpg">
		<img class="  lazyload" alt="topic.png" data-src="../../../../../Images/SharingAndReleasing/Mobile/Leaderboards/topic.jpg" />
</picture>

</p>
			        </div>
		        <div class="info">
            <div class="content">
				<div class="subject">
					<div class="text ">
						
使用移动服务排行榜
					</div>
				</div>
                <div class="description">
                    <p>在游戏中使用排行榜。
</p>
                </div>
            </div>
        </div>
    </a>
</div>

</div><div class="topicContainer">
	<!--
image:param
title:param
description:param
path:param
-->
<div class="topics item">
    <a id="topic_link" href="../../../../SharingAndReleasing/Mobile/Achievements/index.html">
        		<div class="img_container">
            <p><picture>
		<source data-srcset="./../../../../../Images/SharingAndReleasing/Mobile/Achievements/topic.jpg">
		<img class="  lazyload" alt="topic.png" data-src="../../../../../Images/SharingAndReleasing/Mobile/Achievements/topic.jpg" />
</picture>

</p>
			        </div>
		        <div class="info">
            <div class="content">
				<div class="subject">
					<div class="text ">
						
使用移动服务成就
					</div>
				</div>
                <div class="description">
                    <p>通过移动平台成就提升玩家粘着度。
</p>
                </div>
            </div>
        </div>
    </a>
</div>

</div>
</div><h2 id="关卡选择">关卡选择</h2>
<p><img class="  lazyload" alt="LevelSelect.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/LevelSelect.png" />
 <img class="  lazyload" alt="LevelSelect2.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/LevelSelect2.png" />

</p><p>关卡选择菜单作为 <strong>LevelSelect</strong> 控件蓝图保存在 <strong>Content/UI</strong> 文件夹中。玩家可在该画面中切换游戏关卡，并切换查看赢得每块奖牌所需的关卡分数。 
</p><p>导航此画面的核心功能保存在关卡选择（Level Select）控件蓝图中，而信息则通过另一个名为 <strong>LevelSelectWidget</strong> 的控件蓝图（也保存在 <strong>Content/UI</strong> 文件夹中）进行传递。 
</p><p>如用户尚未购买关卡，则切换显示带有商店链接的"接受"（Accept）按钮，用户可以直接跳转至商店菜单进行购买。 
</p><h4 id="关卡选择控件">关卡选择控件</h4>
<p>创建关卡选择控件（Level Select Widget）后，即可将所有信息保存到带有完全公开变量的单个源中，以便之后添加关卡。设置完这项内容后，你便无需在关卡选择控件蓝图中寻找如何使用资源或者进行格式设置，只需提供控件蓝图 <strong>细节（Details）</strong> 面板中的信息即可。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/LevelSelectDesigner.jpg">
		<img class="  lazyload" alt="LevelSelectDesigner.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/LevelSelectDesigner.jpg" />
</picture>

</p><div class="caption">
	<p>在上述 <strong>细节（Details）</strong> 面板中，可对关卡相关方面的数值进行设置。 </p>
</div><p>进行此设置后，就能够以不同方式使用。你可以为每个关卡添加关卡选择控件，定义用于显示每个关卡信息的默认值，并在浏览菜单时开关每个关卡选择控件的可视性。另一种方法是设置一个关卡选择控件，然后通过脚本来更新控件传递的信息（虚幻三消中使用了这种方法）。
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/SetLevelFunction.jpg">
		<img class="  lazyload" alt="SetLevelFunction.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/SetLevelFunction.jpg" />
</picture>

</p><div class="caption">
	<p>上图中创建的函数可通过数值进行显示（此处使用宏获取排行榜分数）。 </p>
</div><h2 id="howtoplay">How To Play</h2>
<p><img class="  lazyload" alt="HowToPlayScreen.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/HowToPlayScreen.png" />

</p><p>"如何操作"（How To Play）菜单作为 <strong>HowToScreen</strong> 控件蓝图保存在 <strong>Content/UI</strong> 文件夹中。此画面说明如何进行游戏，布局十分简洁。它包含数个文本控件，画面的布局和格式与主菜单相同，确保风格一致。 
</p><p>和其他几个画面相同，"如何操作"（How To Play）画面中特定功能，以通过Google Play商店认证，并且可以通过设备的"返回"（Back）按钮退出画面。 
</p><h4 id="安卓返回按钮">安卓返回按钮</h4>
<p>按照安卓应用程序要求，在每个画面中按下设备的"返回"（Back）按钮即可退出画面。控件蓝图无法直接访问通常保存在蓝图中的输入函数（如玩家控制器、角色、甚至 Actor）。因此，我们使用 <strong>Match3PC</strong> 玩家控制器（<strong>Content/Blueprints</strong> 文件夹中），此处安卓返回命令将调用事件调度器，然后将其绑定到需要提供此功能的每个菜单中。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/AndroidBackButton.jpg">
		<img class="  lazyload" alt="AndroidBackButton.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/AndroidBackButton.jpg" />
</picture>

</p><div class="tip">
	<p>如需在游戏暂停时执行输入操作，请确认已将 <strong>Execute when Paused</strong> 设为 true。 </p>
</div><p>下图展示了在 How To 画面设置安卓 Back 按钮功能的脚本。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/BackButtonHowTo.jpg">
		<img class="  lazyload" alt="BackButtonHowTo.png" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/BackButtonHowTo.jpg" />
</picture>

</p><p>在这里，我们将把一个事件绑定到事件调度器，安卓键按下时将从 <strong>Match 3 PC</strong> 蓝图调用此调度器。将主菜单控件设为可见、How To画面设为隐藏之前，需要确定能通过分支节点查看How To画面。 
</p><h2 id="商店菜单">商店菜单</h2>
<p><img class="  lazyload" alt="StoreMenu.png" width="200" data-src="../../../../../Images/Resources/SampleGames/UnrealMatch3/UI/StoreMenu.png" />

</p><p>商店画面作为 <strong>StoreScreen</strong> 控件蓝图保存在 <strong>Content/UI</strong> 文件夹中。此画面的布局被特意设为与关卡选择画面布局相似，玩家解锁新关卡之后即可在关卡选择菜单中进行选择。 
</p><p>从主菜单进入此画面时，玩家将首先看到一个确认消息（ConfirmationScreen 控件蓝图），说明可从此画面购买物品，并允许玩家退出此画面。选择接受此确认消息后，玩家将前往主商店菜单。 
</p><p>此画面中的内容主要由边框、覆层、文本控件、图像和垂直框构成，以便对齐。可以基于该布局结构复制/粘贴菜单导航，可以在关卡与此菜单之间进行切换，并且可以添加更多"页"可购买的物品。
</p><h4 id="从商店进行购买">从商店进行购买</h4>
<div class="topicContainer">
	<!--
image:param
title:param
description:param
path:param
-->
<div class="topics item">
    <a id="topic_link" href="../../../../SharingAndReleasing/Mobile/InAppPurchases/index.html">
        		<div class="img_container">
            <p><picture>
		<source data-srcset="./../../../../../Images/SharingAndReleasing/Mobile/InAppPurchases/iap_topic.jpg">
		<img class="  lazyload" alt="iap_topic.png" data-src="../../../../../Images/SharingAndReleasing/Mobile/InAppPurchases/iap_topic.jpg" />
</picture>

</p>
			        </div>
		        <div class="info">
            <div class="content">
				<div class="subject">
					<div class="text ">
						
使用应用程序内购买
					</div>
				</div>
                <div class="description">
                    <p>使用应用程序内购买，为您的游戏提供额外的付费内容。
</p>
                </div>
            </div>
        </div>
    </a>
</div>

</div><h2 id="延展阅读">延展阅读</h2>
<p>更多阅读内容提供如下： 
</p><ul ><li class="Default"><p>如需了解UI元素缩放，请参阅如何 <a id="content_link"filter-data="tag_umg_ui_designer tag_scalability tag_dpi" href="../../../../InteractiveExperiences/UMG/HowTo/ScalingUI/index.html" ><span>缩放不同设备的UI</span></a>。 
</p></li><li class="Default"><p>如需了解事件优化，请参阅如何 <a id="content_link"filter-data="tag_umg_ui_designer" href="../../../../InteractiveExperiences/UMG/HowTo/EventBasedUI/index.html" ><span>用事件驱动UI更新</span></a>。 
</p></li><li class="Default"><p>如需了解最佳方法、提示和技巧，请参阅 <a id="content_link"filter-data="tag_umg_ui_designer tag_getting_started" href="../../../../InteractiveExperiences/UMG/UserGuide/BestPractices/index.html" ><span>UMG 最佳实践</span></a> 。
</p></li></ul>
																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="recommendations"></div>			</div>
						  									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/Resources/SampleGames/UnrealMatch3/UI/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:47:09 GMT -->
</html>
