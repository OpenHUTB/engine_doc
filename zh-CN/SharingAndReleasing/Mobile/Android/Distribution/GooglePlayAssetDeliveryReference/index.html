<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 11:43:52 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/" />');
				var udnCSS = '../../../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>Google Play资产交付参考 | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../../../Include/Javascript/informational.js" type="text/javascript"></script>
	    <script  src="../../../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/" hreflang="ko" />

	<meta name="redirect" content="Platforms/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference" />
<meta name="intsourcechangelist" content="16388653" />
<meta name="availability" content="public" />
<meta name="version" content="4.25" />
<meta name="title" content="Google Play资产交付参考" />
<meta name="description" content="有关Google PAD API的参考和实现指南" />
<meta name="parent" content="SharingAndReleasing/Mobile/Android/Distribution" />
<meta name="type" content="reference" />
<meta name="keywords" content="Patching" />
<meta name="keywords" content="Asset Delivery" />
<meta name="keywords" content="Google Play" />
<meta name="keywords" content="Android" />
<meta name="keywords" content="Mobile" />
<meta name="related" content="SharingAndReleasing/Mobile/Android/PackagingAndroidProject" />
<meta name="related" content="SharingAndReleasing/Mobile/Android/ShippingWithAndroid" />
<meta name="crumbs" content="%ROOT%,SharingAndReleasing,SharingAndReleasing/Mobile,SharingAndReleasing/Mobile/Android,SharingAndReleasing/Mobile/Android/Distribution" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="Google Play资产交付参考" />
	<meta property="og:description" content="有关Google PAD API的参考和实现指南" />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">
			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">

	<span class="separator">></span> <a id="parent_link" href="../../../../index.html">项目分享及发布</a>

	<span class="separator">></span> <a id="parent_link" href="../../../index.html">移动平台游戏开发</a>

	<span class="separator">></span> <a id="parent_link" href="../../index.html">安卓游戏开发</a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">安卓平台分发</a>

<span class="separator">></span> <span id="page">Google Play资产交付参考</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">

			 <nav id="navPanel">
				<div class="contents-table-el"><!----><!----><!----><!----><a class="contents-table-link is-parent" href="/zh-CN/Basics/index.html">理解基础概念</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WorkingWithContent/index.html">管理内容</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/BuildingWorlds/index.html">构建虚拟世界</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/RenderingAndGraphics/index.html">设计视觉、渲染和图形效果</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProgrammingAndScripting/index.html">编程和脚本编写</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/InteractiveExperiences/index.html">创建交互体验</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/AnimatingObjects/index.html">为角色和对象添加动画</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/WorkingWithMedia/index.html">使用媒体</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProductionPipelines/index.html">建立你的开发流程</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/TestingAndOptimization/index.html">测试并优化你的内容</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/SharingAndReleasing/index.html">项目分享及发布</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/Resources/index.html">示例与教学</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WhatsNew/index.html">新内容</a></div>
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">Google Play资产交付参考</h1>
							</div>	
							<h2 >有关Google PAD API的参考和实现指南</h2>
							<div id="access">
								<div class="accessContainer">
																																			</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>																		<div id="seeAlso">
	<div style="position:relative;">
		<div id="title">参见</div>
		<div id="pageList">
			<ul>
								<li>
					<p>
						<a id="related_link" href="../../PackagingAndroidProject/index.html" title="介绍如何打包最终Android项目。">打包Android项目</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../ShippingWithAndroid/index.html" title="在Google Play商店中设置UE4驱动的游戏。">Android上的发布</a>
					</p>
				</li>
							</ul>
		</div>
	</div>
</div>
																														<div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#启用googlepad插件">启用Google PAD插件</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#创建资产包">创建资产包</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#资产包交付模式">资产包交付模式</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#创建数据块">创建数据块</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#在appbundle构建中包含数据块">在App Bundle构建中包含数据块</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#排除来自obb文件的数据块">排除来自OBB文件的数据块</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#api参考">API参考</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#请求和错误处理">请求和错误处理</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#获取已下载文件的位置">获取已下载文件的位置</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#请求关于资产包的信息">请求关于资产包的信息</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#请求或取消下载">请求或取消下载</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#获取蜂窝数据状态">获取蜂窝数据状态</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#监测下载状态">监测下载状态</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#删除资产包">删除资产包</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#推荐的实现">推荐的实现</a></p>
	</li>		    	        </ul>
</div>
</div>
</div>
<p><strong>Google Play Asset Delivery（Google PAD）</strong> 是Google Play商店的解决方案，用于将资产包安装到设备上后将其交付给应用程序。此解决方案设计为与 <strong>Android App Bundle</strong> 发布格式一起使用。App Bundle为最终用户发布自定义.apk，处理初始安装的代码和二进制文件，而Play Asset Delivery系统则独立于.apk提供模型、纹理、声音、着色器和其他大型资产文件。这样，通过Google Play发布的应用就可通过按需交付内容管理内容占用空间。
</p><p>有关Google Play资产交付的更多详情，请参阅Android官方文档：https://android-developers.googleblog.com/2020/06/introducing-google-play-asset-delivery.html
</p><p><strong>虚幻引擎4.25</strong> 及更高版本支持通过插件集成Google PAD，使此系统易于在自己的项目中执行。此插件提供了一个函数库，用于管理下载以及从Play Asset交付系统请求信息。C++和蓝图均提供了 <code>UGooglePADFunctionLibrary</code>。
</p><div class="note">
	<p>欲了解通过Android App Bundle的更多信息，参见<a id="content_link"filter-data="tag_mobile tag_packaging tag_deployment tag_android tag_guides tag_distribution" href="../../PackagingAndroidProject/index.html" ><span>Android项目打包</span></a>。</p>
</div><h2 id="启用googlepad插件">启用Google PAD插件</h2>
<p>可在虚幻编辑器的 <strong>插件（Plugins）</strong> 窗口的 <strong>Android</strong> 分段下找到Google PAD插件。虚幻引擎4.25.0和更高版本中默认启用该插件。如需使用Google PAD，你必须使用Android App Bundles作为你的打包格式。
</p><p><picture>
		<source data-srcset="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/GooglePADPlugin.jpg">
		<img class="  lazyload" alt="Google PAD Plugin" data-src="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/GooglePADPlugin.jpg" />
</picture>

</p><p>要完全启用该插件，打开 <strong>项目设置（Project Settings）</strong> 并导航至 <strong>插件（Plugins）</strong> > <strong>GooglePAD</strong> > <strong>打包（Packaging）</strong>。单击 <strong>启用插件（Enable Plugin）</strong> 复选框，该模块将在Android项目启动时可用。
</p><p><picture>
		<source data-srcset="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/GooglePADPlugin_2.jpg">
		<img class="  lazyload" alt="Google PAD Plugin Options" data-src="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/GooglePADPlugin_2.jpg" />
</picture>

</p><p>若要将Google PAD用于 <strong>安装时（install-time）</strong> 资产，则还需导航至 <strong>平台（Platforms）</strong> > <strong>Android</strong> > <strong>APK打包（APK Packaging）</strong>，并禁用 <strong>在APK内打包数据（Package data inside APK）</strong>。main .obb文件然后会作为安装时资产包自动交付。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/GooglePADPlugin_3.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/GooglePADPlugin_3.jpg">
		<img class="  lazyload" alt="Disable APK Package Data in APK" width="700" data-src="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/GooglePADPlugin_3.jpg" />
</picture>
</span></a></span></p>
</div><p><div class="caption">
	<p>点击查看大图</p>
</div>
</p><h2 id="创建资产包">创建资产包</h2>
<p>Google PAD的 <strong>资产包</strong> 封装在Android App Bundle构建中，并在上传时由Google Play商店管理。本部分介绍如何打包和整理资产包，以便包含在App Bundle中。
</p><h3 id="资产包交付模式">资产包交付模式</h3>
<p><strong>数据块（Chunks）</strong> 是虚幻引擎用于整理外部资产的格式。数据块0（Chunks 0）代表游戏的基础安装，而所有其他数据块都是.pak文件，其中包含游戏主安装之外的资产。 
</p><p>要使用Google PAD，你必须将游戏的资产分组为数据块，然后根据你要使用的交付模式将这些数据块分组为资产包。Google Play Asset Delivery支持以下资产包交付模式：
</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>交付模式 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>文件大小限制（每个资产包） </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>安装时间（Install-Time）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>1 GB</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>安装时交付的资产包。项目中的主要.obb会自动捆绑到此资产包中。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>快速跟进（Fast-Follow）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>512 MB</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>应用程序安装后，资产包自动下载。无需打开应用程序即可下载。每个项目仅允许使用一个快速跟进资产包。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>按需（On-Demand）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>512 MB</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>应用程序运行时下载的资产包。</p>
			</td>
	
</tr></tbody>
</table><p>你总共可以为每个应用程序创建 <strong>50</strong> 个资产包。每个项目仅有一个安装时间和一个快速跟进资产包，但是只要不超过此限制，你就可以使用任意数量的按需资产包。
</p><h3 id="创建数据块">创建数据块</h3>
<p>打开 **项目设置，然后导航到项目（Project）> 打包（Packaging），并确保启用生成块（Generate Chunks）。
</p><p><picture>
		<source data-srcset="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/GenerateChunks.jpg">
		<img class="  lazyload" alt="Activate Generate Chunks in the Project > Packaging section" data-src="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/GenerateChunks.jpg" />
</picture>

</p><p>现在，你可以使用 <strong>资产管理器</strong> 或 <strong>主要资产标签</strong> 将资产整理为数据块。 
</p><p>在内容浏览器中点击右键，然后点击 <strong>其他（Miscellaneous）</strong> > <strong>数据资产（Data Asset）</strong>，即可创建主要资产标签。 
</p><div class="Lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/CreateDataAsset.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/CreateDataAsset.jpg">
		<img class="  lazyload" alt="Creating a Data Asset" width="700" data-src="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/CreateDataAsset.jpg" />
</picture>
</span></a></span></p>
</div><p><div class="caption">
	<p>点击查看大图。</p>
</div>
</p><p>系统将提示你选择 <strong>数据资产类别（Data Asset Class）</strong>。选择 <strong>主资产标签（PrimaryAssetLabel）</strong>，然后点击 <strong>选择（Select）</strong>。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/SelectingDataAsset.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/SelectingDataAsset.jpg">
		<img class="  lazyload" alt="Selecting Primary Asset Label as our Data Asset Class" width="700" data-src="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/SelectingDataAsset.jpg" />
</picture>
</span></a></span></p>
</div><p><div class="caption">
	<p>点击查看大图。</p>
</div>
</p><p>命名新的主资产标签，然后双击编辑其信息。
</p><div class="Lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/EditDataAsset.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/EditDataAsset.jpg">
		<img class="  lazyload" alt="Editing a Primary Data Asset" width="700" data-src="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/EditDataAsset.jpg" />
</picture>
</span></a></span></p>
</div><p><div class="caption">
	<p>点击查看大图。</p>
</div>
</p><p>启用 <strong>我的目录中的标签资产（Label Assets in my Directory）</strong>，将同一文件夹中的所有资产指定为属于此资产标签。将 <strong>数据块ID（Chunk ID）</strong> 设置为大于0的任何值，以便指定属于此标签的资产属于哪个数据块。你也可以使用 <strong>显式资产（Explicit Assets）</strong> 列表将资产直接添加到资产标签。
</p><p>资产管理器位于 <strong>项目设置（Project Settings）</strong> 中的 <strong>游戏（Game）</strong> > <strong>资产管理器（Asset Manager）</strong>。
</p><div class="Lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/AssetManager.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/AssetManager.jpg">
		<img class="  lazyload" alt="Viewing the Asset Manager" width="700" data-src="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/AssetManager.jpg" />
</picture>
</span></a></span></p>
</div><p><div class="caption">
	<p>点击查看大图。</p>
</div>
</p><p>在这里，你可以指定项目将使用的规则，以便程序化地将资产分组为数据块。有关更多细节，请查阅<a id="content_link"filter-data="tag_assets tag_asset_management tag_cooking tag_chunking tag_patching tag_dlc tag_downloadable_content" href="../../../../Patching/GeneralPatching/CookingAndChunking/index.html" ><span>烘焙和数据块划分</span></a>页面。
</p><p>指定哪些资产属于特定数据块后，则 <strong>打包</strong> 项目会将数据块输出为 <strong>.pak</strong> 文件。你可以在 <code>Saved\StagedBuilds[PlatformName&#93;[ProjectName&#93;\Content\Paks</code> 的项目文件夹中找到文件。 
</p><div class="Lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/ChunkInDirectory.png" ><span><picture>
		<source data-srcset="./../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/ChunkInDirectory.jpg">
		<img class="  lazyload" alt="Pak files in the StagedBuilds directory" width="700" data-src="../../../../../../Images/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/ChunkInDirectory.jpg" />
</picture>
</span></a></span></p>
</div><p><div class="caption">
	<p>点击查看大图。</p>
</div>
</p><h3 id="在appbundle构建中包含数据块">在App Bundle构建中包含数据块</h3>
<p>对于将数据块合并到App Bundle中时，Play Asset Deliver的每种交付模式都有不同的要求。
</p><p>对于安装时间资产，你无需进行任何更改。
</p><p>对于快速跟进（Fast-Follow）或按需（On-Demand）资产，请选择你要包含的.pak文件，然后将其移动到项目的 <code>Build/Android/gradle/assetpacks</code> 目录中。每种交付模式都有不同的子文件夹：
</p><ul ><li class="Default"><p>快速跟进（Fast-Follow）资产包必须放在 <code>Build/Android/gradle/assetpacks/fast-follow/&#91;assetpackname&#93;/src/main/assets</code>
</p></li><li class="Default"><p>按需（On-Demand）资产包必须放在 <code>Build/Android/gradle/assetpacks/on-demand/&#91;assetpackname&#93;/src/main/assets</code>
</p></li></ul><p>将[assetpackname]替换为捆绑数据块的目标资产包的名称。你可以使用不同的.pak文件集创建多个不同的命名资产包。但是，资产包的名称必须唯一，并且不能在快速跟进和按需之间重复使用。该名称将是你在使用API查询资产包时使用的名称。
</p><p>最后，你需要在资产包文件夹中添加build.gradle文件，其中包含以下代码：
</p><pre class="prettyprint"><code>apply plugin: 'com.android.asset-pack'

def fileparts = projectDir.absolutePath.replaceAll('\\\\', '/').tokenize('/')
def assetPackName = fileparts&#91;fileparts.size()-1&#93;
def assetPackType = fileparts&#91;fileparts.size()-2&#93;

assetPack {
    packName = assetPackName
    dynamicDelivery {
        deliveryType = assetPackType
        instantDeliveryType = assetPackType
    }
}</code></pre>
<p>当你满足这些要求之后，再次将该项目打包为App Bundle，打包出的版本将包含所有资产包。当你将App Bundle上传到Google Play商店时，将可以使用Google PAD API下载资产包。
</p><div class="note">
	<p>虚幻引擎4.26中将进一步简化该工作流程。</p>
</div><h2 id="排除来自obb文件的数据块">排除来自OBB文件的数据块</h2>
<p>默认情况下，.pak文件包含在与项目一起生成的OBB文件中。要排除它们，你需要打开你的 "DefaultEngine.ini " 文件，用"Android运行时设置"中的OBB过滤器过滤它们。
</p><pre class="prettyprint"><code>&#91;/Script/AndroidRuntimeSettings.AndroidRuntimeSettings&#93;
+ObbFilters="-&#42;pakchunk1&#42;"
+ObbFilters="-&#42;pakchunk2&#42;"
+ObbFilters="-&#42;pakchunk3&#42;"
+ObbFilters="-&#42;pakchunk4&#42;"
+ObbFilters="-&#42;pakchunk5&#42;"
+ObbFilters="-&#42;pakchunk6&#42;"
+ObbFilters="-&#42;pakchunk7&#42;"
+ObbFilters="-&#42;pakchunk8&#42;"
+ObbFilters="-&#42;pakchunk9&#42;"</code></pre>
<p>在上文的示例中，OBB过滤器会捕捉所有包含这些文本的.pak文件。比如，<code>+ObbFilters="-&#42;pakchunk1&#42;"</code> 会忽略所有文件名称包含 "pakchunk1" 的pak文件。
</p><h2 id="api参考">API参考</h2>
<p>以下各节详细介绍了Google PAD函数库中的可用函数及其用法。
</p><h3 id="请求和错误处理">请求和错误处理</h3>
<p>Google PAD函数库中的所有请求均会返回 <code>EGooglePADErrorCode</code>，它会提示操作是否成功，若操作失败，它则会提示导致请求失败的具体错误。可能出现如下错误代码：
</p><div class="simpletable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>EGooglePADErrorCode </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;NO&#95;ERROR</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>请求没有错误。正常处理请求信息。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;APP&#95;UNAVAILABLE</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>请求应用程序不可用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;UNAVAILABLE</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>应用程序的当前版本不提供请求的资产包。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;INVALID&#95;REQUEST</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>请求无效。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;DOWNLOAD&#95;NOT&#95;FOUND</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>找不到请求的下载。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;API&#95;NOT&#95;AVAILABLE</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>资产包API不可用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;NETWORK&#95;ERROR</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>由于超时或其他网络错误，无法获取有关资产包的详情。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;ACCESS&#95;DENIED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>当前设备环境不允许下载，通常是因为用户未登录Google账户。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;INSUFFICIENT&#95;STORAGE</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>由于存储空间不足，资产包下载失败。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;PLAY&#95;STORE&#95;NOT&#95;FOUND</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此设备没有安装Play Store应用程序，或者没有安装官方版本。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;NETWORK&#95;UNRESTRICTED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>若调用了 <code>ShowCellularDataConfirmation</code>，但没有资产包正在等待wi-fi，则返回此代码。这意味着下载可继续进行，无需等待用户确认。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;INTERNAL&#95;ERROR</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>下载资产包时出现未知错误。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;INITIALIZATION&#95;NEEDED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>尚未调用 <code>AssetPackManager&#95;init</code>，因此尚未启用该API。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;INITIALIZATION&#95;FAILED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>初始化资产包API时出错。</p>
			</td>
	
</tr></tbody>
</table>
</div><p>除了此返回值之外，请求函数还具有提供所请求信息的out变量。若获取的结果为 <code>AssetPack&#95;NO&#95;ERROR</code>，则可正常处理所提供信息。否则，应使用流控制适当响应提供的错误代码。
</p><h3 id="获取已下载文件的位置">获取已下载文件的位置</h3>
<p><code>GetAssetPackLocation</code> 函数获取已下载资产包的位置，并在本地缓存相关信息。若资产可用，将输出整数句柄，该句柄可用于按需访问缓存信息。
</p><p>调用 <code>GetAssetsPath</code> 并提供位置句柄，将输出带有所需资产包资产路径的字符串。<code>GetStorageMethod</code> 将输出 <code>EGooglePADStorageMethod</code>，指示资产包存储在用户设备上的方式。了解资产路径和存储方法后，就可使用适当的调用访问资产。
</p><p>可用的存储方式如下：
</p><div class="simpletable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>EGooglePADStorageMethod </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;STORAGE&#95;FILES</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>资产包解压缩到包含各资产文件的文件夹。可通过标准文件API访问此类资产。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;STORAGE&#95;APK</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>资产包作为APK安装，其中包含已打包的资产文件。可通过AssetManager访问此类资产。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;STORAGE&#95;UNKNOWN</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>没有关于资产包的可用信息，很可能是由于出现错误。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;STORAGE&#95;NOT&#95;INSTALLED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>资产包未安装，因此不可用。</p>
			</td>
	
</tr></tbody>
</table>
</div><p>使用以上信息完成操作后，必须将位置句柄传递给 <code>ReleaseAssetPackLocation</code>，释放缓存位置信息。
</p><p>若 <code>GetAssetPackLocation</code> 返回 AsetPack_UNAVAILABLE<code> 或 AssetPack&#95;DOWNLOAD&#95;NOT&#95;FOUND</code> 的错误代码，则所需资产包不可用，必须下载。
</p><h3 id="请求关于资产包的信息">请求关于资产包的信息</h3>
<p>函数 <code>RequestInfo</code> 接收资产包名称的 <code>Tarray</code>，并返回指示当前状态的 <code>EGooglePADErrorCode</code>。无需RequestInfo启动下载，但RequestInfo可用于确定远程资产包是否有效。
</p><h3 id="请求或取消下载">请求或取消下载</h3>
<p>函数 <code>RequestDownload</code> 接收字符串的 <code>Tarray</code>，该字符串表示要下载的资产包的名称，然后向远程服务发送请求以开始下载资产包。若 <code>RequestDownload</code> 没有显示错误，则资产包将在后台下载并异步传输到应用程序。
</p><p>由于此功能异步，因此 <code>RequestDownload</code> 函数不会返回有关已下载资产包的信息，只有表示请求是否成功的错误代码。必须使用下面<a id="content_link" href="#监测下载状态" ><span>监视下载状态</span></a>部分中详细介绍的函数检查下载的当前状态。要访问资产包本身，必须在下载完成后使用 <code>GetAssetPackLocation</code>。
</p><p>函数 <code>CancelDownload</code> 也使用资产包名称列表，并将取消下载指定的资产包。
</p><h3 id="获取蜂窝数据状态">获取蜂窝数据状态</h3>
<p>函数 <code>ShowCellularDataConfirmation</code> 将提示用户是否要使用蜂窝网络下载数据。若提示已存在，则可使用GetShowCellularDataConfirmationStatus返回 <code>EGooglePADCellularDataConfirmStatus</code>，指示用户是否已批准下载。 
</p><p>结果为 <code>AssetPack&#95;CONFIRM&#95;UNKNOWN</code> 和 <code>AssetPack&#95;CONFIRM&#95;PENDING</code> 表示用户尚未获得批准，申请在获得批准前待定。
</p><p>结果为 <code>AssetPack&#95;CONFIRM&#95;USER&#95;CANCELLED</code> 表示用户已选择不允许使用蜂窝数据，此时不允许下载。 
</p><p>结果为 <code>AssetPack&#95;CONFIRM&#95;USER&#95;APPROVED</code> 表示用户已明确同意使用蜂窝数据，将允许下载继续。此外，若此函数返回结果为 <code>AssetPack&#95;NETWORK&#95;UNRESTRICTED</code> 的 <code>EGooglePADErrorCode</code>，则该用户已连接wi-fi网络，无需使用蜂窝网络数据，因此将允许下载，而无需继续查看此函数。
</p><h3 id="监测下载状态">监测下载状态</h3>
<p><code>GetDownloadState</code> 将在本地缓存资产包的下载状态，并返回提供缓存信息访问权限的下载句柄。此函数接收要下载资产包的名称，并将句柄输出为整数。应保持缓存下载句柄，以便可继续监视下载，否则，需要重新获取。 
</p><p>借助有效的下载句柄，可调用 <code>GetDownloadStatus</code> 将所需资产包的状态以 <code>EGooglePADDownloadStatus</code> 返回。此枚举包含若干种状态，分别表示下载的不同状态，详情如下：
</p><div class="simpletable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>EGooglePADDownloadStatus </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;UNKNOWN</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>目前没有资产包的任何已知信息。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;DOWNLOAD&#95;PENDING</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>已提出下载资产包的异步请求，该请求当前正在待处理中。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;DOWNLOADING</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>资产包下载当前正在进行中。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;TRANSFERRING</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>资产包正在传输到应用程序。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;DOWNLOAD&#95;COMPLETED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>下载和传输均已完成，资产现在可用于该应用程序。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;DOWNLOAD&#95;FAILED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>下载资产包的请求失败。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;DOWNLOAD&#95;CANCELED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>下载资产包的请求已取消。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;WAITING&#95;FOR&#95;WIFI</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>资产包下载正等待wi-fi带宽继续。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;NOT&#95;INSTALLED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>当前未安装资产包。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;INFO&#95;FAILED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>请求有关资产包的信息失败。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;REMOVAL&#95;PENDING</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>已提出删除资产包的异步请求，该请求当前正在待处理中。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><code>AssetPack&#95;REMOVAL&#95;FAILED</code></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>删除资产包的异步请求失败。</p>
			</td>
	
</tr></tbody>
</table>
</div><p>还可使用下载状态句柄调用 <code>GetBytesDownloaded</code>（返回当前下载到用户设备的字节数）和 <code>GetTotalBytesToDownload</code>（返回下载的总目标大小）。 
</p><p>使用下载状态信息完成后，必须调用 <code>ReleaseDownloadState</code> 并提供句柄，从内存释放缓存的下载信息。
</p><h3 id="删除资产包">删除资产包</h3>
<p>函数 <code>RequestRemoval</code> 接收资产包名称，并以异步方式从用户设备删除指定资产包。如上所述，可使用 <code>GetDownloadStatus</code> 监视资产包的删除状态。
</p><h2 id="推荐的实现">推荐的实现</h2>
<p>Google PAD API的实现可以建模成不同状态的循环，每个状态对应一个下载。
</p><div class="simpletable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>状态 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>正在访问资产包（Accessing Asset Pack）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<ul ><li class="Default"><p>使用 <code>GetAssetPackLocation</code> 检查是否已经下载资产包。应先运行此函数，避免尝试下载已有资产。
</p></li><li class="Default"><p>使用 <code>GetAssetsPath</code> 和 <code>GetStorageMethod</code> 确定适用于资产包的文件路径和访问方法。
</p></li><li class="Default"><p>必须调用 <code>ReleaseAssetPackLocation</code> 为资产包的缓存位置释放内存。
</p></li></ul>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>正在启动下载（Initiating Download）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<ul ><li class="Default"><p>若所需资产包在本地不可用，请调用 <code>RequestDownload</code> 启动下载。
</p></li><li class="Default"><p>若出现连接问题，则可能需要重复执行 <code>RequestDownload</code> 直到成功。
</p></li></ul>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>正在检查蜂窝数据确认（Checking for Cellular Data Confirmation）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<ul ><li class="Default"><p>使用 <code>ShowCelllarDataConfirmation</code> 确保应用程序具有继续下载的权限。
</p></li><li class="Default"><p>在出现初始蜂窝数据确认提示后，使用 <code>GetShowCellularDataConfirmationStatus</code> 输出提示的当前状态。这将在 <code>Tick</code> 函数中持续出现，直到取消或确认提示。
</p></li></ul>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>正在监视下载状态（Monitoring Download Status）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<ul ><li class="Default"><p><code>RequestDownload</code> 成功运行后，使用 <code>GetDownloadState</code> 缓存下载状态并获取句柄访问。此函数仅需调用一次，只要你需要使用它，就请缓存该句柄。
</p></li><li class="Default"><p>使用 <code>GetBytesDownloaded</code> 和 <code>GetTotalBytesToDownload</code> 查看下载进度。<code>GetBytesDownloaded</code> 将在标记后持续运行，直到停止监视进度为止。
</p></li><li class="Default"><p>使用 <code>GetDownloadStatus</code> 确定具体的下载状态。此外，它还应该在Tick中持续被监测。状态返回 <code>AssetPack&#95;DOWNLOAD&#95;COMPLETED</code> 时，你可以停止监测下载状态并访问资产包。
</p></li><li class="Default"><p>完成后，必须调用 <code>RelaseDownloadState</code> 释放用于缓存下载状态的内存。
</p></li></ul>
			</td>
	
</tr></tbody>
</table>
</div><p>在自定义 <strong>GameState</strong> 类中执行解决方案即可连续跟踪下载，即使更改场景和游戏模式也是如此。或者，可能想要在启动时加载的前端游戏模式中执行解决方案，以便在启动游戏之前执行必要的补丁程序和更新。解决方案的具体细节将取决于项目具体的资产更新需求。
</p>
																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="pageTags">
				<div class="title">标签</div>
					<div>
					<div class="keyword_tag_filter"><a id="tag_link" href="../../../../../SiteIndex/index.html?tags=Patching">Patching</a></div>
<div class="keyword_tag_filter"><a id="tag_link" href="../../../../../SiteIndex/index.html?tags=Asset%20Delivery">Asset Delivery</a></div>
<div class="keyword_tag_filter"><a id="tag_link" href="../../../../../SiteIndex/index.html?tags=Google%20Play">Google Play</a></div>
<div class="keyword_tag_filter"><a id="tag_link" href="../../../../../SiteIndex/index.html?tags=Android">Android</a></div>
<div class="keyword_tag_filter"><a id="tag_link" href="../../../../../SiteIndex/index.html?tags=Mobile">Mobile</a></div>
					</div>
				</div>
								<div id="recommendations"></div>			</div>
						  									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/SharingAndReleasing/Mobile/Android/Distribution/GooglePlayAssetDeliveryReference/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 11:43:58 GMT -->
</html>
