<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 10:36:25 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/" />');
				var udnCSS = '../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>Unreal Swarm | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../Include/Javascript/informational.js" type="text/javascript"></script>
	    <script  src="../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/" hreflang="ko" />

	<meta name="redirect" content="RenderingAndGraphics/LightingAndShadows/Lightmass/UnrealSwarmOverview" />
<meta name="redirect" content="Engine/Rendering/LightingAndShadows/Lightmass/UnrealSwarmOverview" />
<meta name="intsourcechangelist" content="14262366" />
<meta name="availability" content="Public" />
<meta name="title" content="Unreal Swarm" />
<meta name="description" content="概述了Unreal Swarm，这是我们用于计算开销较大的应用的任务分配系统，包括虚幻引擎4中的高质量静态全局照明解决方案Unreal Lightmass。" />
<meta name="type" content="" />
<meta name="version" content="4.19" />
<meta name="parent" content="RenderingAndGraphics/Lightmass" />
<meta name="order" content="" />
<meta name="keywords" content="" />
<meta name="course" content="lighting-essential-concepts-and-effects?lang=zh-CN|光照基础概念和效果|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Flighting-essential-concepts-and-effects%2FLightingEssentials_Topic_1920x1080-1920x1080-3e04dcaf168d9a530720df1573b417807ae00784.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Flighting-essential-concepts-and-effects%2FLighting-Essential-Concepts-and-Effects-1000x1000-14831d7f280345717b0bdd66be9422b40ffb91bd.png?resize=1&amp;w=300" />
<meta name="course" content="introducing-global-illumination?lang=zh-CN|全局光照入门|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fintroducing-global-illumination%2F105_GlobalIllum%281200x675%29-1200x675-97270dbdc7595455b4c9acf0e83bf01da8efbfd4.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fintroducing-global-illumination%2FIntroducing-Global-Illumination-1000x1000-af5267ea2a6721b1cc73af7825d226aedbbaf5ce.png?resize=1&amp;w=300" />
<meta name="crumbs" content="%ROOT%,RenderingAndGraphics,RenderingAndGraphics/GlobalIllumination,RenderingAndGraphics/Lightmass" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="Unreal Swarm" />
	<meta property="og:description" content="概述了Unreal Swarm，这是我们用于计算开销较大的应用的任务分配系统，包括虚幻引擎4中的高质量静态全局照明解决方案Unreal Lightmass。" />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">
			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">

	<span class="separator">></span> <a id="parent_link" href="../../index.html">设计视觉、渲染和图形效果</a>

	<span class="separator">></span> <a id="parent_link" href="../../GlobalIllumination/index.html">全局光照</a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">CPU Lightmass全局光照</a>

<span class="separator">></span> <span id="page">Unreal Swarm</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">

			 <nav id="navPanel">
				<div class="contents-table-el"><!----><!----><!----><!----><a class="contents-table-link is-parent" href="/zh-CN/Basics/index.html">理解基础概念</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WorkingWithContent/index.html">管理内容</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/BuildingWorlds/index.html">构建虚拟世界</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/RenderingAndGraphics/index.html">设计视觉、渲染和图形效果</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProgrammingAndScripting/index.html">编程和脚本编写</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/InteractiveExperiences/index.html">创建交互体验</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/AnimatingObjects/index.html">为角色和对象添加动画</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/WorkingWithMedia/index.html">使用媒体</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProductionPipelines/index.html">建立你的开发流程</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/TestingAndOptimization/index.html">测试并优化你的内容</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/SharingAndReleasing/index.html">项目分享及发布</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/Resources/index.html">示例与教学</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WhatsNew/index.html">新内容</a></div>
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">Unreal Swarm</h1>
							</div>	
							<h2 >概述了Unreal Swarm，这是我们用于计算开销较大的应用的任务分配系统，包括虚幻引擎4中的高质量静态全局照明解决方案Unreal Lightmass。</h2>
							<div id="access">
								<div class="accessContainer">
																																			</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>																								<div id="courses">
	<div style="position:relative;">
		<div id="title">相关课程</div>
		<div id="pageList">
			<ul>
								<li>
					<div name="lighting-essential-concepts-and-effects?lang=zh-CN" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/lighting-essential-concepts-and-effects?lang=zh-CN">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/lighting-essential-concepts-and-effects/LightingEssentials_Topic_1920x1080-1920x1080-3e04dcaf168d9a530720df1573b417807ae00784.4884f86.delaye?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/lighting-essential-concepts-and-effects/Lighting-Essential-Concepts-and-Effects-1000x1000-14831d7f280345717b0bdd66be9422b40ffb91bd.489fe4b.d?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="lighting-essential-concepts-and-effects?lang=zh-CN_title">
				光照基础概念和效果
			</div>
		</div>
	</a> 
</div>				</li>
								<li>
					<div name="introducing-global-illumination?lang=zh-CN" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/introducing-global-illumination?lang=zh-CN">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_4/Unreal%20Engine/onlinelearning-courses/introducing-global-illumination/105_GlobalIllum(1200x675)-1200x675-97270dbdc7595455b4c9acf0e83bf01da8efbfd4.48b4f?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_4/Unreal%20Engine/onlinelearning-courses/introducing-global-illumination/Introducing-Global-Illumination-1000x1000-af5267ea2a6721b1cc73af7825d226aedbbaf5c?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="introducing-global-illumination?lang=zh-CN_title">
				全局光照入门
			</div>
		</div>
	</a> 
</div>				</li>
							</ul>
		</div>
	</div>
</div>
																								<div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#什么是unrealswarm？">什么是Unreal Swarm？</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#要求">要求</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#设置swarm协调程序">设置Swarm协调程序</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#部署swarm代理程序">部署Swarm代理程序</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#设置代理程序组">设置代理程序组</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#管理swarm缓存">管理Swarm缓存</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#读取代理程序日志">读取代理程序日志</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#监视进度">监视进度</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#停止swarm代理程序">停止Swarm代理程序</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#常见问题">常见问题</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#在使用swarm代理程序和协调程序时，有哪些方法可以改善构建时间？">在使用Swarm代理程序和协调程序时，有哪些方法可以改善构建时间？</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#为什么我没有得到代理程序分配？">为什么我没有得到代理程序分配？</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#构建照明时如何限制cpu的使用？">构建照明时如何限制CPU的使用？</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#尝试启动swarm代理程序时，出现unreallightmass.exe的windows应用程序错误，这是什么意思？">尝试启动Swarm代理程序时，出现UnrealLightmass.exe的Windows应用程序错误，这是什么意思？</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#swarm代理程序和协调程序支持mac或linux吗？">Swarm代理程序和协调程序支持Mac或Linux吗？</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#我的gpu可以用来构建照明吗？">我的GPU可以用来构建照明吗？</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#以下错误是什么意思？">以下错误是什么意思？</a></p>
	</li>					</ul>
	</li>		    	        </ul>
</div>
</div>
</div>
<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_OverviewImage-2.jpg">
		<img class="  lazyload" alt="UnrealSwarm_OverviewImage-2.png" title="UnrealSwarm372029427OverviewImage-2.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_OverviewImage-2.jpg" />
</picture>

</p><p>根据你的开发环境，渲染大型和开放世界场景可能会花费大量的时间，因为计算光照、阴影和几何体可能非常昂贵。有几种方法可以减少项目的构建时间，比如升级你的硬件以超出我们的<div class="errorhighlight" id="Error11">[推荐规格](Basics/InstallingUnrealEngine/RecommendedSpecifications)</div>，或者使用任务分配系统，这就是 <strong>Unreal Swarm</strong> 的用途，减少执行昂贵计算所需的时间，比如<a id="content_link" href="../index.html" ><span>高质量静态全局照明</span></a>求解。
</p><h2 id="什么是unrealswarm？">什么是Unreal Swarm？</h2>
<p>Unreal Swarm是一种通用的应用程序和任务分配系统，由两种应用程序类型组成，一种是分配构建任务的协调程序，另一种是利用主机系统资产完成分配任务的代理程序。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_Scheme.jpg">
		<img class="  lazyload" alt="UnrealSwarm_Scheme.png" title="UnrealSwarm372029427Scheme.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_Scheme.jpg" />
</picture>

</p><p>设置好Swarm之后，Swarm协调程序将管理网络上Swarm代理程序的作业和任务。
</p><h2 id="要求">要求</h2>
<p>在设置Unreal Swarm之前，你需要：
</p><ul ><li class="Default"><p>在网络中的至少一台Windows机器上安装虚幻引擎4（UE4）。该机器将被用于启动Swarm Coordinator。详情请参见<a id="content_link" href="../../../Basics/InstallingUnrealEngine/index.html" ><span>安装虚幻引擎</span></a>文档。
</p></li><li class="Default"><p>在每一台将要充当Swarm Agent的Windows及其上安装运行虚幻引擎和编辑器所必须的先决条件。具体可按照以下任意方法操作：
</p><ul ><li class="Default"><p>安装对应版本的DirectX End-User Runtimes，可点击<div class="errorhighlight" id="Error3">[硬件与软件要求](Basics/InstallingUnrealEngine/RecommendedSpecifications)</div>页面上的链接下载。
</p></li><li class="Default"><p>按照<div class="errorhighlight" id="Error5">[硬件与软件要求](Basics/InstallingUnrealEngine/RecommendedSpecifications)</div>页面的描述，运行虚幻引擎自带的先决条件安装程序。
</p></li><li class="Default"><p>安装Epic Games启动程序和虚幻引擎。
</p></li></ul></li></ul><div class="note">
	<ul ><li class="Default"><p>目前，Unreal Swarm只能在Windows系统上运行。 要用于启动轻量级构建的机器，以及所有要参与分布式计算的机器都必须运行虚幻引擎支持的Windows版本。
</p></li><li class="Default"><p>如果你想为计算开销较大的任务设置渲染农场，请确保与你的IT部门协调，在需要托管Swarm协调程序和代理程序的机器上设置适当的权限。
</p></li></ul>
</div><h2 id="设置swarm协调程序">设置Swarm协调程序</h2>
<p>如果你已经确定了想要使用的机器，并且安装了UE4；按照以下步骤设置Swarm协调程序：
</p><ol ><li class="Default"><p>安装UE4后，导航到"[UE4ROOT]\Engine\Binaries\DotNET"。
</p></li><li class="Default"><p>在机器上创建一个新目录，该目录将任务分配到网络上的其他机器。为了便于说明，我们将新目录命名为"Swarm Coordinator"。
</p></li><li class="Default"><p>现在，将以下文件从"[UE4ROOT]\Engine\Binaries\DotNET"文件夹移动（或复制）到新建目录：<br /></p><ul ><li class="Default"><p><strong>AgentInterface.dll</strong>
</p></li><li class="Default"><p><strong>SwarmCommonUtils.dll</strong>
</p></li><li class="Default"><p><strong>SwarmCoordinator.exe</strong>
</p></li><li class="Default"><p><strong>SwarmCoordinator.exe.config</strong>
</p></li><li class="Default"><p><strong>SwarmCoordinatorInterface.dll</strong>
</p></li><li class="Default"><p><strong>SwarmInterface.dll</strong>
</p></li><li class="Default"><p><strong>UnrealControls.dll</strong>
</p></li></ul></li><li class="Default"><p>最后，要验证可以在你的机器上运行该应用程序，请继续并双击 <strong>Swarm协调程序</strong> 可执行文件。<br /><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_CoordSetup-1.jpg">
		<img class="  lazyload" alt="UnrealSwarm_CoordSetup-1.png" title="UnrealSwarm372029427CoordSetup-1.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_CoordSetup-1.jpg" />
</picture>

</p></li></ol><div class="note">
	<p>如果你已经部署了Swarm代理程序，那么Swarm协调程序将显示其 <strong>代理程序对话框窗口（Agent Dialog Window）</strong> (1)和 <strong>重启选项区域（Restart Options Area）</strong> (2)。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmCoordinator_UIFinal.png" ><span><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmCoordinator_UIFinal.jpg">
		<img class="  lazyload" alt="SwarmCoordinator_UIFinal.png" title="SwarmCoordinator372029427UIFinal.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmCoordinator_UIFinal.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>单击显示全图。</p>
</div>
</div><p>此时，你不需要对应用程序做任何事情，所以继续下一节，设置Swarm代理程序。
</p><h2 id="部署swarm代理程序">部署Swarm代理程序</h2>
<p>现在你已经设置了Swarm协调程序，可以部署Swarm代理程序了。在确定你想要托管代理程序的机器之后，继续按照以下步骤操作：
</p><ol ><li class="Default"><p>在你希望托管Swarm代理程序的每台机器上，创建一个新目录。为了便于说明，我们将新目录命名为"Swarm Agent"。
</p></li><li class="Default"><p>将以下文件从"[UE4ROOT]\Engine\Binaries\DotNET"文件夹直接移动（或复制）到新建目录：<strong>SwarmAgent.exe</strong>、<strong>AgentInterface.dll</strong>、<strong>SwarmCommonUtils.dll</strong>、<strong>SwarmCoordinatorInterface.dll</strong>、<strong>SwarmInterface.dll</strong> 和 <strong>UnrealControls.dll</strong>。
</p></li><li class="Default"><p>要部署代理，双击 <strong>Swarm代理程序</strong> 可执行文件。
</p></li><li class="Default"><p>启动Swarm代理程序后，<strong>Swarm</strong> 图标出现在 <strong>Windows通知区域</strong>。双击 <strong>Swarm</strong> 图标打开应用程序的主菜单。<br /><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_AgentSetup_4-1.jpg">
		<img class="  lazyload" alt="UnrealSwarm_AgentSetup_4-1.png" title="UnrealSwarm372029427AgentSetup3720294274-1.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_AgentSetup_4-1.jpg" />
</picture>

</p></li><li class="Default"><p>要配置Swarm代理程序，单击 <strong>设置（Settings）</strong> 选项卡。<br /><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_AgentSetup_5-2.jpg">
		<img class="  lazyload" alt="UnrealSwarm_AgentSetup_5-2.png" title="UnrealSwarm372029427AgentSetup3720294275-2.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_AgentSetup_5-2.jpg" />
</picture>
<br /></p><div class="note">
	<p>要启用 <strong>开发人员设置（Developer Settings）</strong>，将 <strong>ShowDeveloperMenu</strong> 标记（在 <strong>设置（Settings）> 开发人员设置（Developer Settings）</strong> 中）设置为 <strong>True</strong>。<br /><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_DeveloperSettings-2.jpg">
		<img class="  lazyload" alt="SwarmAgent_DeveloperSettings-2.png" title="SwarmAgent372029427DeveloperSettings-2.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_DeveloperSettings-2.jpg" />
</picture>
</p>
</div><p>当你更新代理程序的设置时，值得注意的是Swarm代理程序将设置写入到"SwarmAgent.Options.xml"（如果启用了开发人员设置（Developer Settings），则写入到"SwarmAgent.DeveloperOptions.xml"）。<br /></p></li><li class="Default"><p>在 <strong>分配设置（Distribution Settings）</strong> 下拉菜单中，找到 <strong>CoordinatorRemotingHost</strong> 字段，输入主机的 <strong>IPv4地址（IPv4 Address）</strong>。<br /><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_AgentSetup_6-2.jpg">
		<img class="  lazyload" alt="UnrealSwarm_AgentSetup_6-2.png" title="UnrealSwarm372029427AgentSetup3720294276-2.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_AgentSetup_6-2.jpg" />
</picture>

</p><div class="tip">
	<p>如果你不知道计算机的 <strong>IPv4地址（IPv4 Address）</strong>，请从 <strong>命令提示符（Command Prompt）</strong> 运行"ipconfig"。</p>
</div></li><li class="Default"><p>如果不想在 <strong>CoordinatorRemotingHost</strong> 字段中输入系统的 <strong>IPv4地址（IPv4 Address）</strong>，可以输入协调程序的 <strong>DNS名称（DNS Name）</strong>。
</p></li><li class="Default"><p>最后，继续并打开 <strong>Swarm协调程序</strong>，你将在其中找到关于已部署的Swarm代理程序的详细信息。<br /></p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_AgentSetup_8-2.png" ><span><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_AgentSetup_8-2.jpg">
		<img class="  lazyload" alt="UnrealSwarm_AgentSetup_8-2.png" title="UnrealSwarm372029427AgentSetup3720294278-2.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_AgentSetup_8-2.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>单击显示全图。</p>
</div></li></ol><h3 id="设置代理程序组">设置代理程序组</h3>
<p>设置代理程序组对于创建执行群集非常有用。例如，一组机器所属的组可能不属于渲染农场，而另一个群集的机器可能属于渲染农场。 
</p><p>开始时，打开 <strong>设置（Settings）> 分配设置（Distribution Settings）</strong> 菜单。<br /></p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_Settings_DistributionSettings.jpg">
		<img class="  lazyload" alt="SwarmAgent_Settings_DistributionSettings.png" title="SwarmAgent372029427Settings372029427DistributionSettings.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_Settings_DistributionSettings.jpg" />
</picture>

</p><p>要设置代理程序组，首先需要指定要将该代理程序部署到哪个组作业。例如，我们在 <strong>AllowedRemoteAgentGroup</strong> 设置中指定该代理程序将部署到"FarmGroup"作业。<br /></p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_FarmGroup.jpg">
		<img class="  lazyload" alt="UnrealSwarm_FarmGroup.png" title="UnrealSwarm372029427FarmGroup.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_FarmGroup.jpg" />
</picture>

</p><p>如果希望将此代理程序部署到"FarmGroup"作业，请确保 <strong>AgentGroupName</strong> 匹配 <strong>AllowedRemoteAgentGroup</strong>。在下面的示例中，我们将阻止将此代理程序部署到"FarmGroup"作业中。<br /></p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_NonFarmGroup.jpg">
		<img class="  lazyload" alt="UnrealSwarm_NonFarmGroup.png" title="UnrealSwarm372029427NonFarmGroup.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealSwarm_NonFarmGroup.jpg" />
</picture>

</p><p>如果你想更多地了解代理程序的 <strong>分配设置（Distribution Settings）</strong>，下表提供了一些有用的说明，包括可以为执行群集中的每个代理程序指定的其余属性。
</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p><strong>设置（Setting）</strong> </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p><strong>默认值（Default Value）</strong> </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p><strong>说明（Description）</strong> </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>AgentGroupName</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>Default</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是此Swarm代理程序所属的代理程序组的名称。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>AllowedRemoteAgentGroup</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>DefaultDeployed</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是此Swarm代理程序可以部署到的代理程序组作业的名称。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>AllowedRemoteAgentNames</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>RENDER*</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>远程机器使用的过滤字符串（' '、','或';'界定符）。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>AvoidLocalExecution</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>False</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将此标记设置为"True"意味着你希望能够从这个Swarm代理程序（不带本地执行）分配作业和任务。
</p><div class="note">
	<p>设置此标记更像是一种建议（而非强制），因为它将线程优先级设置为"空闲（Idle）"，优先级低于Swarm上连接的其他代理程序。这是因为，如果没有其他可用的代理程序（或者Swarm找不到协调程序），你仍然可以在该代理程序上运行构建，而不是无限等待（或失败）。</p>
</div>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>CoordinatorRemotingHost</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>RENDER-01</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是托管Swarm协调程序的机器的名称。你可以在该字段中输入两个字符串之一，要么是协调程序的DNS名称，要么是其IPv4地址。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>EnableStandaloneMode</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>False</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将此标记设置为"True"将禁用用于传出和传入任务的分配系统。</p>
			</td>
	
</tr></tbody>
</table><h3 id="管理swarm缓存">管理Swarm缓存</h3>
<p>在部署了Swarm代理程序之后，需要管理代理程序的Swarm缓存。通常，管理代理程序的Swarm缓存涉及更新代理程序的缓存设置、清除其缓存和验证其缓存。 
</p><p>若要更新代理程序的缓存设置，请导航到 <strong>设置（Settings）> 缓存设置（Cache Settings）</strong> 菜单。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_Settings_CacheSettings.jpg">
		<img class="  lazyload" alt="SwarmAgent_Settings_CacheSettings.png" title="SwarmAgent372029427Settings372029427CacheSettings.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_Settings_CacheSettings.jpg" />
</picture>

</p><p>从这个菜单中，你将能够更新代理程序的 <strong>缓存设置（Cache Settings）</strong>（如下所述）。
</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p><strong>设置（Setting）</strong> </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p><strong>默认值（Default Value）</strong> </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p><strong>说明（Description）</strong> </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>CacheFolder</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>[磁盘上的文件夹]/SwarmCache</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是缓存文件夹的位置，位于一个有大量空间的高速驱动器上。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>MaximumCacheSize</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>10</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以gb为单位，这是缓存文件夹的近似最大大小。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>MaximumJobsToKeep</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是以前记录日志和输出数据的作业数量。</p>
			</td>
	
</tr></tbody>
</table><p>另外，如果你想清除主机的缓存（由 <strong>Swarm代理程序</strong> 用于完成其分配的任务），请在 <strong>缓存（Cache）</strong> 菜单中调用 <strong>清除（Clean）</strong> 命令。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_CacheMenu_Clean.jpg">
		<img class="  lazyload" alt="SwarmAgent_CacheMenu_Clean.png" title="SwarmAgent372029427CacheMenu372029427Clean.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_CacheMenu_Clean.jpg" />
</picture>

</p><p>最后，如果你想验证机器的缓存，请在 <strong>缓存（Cache）</strong> 菜单中调用 <strong>验证（Validate）</strong> 命令。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_CacheMenu_Validate.jpg">
		<img class="  lazyload" alt="SwarmAgent_CacheMenu_Validate.png" title="SwarmAgent372029427CacheMenu372029427Validate.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_CacheMenu_Validate.jpg" />
</picture>

</p><div class="tip">
	<p>定期清理和验证Swarm缓存是一个很好的惯例，特别是在Unreal Lightmass崩溃并导致构建失败的情况下。</p>
</div><h3 id="读取代理程序日志">读取代理程序日志</h3>
<p>单击 <strong>日志（Log）</strong> 选项卡将打开Swarm代理程序日志消息刷新到的日志（Log）窗口。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_LogWindow.jpg">
		<img class="  lazyload" alt="SwarmAgent_LogWindow.png" title="SwarmAgent372029427LogWindow.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_LogWindow.jpg" />
</picture>

</p><p>如果你想指定要刷新到 <strong>日志（Log）</strong> 窗口的输出量，请更新 <strong>MaximumJobApplicationLogLines</strong> 变量（可以在 <strong>开发人员设置（Developer Settings）> 日志设置（Log Settings）</strong> 菜单中找到），以便在作业应用程序截断进入 <strong>日志（Log）</strong> 窗口的内容之前更改作业应用程序的输出行数。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_DeveloperSettings_LogSettings.jpg">
		<img class="  lazyload" alt="SwarmAgent_DeveloperSettings_LogSettings.png" title="SwarmAgent372029427DeveloperSettings372029427LogSettings.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_DeveloperSettings_LogSettings.jpg" />
</picture>

</p><p>如果出于调试或维护目的需要定位 <strong>AgentLog</strong> 文本文件，请注意，在每个作业的开头和结尾处，代理程序活动都被记录到"[磁盘上的文件夹]\SwarmCache\Logs"中的文件。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_LogWindowFiles.png" ><span><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_LogWindowFiles.jpg">
		<img class="  lazyload" alt="SwarmAgent_LogWindowFiles.png" title="SwarmAgent372029427LogWindowFiles.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_LogWindowFiles.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>单击显示全图。</p>
</div><p>通常，磁盘上文件的默认日志级别设置为 <strong>ExtraVerbose</strong>，而Swarm代理程序的日志（Log）窗口的默认日志级别设置为 <strong> Informative（@@@）</strong>。如果你希望更改 <strong>日志（Log）</strong> 输出的详细程度，请更新 <strong>冗余（Verbosity）</strong> 变量，该变量位于 <strong>设置（Settings）> 日志设置（Log Settings）</strong> 菜单中。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_Settings_LogSettings.jpg">
		<img class="  lazyload" alt="SwarmAgent_Settings_LogSettings.png" title="SwarmAgent372029427Settings372029427LogSettings.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_Settings_LogSettings.jpg" />
</picture>

</p><h3 id="监视进度">监视进度</h3>
<p>如果你希望在代理程序处理分配给它的作业和任务时监视代理程序的进度，请打开Swarm状态（Swarm Status）窗口。 
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_SwarmStatusMenu.jpg">
		<img class="  lazyload" alt="SwarmAgent_SwarmStatusMenu.png" title="SwarmAgent372029427SwarmStatusMenu.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_SwarmStatusMenu.jpg" />
</picture>

</p><p>当代理程序运行时，你将看到每台机器的进度条，对于每一个进度条，都有一些区域反映应用程序是否正在初始化(1)、准备执行工作(2)（两者都不是分布式工作）或执行分布式工作(3)。<br /></p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_SwarmStatusWindowExample.jpg">
		<img class="  lazyload" alt="SwarmAgent_SwarmStatusWindowExample.png" title="SwarmAgent372029427SwarmStatusWindowExample.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_SwarmStatusWindowExample.jpg" />
</picture>

</p><div class="tip">
	<p>要获得有关作业进度的更多详细信息，请将鼠标光标悬停在进度条上。</p>
</div><p>最后，位于底部的分布式进度条告诉你已经完成的任务的百分比(4)与当前正在进行的任务的百分比(5)。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_DistributedProgress.jpg">
		<img class="  lazyload" alt="SwarmAgent_DistributedProgress.png" title="SwarmAgent372029427DistributedProgress.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_DistributedProgress.jpg" />
</picture>

</p><h2 id="停止swarm代理程序">停止Swarm代理程序</h2>
<p>要停止Swarm代理程序，单击 <strong>文件（File）> 退出（Exit）</strong> 关闭应用程序并终止其进程。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_ExitProcess.jpg">
		<img class="  lazyload" alt="SwarmAgent_ExitProcess.png" title="SwarmAgent372029427ExitProcess.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_ExitProcess.jpg" />
</picture>

</p><div class="tip">
	<p>或者，右键单击 <strong>Windows通知区域</strong> 中的 <strong>Swarm</strong> 图标，选择退出（Exit）命令。</p>
</div><p>此时，Swarm协调程序和Swarm代理程序可以在最小的干预下运行。考虑到需要处理的光源、对象的数量和计算的质量，你会发现有了足够多的代理程序，Unreal Lightmass构建应该只需要几分钟，而不是几个小时。
</p><div class="tip">
	<p>根据你的开发环境（包括你正在处理的场景大小和复杂性），你可能希望更新本地机器上保留的内核数量，以提高构建性能。这可以通过调优 <strong>LocalJobsDefaultProcessorCount</strong> 变量来实现，该变量位于 <strong>开发人员设置（Developer Settings）> 本地性能设置（Local Performance Settings）</strong> 菜单中。 <br /></p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_DeveloperSettings_LocalPerformanceSettings-1.jpg">
		<img class="  lazyload" alt="SwarmAgent_DeveloperSettings_LocalPerformanceSettings-1.png" title="SwarmAgent372029427DeveloperSettings372029427LocalPerformanceSettings-1.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SwarmAgent_DeveloperSettings_LocalPerformanceSettings-1.jpg" />
</picture>
</p>
</div><p>如果你对运行Unreal Swarm有一些一般性问题，请查看以下一组常见问题。<br /></p><h2 id="常见问题">常见问题</h2>
<ul ><li class="Default"><p><a id="content_link" href="#improvebuildtimes" ><span>在使用Swarm代理程序和协调程序时，有哪些方法可以改善构建时间？</span></a>
</p></li><li class="Default"><p><a id="content_link" href="#agentdistribution" ><span>为什么我没有得到代理程序分配？</span></a>
</p></li><li class="Default"><p><a id="content_link" href="#limitcpuusage" ><span>构建照明时如何限制CPU的使用？</span></a>
</p></li><li class="Default"><p><a id="content_link" href="#applicationerror" ><span>尝试启动Swarm代理程序时，出现UnrealLightmass.exe的Windows应用程序错误，这是什么意思？</span></a>
</p></li><li class="Default"><p><a id="content_link" href="#maclinux" ><span>Swarm代理程序和协调程序支持Mac或Linux吗？</span></a>
</p></li><li class="Default"><p><a id="content_link" href="#gpubuild" ><span>我的GPU可以用来构建照明吗？</span></a>
</p></li><li class="Default"><p><a id="content_link" href="#errors" ><span>以下错误是什么意思？</span></a>
</p></li></ul><a name="improvebuildtimes" ></a><h5 id="在使用swarm代理程序和协调程序时，有哪些方法可以改善构建时间？">在使用Swarm代理程序和协调程序时，有哪些方法可以改善构建时间？</h5>
<ul ><li class="Default"><p>在玩家可访问区域内添加<a id="content_link" href="../Basics/index.html" ><span>Lightmass重要体积</span></a>：
</p><ul ><li class="Default"><p>这个体积被用来聚焦于Lightmass为提升准确性和质量而花费时间的地方。相关想法是这些应该覆盖玩家能够到达的区域。该体积之外的区域将接收到较少的光子，因此质量较低。请注意，使用单一大体积来包围一个区域违背了它们在关键区域聚焦光子计算的用意。
</p></li></ul></li><li class="Default"><p>调整<a id="content_link"filter-data="tag_static_mesh tag_lightmap" href="../../../WorkingWithContent/Types/StaticMeshes/LightmapUnwrapping/index.html" ><span>光照图</span></a>分辨率：
</p><ul ><li class="Default"><p>在场景中具有很高的光照图分辨率和大量光照贡献的单独静态网格体会增加构建时间，不仅对于场景如此，对于单个Actor也是如此。在可能的情况下，降低光照图的分辨率以获得高质量的结果，并使用统计数据（Statistics）窗口来了解为关卡构建单个Actor所花费的时间。为了得到一个好的结果，对于正在设置较高光照图分辨率的大（或复杂的）静态网格体，你可能想要考虑把它分成单独的小网格体或重做光照图UV（在可能的情况下），以对重要的部分进行更好的覆盖。
</p></li></ul></li><li class="Default"><p>启用<a id="content_link"filter-data="tag_foliage_tool" href="../../../BuildingWorlds/Foliage/index.html" ><span>植被工具</span></a>光照图分辨率：
</p><ul ><li class="Default"><p>将植被绘制到关卡中时所用的实例化静态网格体会自动使用它引用的静态网格体光照图分辨率。当你有数百（甚至数千）个这样的图像绘制到你的关卡中时，这个分辨率对于系统来说就太高而导致无法处理了。它将使构建时间呈指数级增长，由于内存限制可能导致Lightmass崩溃，以及纹理内存消耗变得更高。<br /></p><p>建议启用 <strong>光照图分辨率（Light Map Resolution）</strong> 并使用默认值8，或者可能将其设置为更低的值4。这降低了所有实例的分辨率，但是可感知的质量损失是最小的，因为静态阴影只需要在远处显示，而动态阴影是在相机附近处理的。<br /></p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/FoliageTool_LMResolution.png" ><span><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/FoliageTool_LMResolution.jpg">
		<img class="  lazyload" alt="FoliageTool_LMResolution.png" title="FoliageTool372029427LMResolution.png" width="150" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/FoliageTool_LMResolution.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>单击图像以查看完整尺寸。</p>
</div></li></ul></li><li class="Default"><p>减少场景Actor和（或）光源的数量：
</p><ul ><li class="Default"><p>关卡中<a id="content_link" href="../../../BuildingWorlds/LightingAndShadows/Shadows/index.html" ><span>阴影投射</span></a>Actor和（或）光源的数量意味着计算照明时必须考虑所有这些交互作用。减少光源是限制单个光源交互的Actor数量的一个主要方法。减小不需要影响大面积的光源影响半径可以减少计算次数，从而提高正在处理的光源构建的速度。
</p></li></ul></li><li class="Default"><p>使用高于推荐的系统规格：
</p><ul ><li class="Default"><p>Swarm代理程序是一个CPU密集型进程，需要大量计算。如果你只使用本地机器，那么良好的CPU和大量的RAM可以减少构建过程所需的时间。请记住，前面提到的其他因素也会影响构建处理时间。
</p></li></ul></li></ul><a name="agentdistribution" ></a><h5 id="为什么我没有得到代理程序分配？">为什么我没有得到代理程序分配？</h5>
<p>远程Swarm代理程序可能会因为一些不同的原因拒绝处理你的作业，其中最常见的原因是它们已经在忙着执行其他工作。另一种可能性是，它们认为自己当时太忙了，无法承担任务，这往往是由于机器在做一些资产密集型的事情，如编译或<a id="content_link" href="../../../SharingAndReleasing/Deployment/Cooking/index.html" ><span>烘焙内容</span></a>。在代理程序窗口的 <strong>Swarm状态（Swarm Status）</strong> 选项卡中，你应可以看到所有可能对构建有帮助的远程代理程序的完整列表。如果其中一个当前不可用，你将看到一根白色的条随着构建的其余部分滴答计时，如果你将鼠标移到该条上，你将看到"等待远程变为可用（Waiting for remote to become available）"。<br /></p><p>另外，查看可用远程代理程序的更高级方法（即使你没有进行构建）是单击 <strong>日志（Log）</strong> 选项卡并从 <strong>网络（Network）</strong> 菜单中选择 <strong>Ping远程代理程序（Ping Remote Agents）</strong>。你将看到远程计算机及其当前状态的列表。
</p><a name="limitcpuusage" ></a><h5 id="构建照明时如何限制cpu的使用？">构建照明时如何限制CPU的使用？</h5>
<p>从 <strong>Swarm > 开发人员设置（DeveloperSettings）</strong> 选项卡中，你可以使用 <strong>LocalJobDefaultProcessCount</strong> 和 <strong>RemoteJobDefaultProcessorCount</strong> 来限制本地机器和远程机器在照明构建期间使用的CPU内核。<br /></p><p>对于你的本地机器，你可能希望仅将它的贡献限制在几个核心上，以使它能够轻松地处理其他任务。默认情况下，有几个内核是空闲的，但是你可能会发现你需要更多的内核来处理本地的工作，而让分布式任务处理光源构建计算的更多工作。
</p><a name="applicationerror" ></a><h5 id="尝试启动swarm代理程序时，出现unreallightmass.exe的windows应用程序错误，这是什么意思？">尝试启动Swarm代理程序时，出现UnrealLightmass.exe的Windows应用程序错误，这是什么意思？</h5>
<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealLightmassEXEError.jpg">
		<img class="  lazyload" alt="UnrealLightmassEXEError.png" title="UnrealLightmassEXEError.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/UnrealLightmassEXEError.jpg" />
</picture>

</p><ul ><li class="Default"><p>这种类型的错误意味着某些东西正在阻止应用程序在Windows中打开，而这并不是UE4的直接原因。下面是解决这个问题可以采取的一些步骤：
</p><ul ><li class="Default"><p>确保安装了适当的和最新的Visual Studio依赖项。对于虚幻引擎4.9及之前的版本，你将需要 <strong>VS2013</strong> 依赖项，对于4.10及之后的版本，你将需要 <strong>VS2015</strong> 依赖项。
</p></li><li class="Default"><p>如果这不能解决你的问题，请尝试使用一个免费的应用程序（例如，<a id="content_link" href="http://www.dependencywalker.com/" ><span>Dependency Walker</span></a>）来对可能阻止UnrealLightmass.exe加载的DLL问题进行故障排除。
</p></li></ul></li></ul><a name="maclinux" ></a><h5 id="swarm代理程序和协调程序支持mac或linux吗？">Swarm代理程序和协调程序支持Mac或Linux吗？</h5>
<p> <strong>目前，Swarm代理程序和协调程序只支持 </strong>Windows<strong>。对于 </strong>Mac<strong> 和 </strong>Linux<strong>，光源构建仍然使用Swarm，但是用户无法访问。</strong>
</p><a name="gpubuild" ></a><h5 id="我的gpu可以用来构建照明吗？">我的GPU可以用来构建照明吗？</h5>
<p>Swarm目前不支持照明数据的GPU计算。
</p><a name="errors" ></a><h5 id="以下错误是什么意思？">以下错误是什么意思？</h5>
<ul ><li class="Default"><p>Lightmass崩溃，"分配[某个值]内存耗尽"
</p></li></ul><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SA_RanOutOfMemory.png" ><span><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SA_RanOutOfMemory.jpg">
		<img class="  lazyload" alt="SA_RanOutOfMemory.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SA_RanOutOfMemory.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>单击图像以查看完整尺寸。</p>
</div><ul ><li class="Default"><p>在这种情况下，由于内存不足，Swarm代理程序无法处理Lightmass数据。当你不使用Swarm协调程序将构建分配到需要一台机器完成所有工作的多个代理程序时，这种情况最容易发生。在计算使用许多Actor和光源的大关卡，或当光照图分辨率太高时，Lightmass可能会耗尽内存。<br /></p><p>你可以通过增加本地机器上的RAM数量、添加用于分配的代理程序、在可能的情况下降低Actor的光照图分辨率，甚至添加Lightmass重要体积来将资产集中于玩家可以访问的关键区域的计算，从而减少出现此错误的机会。
</p></li><li class="Default"><p>Lightmass崩溃，<code>"Assertion Failed: (Index &gt;=0)&amp;(Index&lt;ArrayNum))"</code>
</p></li></ul><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SA_ArrayIndexOutOfBounds.png" ><span><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SA_ArrayIndexOutOfBounds.jpg">
		<img class="  lazyload" alt="SA_ArrayIndexOutOfBounds.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/SA_ArrayIndexOutOfBounds.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>单击图像以查看完整尺寸。</p>
</div><ul ><li class="Default"><p>当你收到这个错误时，你应该清理并验证Swarm缓存。
</p></li><li class="Default"><p>编辑器toast弹出窗口"光源构建失败。Swarm无法启动。"<br /><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/FailedToKickOff.jpg">
		<img class="  lazyload" alt="FailedToKickOff.jpg" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/FailedToKickOff.jpg" />
</picture>

</p><ul ><li class="Default"><p>当你尝试从虚幻编辑器构建光照时，你可能会收到此消息。如果是这样，以下是一些常见的原因：
</p><ul ><li class="Default"><p>确保你没有打开并运行Swarm代理程序的多个实例。你可以通过查看正在运行的任务处理或在 <strong>Windows</strong> 中查看 <strong>Windows通知区域</strong> 来检查这一点。
</p></li><li class="Default"><p>关卡损坏和/或关卡中的Actor损坏
</p></li><li class="Default"><p>对于防火墙和杀毒软件，没有设置 <strong>SwarmAgent.exe</strong> 的正确例外状况。
</p></li><li class="Default"><p>引擎的安装或损坏问题。对于使用启动程序的用户，选择你的引擎版本下拉菜单并选择 <strong>验证（Verify）</strong>。<br /><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/VerifyEngine.jpg">
		<img class="  lazyload" alt="VerifyEngine.png" data-src="../../../../Images/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/VerifyEngine.jpg" />
</picture>

</p></li><li class="Default"><p>Unreal Lightmass的源构建问题。重新构建UnrealLightmass解决方案。
</p></li></ul></li><li class="Default"><p>如果Swarm仍然无法启动，它的端口可能被另一个系统进程使用。
</p><ul ><li class="Default"><p>打开你的Swarm日志，并检查以下错误消息： 
</p></li><li class="Default"><p>异常详细信息：System.Net.Sockets.SocketException (0x80004005): 由于目标机器主动拒绝连接，因此无法建立连接 123.456.7.89:8009
</p><p>你可能需要让你的IT部门参与解决端口分配问题，尤其是因为Swarm需要端口8008和8009才能正常工作。如果没有这些端口，它将无法启动任何代理程序或协调程序。这不是专门由UE4引起的问题。
</p></li></ul></li></ul></li></ul>
																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="recommendations"></div>			</div>
						  									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/RenderingAndGraphics/Lightmass/UnrealSwarmOverview/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 10:36:39 GMT -->
</html>
