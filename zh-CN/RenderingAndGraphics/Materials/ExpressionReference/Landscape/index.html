<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/RenderingAndGraphics/Materials/ExpressionReference/Landscape/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:17:22 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/RenderingAndGraphics/Materials/ExpressionReference/Landscape/" />');
				var udnCSS = '../../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>地形表达式 | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/informational.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/RenderingAndGraphics/Materials/ExpressionReference/Landscape/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/RenderingAndGraphics/Materials/ExpressionReference/Landscape/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/RenderingAndGraphics/Materials/ExpressionReference/Landscape/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/RenderingAndGraphics/Materials/ExpressionReference/Landscape/" hreflang="ko" />

	<meta name="redirect" content="Engine/Rendering/Materials/ExpressionReference/Landscape" />
<meta name="intsourcechangelist" content="15365179" />
<meta name="availability" content="Public" />
<meta name="title" content="地形表达式" />
<meta name="description" content="可创建应用于地形地貌的材质的表达式。" />
<meta name="version" content="4.9" />
<meta name="parent" content="RenderingAndGraphics/Materials/ExpressionReference" />
<meta name="keywords" content="Materials" />
<meta name="course" content="creating-pbr-materials?lang=zh-CN|创建PBR材质|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fcreating-pbr-materials%2FHighresScreenshot00006-1920x1050-2c0180460478cd00327494c6e5717e227be4926d.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fcreating-pbr-materials%2FCreating-PBR-Materials-1000x1000-0d34ec4bfc3eeb466ce5a981a867921f72464e77.png?resize=1&amp;w=300" />
<meta name="course" content="getting-to-know-materials-for-design-visualization?lang=zh-CN|了解可视化设计中的材质|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fgetting-to-know-materials-for-design-visualization%2FIntro_to_Materials_003-1919x1079-f32638266c469a6fa2b9b2f3515e5766e8177b22.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fgetting-to-know-materials-for-design-visualization%2FGetting-to-Know-Materials-for-Design-Visualization-1000x1000-8cd1670f84e0111e39d4a3faa1e7a6ba29a30bfe.png?resize=1&amp;w=300" />
<meta name="course" content="materials---exploring-essential-concepts?lang=zh-CN|材质：基础概念|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fmaterials---exploring-essential-concepts%2FMaterialEssentialConcepts-1920x1080-1920x1080-2414bb5cf0b0c3bd7ac4b993e725d2acedd45334.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fmaterials---exploring-essential-concepts%2FMaterials--Exploring-Essential-Concepts-1000x1000-9546cdc254e6659ce73211b5955ab9d886921256.png?resize=1&amp;w=300" />
<meta name="course" content="materials---understanding-the-production-workflow?lang=zh-CN|材质：制作工作流|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fmaterials---understanding-the-production-workflow%2FMaterialWorkflow_ThumbnailFull-1920x1080-1920x1080-638fea6d7e3b7b299a4f433096336ce1caf662d0.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fmaterials---understanding-the-production-workflow%2F104-Materials-Production-Workflow%402x-1000x1000-ae1ba588a367d239fbe513da38bb793360c9eecf.png?resize=1&amp;w=300" />
<meta name="course" content="materials-master-learning?lang=zh-CN|材质大师课程|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fmaterials-master-learning%2FMaterialMaster_1920x1080-1920x1080-212f85045980310d6985557f84d0217e6423b709.png?resize=1&amp;w=1400|https://cdn2.unrealengine.com/Unreal+Engine%2Fonlinelearning-courses%2Fmaterials-master-learning%2FMaterials-Master-Learning-1000x1000-56fd0b66f6e798313f79737126d9215cbd4a3ff9.png?resize=1&amp;w=300" />
<meta name="crumbs" content="%ROOT%,RenderingAndGraphics,RenderingAndGraphics/Materials,RenderingAndGraphics/Materials/ExpressionReference" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="地形表达式" />
	<meta property="og:description" content="可创建应用于地形地貌的材质的表达式。" />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">

			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">

	<span class="separator">></span> <a id="parent_link" href="../../../index.html">设计视觉、渲染和图形效果</a>

	<span class="separator">></span> <a id="parent_link" href="../../index.html">材质 </a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">材质表达式参考</a>

<span class="separator">></span> <span id="page">地形表达式</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">

			 <nav id="navPanel">
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/index.html">首页</a></div>
				<div class="contents-table-el"><!----><!----><!----><!----><a class="contents-table-link is-parent" href="/zh-CN/Basics/index.html">理解基础概念</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WorkingWithContent/index.html">管理内容</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/BuildingWorlds/index.html">构建虚拟世界</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/RenderingAndGraphics/index.html">设计视觉、渲染和图形效果</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProgrammingAndScripting/index.html">编程和脚本编写</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/InteractiveExperiences/index.html">创建交互体验</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/AnimatingObjects/index.html">为角色和对象添加动画</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/WorkingWithMedia/index.html">使用媒体</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProductionPipelines/index.html">建立你的开发流程</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/TestingAndOptimization/index.html">测试并优化你的内容</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/SharingAndReleasing/index.html">项目分享及发布</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/Resources/index.html">示例与教学</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WhatsNew/index.html">新内容</a></div>
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">地形表达式</h1>
							</div>	
							<h2 >可创建应用于地形地貌的材质的表达式。</h2>
							<div id="access">
								<div class="accessContainer">
																																			</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>																								<div id="courses">
	<div style="position:relative;">
		<div id="title">相关课程</div>
		<div id="pageList">
			<ul>
								<li>
					<div name="creating-pbr-materials?lang=zh-CN" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/creating-pbr-materials?lang=zh-CN">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_443/Unreal%20Engine/onlinelearning-courses/creating-pbr-materials/HighresScreenshot00006-1920x1050-2c0180460478cd00327494c6e5717e227be4926d4f86.png?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_443/Unreal%20Engine/onlinelearning-courses/creating-pbr-materials/Creating-PBR-Materials-1000x1000-0d34ec4bfc3eeb466ce5a981a867921f72464e77fe4b.png?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="creating-pbr-materials?lang=zh-CN_title">
				创建PBR材质
			</div>
		</div>
	</a> 
</div>				</li>
								<li>
					<div name="getting-to-know-materials-for-design-visualization?lang=zh-CN" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/getting-to-know-materials-for-design-visualization?lang=zh-CN">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_4/Unreal%20Engine/onlinelearning-courses/getting-to-know-materials-for-design-visualizat/Intro_to_Materials_003-1919x1079-f32638266c469a6fa2b9b2f3515e5766?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/getting-to-know-materials-for-design-visualizat/Getting-to-Know-Materials-for-Design-Visualization-1000x1000-8cd1670f84e0111e39d4a3faa1e7a6b?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="getting-to-know-materials-for-design-visualization?lang=zh-CN_title">
				了解可视化设计中的材质
			</div>
		</div>
	</a> 
</div>				</li>
								<li>
					<div name="materials---exploring-essential-concepts?lang=zh-CN" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/materials---exploring-essential-concepts?lang=zh-CN">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/materials---exploring-essential-concepts/MaterialEssentialConcepts-1920x1080-1920x1080-2414bb5cf0b0c3bd7ac4b993e725d2acedd45334.42c4f86.dela?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/materials---exploring-essential-concepts/Materials--Exploring-Essential-Concepts-1000x1000-9546cdc254e6659ce73211b5955ab9d886921256.42dfe4b?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="materials---exploring-essential-concepts?lang=zh-CN_title">
				材质：基础概念
			</div>
		</div>
	</a> 
</div>				</li>
								<li>
					<div name="materials---understanding-the-production-workflow?lang=zh-CN" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/materials---understanding-the-production-workflow?lang=zh-CN">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/materials---understanding-the-production-workfl/MaterialWorkflow_ThumbnailFull-1920x1080-1920x1080-638fea6d7e3b7b299a4f433096336ce1caf662d0?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../../cdn2.unrealengine.com/Unreal%2bEngine/onlinelearning-courses/materials---understanding-the-production-workfl/104-Materials-Production-Workflow%402x-1000x1000-ae1ba588a367d239fbe513da38bb793360c9eecf.42ff?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="materials---understanding-the-production-workflow?lang=zh-CN_title">
				材质：制作工作流
			</div>
		</div>
	</a> 
</div>				</li>
								<li>
					<div name="materials-master-learning?lang=zh-CN" class="fancylink_container">
	<a id="playlist_play_link" class="fancylink" href="https://www.unrealengine.com/en-US/onlinelearning-courses/materials-master-learning?lang=zh-CN">
		<div class="fancylink_image" style="width:100%;">
			<img class="lazyload" data-src="../../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_4/Unreal%20Engine/onlinelearning-courses/materials-master-learning/MaterialMaster_1920x1080-1920x1080-212f85045980310d6985557f84d0217e6423b709.4314f86.del?resize=1&amp;w=1400" />
			<div class="courselink_button"><img class="lazyload" data-src="../../../../../../../cdn2-unrealengine-1251447533.file.myqcloud.com_4/Unreal%20Engine/onlinelearning-courses/materials-master-learning/Materials-Master-Learning-1000x1000-56fd0b66f6e798313f79737126d9215cbd4a3ff9.433fe4b.de?resize=1&amp;w=300"/></div>
		</div>
		<div class="fancylink_title">
			<div style="display:block;" class="fancylink_title_text" name="materials-master-learning?lang=zh-CN_title">
				材质大师课程
			</div>
		</div>
	</a> 
</div>				</li>
							</ul>
		</div>
	</div>
</div>
																								<div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#landscapelayerblend">LandscapeLayerBlend</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#landscapelayercoords">LandscapeLayerCoords</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#landscapelayerswitch">LandscapeLayerSwitch</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#landscapelayerweight">LandscapeLayerWeight</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#landscapevisibilitymask">LandscapeVisibilityMask</a></p>
	</li>		    	        </ul>
</div>
</div>
</div>
<h2 id="landscapelayerblend">LandscapeLayerBlend</h2>
<a name="1972104683" ></a><div class="include_wrapper" data-path="BuildingWorlds/Landscape/Materials/">
<p>尽管任意 <strong>材质</strong> 都可用于 <strong>地形</strong> Actor，但虚幻引擎4（UE4）中的材质系统同时提供了一些特定的地形材质节点，可帮助优化地形纹理。以下文档中将介绍此类节点的功能，以及如何在地形材质中使用它们。
</p><div class="note">
	<p>可在[材质编辑器](RenderingAndGraphics/Materials/Editor中中，使用修改其他材质的方式修改材质以用于地形。</p>
</div><h2 id="层权重和排序">层权重和排序</h2>
<p>地形使用权重混合，而非Alpha混合，因此所有层在任何位置的混合系数最多累积到1.0。Alpha混合与顺序无关，可随时绘制任意层，因此十分有用。此外，在使用Alpha混合时，Alpha层的权重会增加，而其他现有层权重会减小。 
</p><p>但是，使用Alpha混合的一个弊端是层绘制达100%时，所有其他层的权重值将变为0%。此情况在使用<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#绘制" ><span>绘制</span></a>工具移除已100%的层时十分明显。由于其他层为0%，工具无法取代要移除的100%层，因此层好似并无变化。 
</p><h2 id="地形特定材质节点">地形特定材质节点</h2>
<p>在材质编辑器中，可发现六个可用于地形系统的特殊节点。可在 <strong>地形</strong> 分类下的 <strong>控制板</strong> 菜单中找到所有这些节点。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg">
		<img class="  lazyload" alt="Material Editor Context Menu" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg" />
</picture>

</p><h3 id="地形层混合节点">地形层混合节点</h3>
<p>利用 <strong>LandscapeLayerBlend</strong> 节点可混合多个纹理或材质网络，以便将其用作地形层。LandscapeLayerBlend使用阵列存储关于地形层的信息。要向该阵列添加层，选择加号图标。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p><p>将多个层添加到 <strong>LandscapeLayerBlend</strong> 节点时，层命名会被填入LandscapeLayerBlend节点。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerBlend Mode" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>节点包含的层列表。可单击加号（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg" />
</picture>
）添加层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>额外层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这为额外层折叠时的外观。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>层的唯一命名。<strong>层名称</strong> 对应地形工具窗口中<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#图层" ><span>绘制模式</span></a>使用的层命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>混合类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>为 <strong>LB_AlphaBlend</strong> 、 <strong>LB_HeightBlend</strong> 或 <strong>LB_WeightBlend</strong> 。参阅本页上的"地形层混合类型"。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是在材质编辑器中预览混合的层权重值。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量层输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作颜色的数字值。此项主要在发生问题时用于层调试。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量高度输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作高度的数字值。</p>
			</td>
	
</tr></tbody>
</table><p>下表详细说明了 <strong>层混合</strong> 节点的输入和输出。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg">
		<img class="  lazyload" alt="layer_blend_node.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>项目 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层 *层名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>各层添加层的输入进行混合。此输入仅在 <strong>细节</strong> 面板中添加并命名层后可用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>高度 *层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此为提供高度图进行混合的位置。该输入仅在 <strong>混合类型</strong> 属性设为 <strong>LB_HeightBlend</strong> 的层上可见。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>混合起来的层结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="混合层">混合层</h3>
<p>使用层混合模式的特定组合时，地形上不同层交叉的位置将出现大量黑斑。将LB_HeightBlend模式用于多地形层时，此问题尤其常见。LB_HeightBlend的工作原理是使用指定权重值调制层的混合系数或权重。如区域上绘制有多个层，且均被设为LB_HeightBlend，则可能特定区域中绘制的所有层将同时拥有0高度值，因此各层的理想混合系数将变为0。 
</p><p>由于无隐式或显式排序，且无层对该区域有贡献，因此结果会产生黑斑。由于混合法线贴图会产生法线值(0,0,0)，且该值无效，会导致照明渲染问题，因此混合法线贴图时情况会更糟。针对此问题的解决方案是对其中一个层使用 <strong>LB_AlphaBlend</strong>，如以下范例所示。
</p><p>左图中所有层均为LB_HeightBlend，会导致部分区域变黑。在右图中，红色"1"层已改为使用LB_AlphaBlend，从而解决该问题。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg">
		<img class="  lazyload" alt="LB_HeightBlend Problem" width="800" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg" />
</picture>

</p><p>以下是混合起来的所有层的 <strong>Landscape Layer Blend</strong> 节点属性范例。务必注意 <strong>土壤</strong> 层将其混合模式设为LB_AlphaBlend，而其他层则设为LB_HeightBlend。此设置旨在避免发生上文中的问题（层交汇处出现黑斑）。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg">
		<img class="  lazyload" alt="Layer Blend Properties" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg" />
</picture>

</p><p>如需删除层，点击层元素编号右侧的下拉箭头打开菜单，并选择 <strong>删除</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg">
		<img class="  lazyload" alt="Delete Layer" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg" />
</picture>

</p><h3 id="地形层坐标节点">地形层坐标节点</h3>
<p><strong>LandscapeLayerCoords</strong> 节点生成UV坐标，可用于将材质网络映射到地形地貌。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerCoords Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将材质（或网络）映射到地形时指定要所用朝向的 <strong>ELandscapeCoordMappingType</strong>。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>自定义UVType</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要在地形上使用的映射位置。<strong>CustomUVType</strong> 输出UV坐标以基于给定属性值将材质映射到地形。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射缩放</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将等分缩放应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射旋转</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将旋转应用到UV坐标（以度计）。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[U]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[U]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[V]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[V]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出UV坐标，根据给定属性值将材质映射到地形。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层切换节点">地形层切换节点</h3>
<p>特定层未对地形区域贡献时，利用 <strong>LandscapeLayerSwitch</strong> 节点可排除部分材质运算。特定层权重为0时，利用此操作可通过移除不必要的计算优化材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerSwitch Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>使用预览</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如果选中，则使用预览。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong> LayerUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域使用节点属性中指定的层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>LayerNotUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域未使用层，且其权重为0。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将基于层对地形的特定区域是否贡献，选择使用 <strong>LayerUsed</strong> 或 <strong>LayerNotUsed</strong>。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层权重节点">地形层权重节点</h3>
<p>利用 <strong>LandscapeLayerWeight</strong> 表达式可根据地形材质中获取的关联层权重混合所有材质网络。该层的权重用作混合两个输入网络的Alpha值。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerWeight Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>材质编辑器中用于预览的权重。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>恒定底色</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>可在此指定地形需要拥有的底色</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>基础</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要与该层混合的网络。此通常为前一层混合的结果，但如是首个层，则可以为空。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要混合起来创建该层的网络。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>根据所涉层的层权重，输出 <strong>Base</strong> 和 <strong>Layer</strong> 输入间的混合结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形可视性遮罩节点">地形可视性遮罩节点</h3>
<p><strong>LandscapeVisibilityMask</strong> 节点移除地形的可见部分，以便在地形中创建洞进行如洞穴创建等操作。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg">
		<img class="  lazyload" alt="LandscapeVisibilityMask Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出可视性遮罩属性。</p>
			</td>
	
</tr></tbody>
</table><div class="note">
	<p>确保输出连接到材质的 <strong>不透明蒙版</strong> 插槽，且将 <strong>材质混合模式</strong> 设为 <strong>遮罩（Masked）</strong>。否则节点无法正常工作。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>
</p>
</div><h2 id="地形层混合类型">地形层混合类型</h2>
<p>地形 <strong>层混合</strong> 材质节点有三个不同混合模式可供选择。尝试得到不同结果时，使用不同 <strong>层混合</strong> 类型。
</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>混合类型 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>功能 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB权重混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如层来自外部程序，如World Machine，或需要独立绘制各层，而无需担心层顺序，即可使用此类型。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB Alpha混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如要绘制细节并需要已定义的层顺序，则使用此类型。例如，在岩石和草地上绘制雪层会遮住，但擦除后会显示下放岩石和草地。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB高度混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此与LBWeightBlend相同，但会基于高度图将细节添加至层间的过渡。利用此项，可进行如岩石间缝隙中的层过渡点出现泥土等操作，而不仅仅是岩石和泥土平滑混合。</p>
			</td>
	
</tr></tbody>
</table><p>此为 <strong>LB高度混合</strong> 的操作范例。正如所见，岩石缝隙间的层过渡点出现了泥土。如此便可在层交回处实现自然过渡。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg">
		<img class="  lazyload" alt="LB_HeightBlend.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg" />
</picture>

</p><h2 id="地形层混合技术信息">地形层混合技术信息</h2>
<p>在后台，此类层节点的行为与静态切换参数节点类似，利用其可切换使用的材质部分。地形的各组件均包含主地形材质中创建的的 <strong>MaterialInstanceConstant</strong>，仅应用到此组件。如特定地形组件上未使用特定层，则连接到层的节点子树将被废弃。此项会降低总体材质复杂度，使应用于地形的材质包含任意数量的纹理取样，前提是单个组件上使用的样本量不超过着色器模型规格设置的最大数量（SM 3.0为16个）。 
</p><p>这意味可设置主材质包含地形任意位置上使用的所有纹理或网络。最终组成极度复杂的网络集合，同时在硬件支持的参数范围内，继续将最终材质应用到地形组件。
</p><div class="note">
	<p>任何材质表达式网络都可连接到 <strong>Layer</strong> 输入，取代简单 <strong>TextureSample</strong>。如此便可得到更加复杂的效果，例如，根据所层被查看的距离，从细节纹理过渡到较大的宏纹理。</p>
</div><h2 id="曲面细分和置换贴图">曲面细分和置换贴图</h2>
<p>材质的 <strong>曲面细分乘数</strong> 和 <strong>场景置换贴图</strong> 通道可与地形地貌结合使用，以在地形靠近相机时提供更多细节和变形。其工作方式与其他标准材质相同，层混合可与之结合使用，与 <strong>底色</strong>、<strong>法线</strong> 或其他通道相同。地形也仅在最高细节级别（LOD）上渲染硬件曲面细分，其随着地形接近第二个LOD而逐渐淡出。后续LOD将不再启用曲面细分，在地形地貌上启用曲面细分替换时极大提高性能。
</p><div class="note">
	<p>此类功能仅限启用DirectX 11时使用。因此，其应用于作二次润色效果，除非特别针对的是DirectX 11硬件。可查看<a id="content_link" href="../../../../Resources/ContentExamples/MaterialNodes/1_12/index.html" ><span>曲面细分乘数</span></a>页面，阅读在项目中启用和使用曲面细分的更多相关信息。</p>
</div><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg">
		<img class="  lazyload" alt="Landscape_HW_Tess.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg" />
</picture>

</p><div class="caption">
	<p>在上述可视化中，渲染最高LOD（白色）时启用了曲面细分，而渲染其他LOD（彩色）时未启用曲面细分。</p>
</div><h2 id="移动地形材质">移动地形材质</h2>
<p>移动地形不再仅限于三个地形层。虽然三个为最优方案，但只要纹理取样器数量足够，就可支持任意数量的层。地形层分配现使用<a id="content_link"filter-data="tag_materials" href="../Utility/index.html" ><span>特征等级切换材质节点</span></a>，单个PC或主机地形材质也可具有移动版本。下图展示PC和主机版《堡垒之夜：大逃杀》中使用的地形在移动设备上的外观。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg">
		<img class="  lazyload" alt="MobileLandscape_FeatureLevel.png" title="MobileLandscape372029427FeatureLevel.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg" />
</picture>

</p><h2 id="使用层混合">使用层混合</h2>
<p>将多个纹理和材质网络混合为可绘制地形层的功能，是纹理化地形地貌的基础。为了将层混合起来，可使用多个 <strong>LandscapeLayerWeight</strong> 节点或一个到两个 <strong>LandscapeLayerBlend</strong> 节点，具体取决于是否使用法线贴图。
</p><h3 id="使用地形层权重节点">使用地形层权重节点</h3>
<p>设置和使用 <strong>LandscapeLayerWeight</strong> 节点的过程非常简单，具体见下文所述。
</p><div class="note">
	<p>所有层命名必须唯一，因此建议使用可表明层所含内容的描述性名称来命名层。此命名这可协助记忆层中的内容，以便更加快速地搜索层。 </p>
</div><ol ><li class="Default"><p>在 <strong>材质编辑器</strong> 中，向材质图表添加 <strong>LandscapeLayerWeight</strong> 节点。其默认的 <strong>参数命名</strong> 为"None"。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.png" ><span><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg">
		<img class="  lazyload" alt="Landscape_Layer_Weight_Base.png" width="700" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg" />
</picture>
</span></a></span></p>
</div></li><li class="Default"><p>在 <strong>细节</strong> 面板中，将 <strong>参数命名</strong> 改为层的描述性命名，如"Rock"。在输入 <strong>参数命名</strong> 后，节点上将自行更新命名。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg" />
</picture>

</p></li><li class="Default"><p>添加额外 <strong>LandscapeLayerWeight</strong> 节点，直到所需材质中的所有层都拥有此类节点为止。该范例中仅使用两个 <strong>LandscapeLayerWeight</strong> 节点。
</p></li><li class="Default"><p>添加 <strong>纹理取样</strong> 或其他材质网络表达式，并将其与 <strong>LandscapeLayerWeight</strong> 节点连接。
</p></li><li class="Default"><p>添加 <strong>LandscapeLayerCoords</strong> 节点，任意设置其UV标题，然后将其与 <strong>纹理取样</strong> 节点连接。
</p></li><li class="Default"><p>从各 <strong>层</strong> 节点的输出引脚连出引线，连接到下一层节点的 <strong>基本</strong> 引脚，使用引线将两者连接（不连接首个层节点的 <strong>基本</strong> 引脚）。
</p></li><li class="Default"><p>从最终 <strong>层</strong> 节点的输出引脚连出引线，连接到材质 <strong>基本</strong> 节点的 <strong>底色</strong> 输入。
</p></li></ol><p>完成后应可看到类似以下使用 <strong>LandscapeLayerWeight</strong> 节点的范例：
</p><p>  <picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg">
		<img class="  lazyload" alt="Landscape Layer Nodes" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg" />
</picture>

</p><div class="note">
	<p>可通过更改 <strong>LandscapeLayerWeight</strong> 节点的 <strong>预览权重</strong> 属性，预览材质上不同权重的效果。</p>
</div><h3 id="使用地形层混合节点">使用地形层混合节点</h3>
<p>作为使用 <strong>LandscapeLayerWeight</strong> 节点手动混合层的替代方法，<strong>LandscapeLayerBlend</strong> 节点使用Alpha混合或带有基于高度偏移的Alpha混合来混合多个层。利用基于高度的偏移，层可根据高度图输入与其他层混合。
</p><ol ><li class="Default"><p>在材质编辑器中，添加 <strong>LandscapeLayerBlend</strong> 节点。
</p></li><li class="Default"><p>在 <strong>细节</strong> 面板中的 <strong>层</strong> 旁，点击加号图标（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg" />
</picture>
）添加层。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p></li><li class="Default"><p>展开层查看其属性。
</p></li><li class="Default"><p>将 <strong>层命名</strong> 改为层的描述性命名，如"Snow"。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg" />
</picture>

</p></li><li class="Default"><p>决定层是Alpha混合或高度混合，并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>按需添加地形材质的其他层数。重命名并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>将LandscapeLayerBlend节点输出连接到材质基本节点的 <strong>底色</strong> 输入。
</p></li><li class="Default"><p>添加纹理取样节点，将其主输出连接到 <strong>LandscapeLayerBlend</strong> 节点的 <strong>层</strong> 输入。或创建更复杂的材质网络，将其连接到地形层混合 <strong>层</strong> 输入。对于混合高度层，将纹理取样的Alpha输出连接到LandscapeLayerBlend的 <strong>高度</strong> 输入。
</p></li></ol><p>完成后纹理材质网络将类似下图：
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg">
		<img class="  lazyload" alt="Landscape Blend Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg" />
</picture>

</p><div class="note">
	<p>修改 <strong>LandscapeLayerBlend</strong> 节点的 <strong>预览权重</strong> 属性，可预览材质上不同权重的效果。</p>
</div><h2 id="创建地形洞材质">创建地形洞材质</h2>
<p>在<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/ManageMode/index.html" ><span>管理模式</span></a>下可在地形上创建洞，但仅能通过删除整个地形组件进行操作。为避免此类操作，可使用地形洞材质来遮罩地形上特定位置的可视性和碰撞。如要在山脉侧面创建进入洞穴的入口，此操作将非常有用。
</p><div class="tip">
	<p>可使用地形材质和地形洞材质的相同材质，但注意：对比不使用不透明蒙版的材质，使用此类蒙版的材质对性能影响更大。因此可选择创建单独的地形洞材质。</p>
</div><ol ><li class="Default"><p>打开材质编辑器，在 <strong>细节</strong> 面板中，将 <strong>混合模式</strong> 设为 <strong>遮罩</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>

</p></li><li class="Default"><p>接着将 <strong>LandscapeVisibilityMask</strong> 节点添加到材质图表，并将其输出连接到 <strong>不透明蒙版</strong> 输入。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskNode.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg" />
</picture>

</p></li><li class="Default"><p>编译材质后，将其指定到地形以便使用。该操作可在 <strong>细节</strong> 面板的 <strong>地形洞材质（Landscape Hole Material）</strong> 部分中完成。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li><li class="Default"><p>现正常设置地形材质的其余部分，完成后应可得到类似下图的结果。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskSetup_In_Material.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg" />
</picture>

</p></li></ol><p>现在能够遮罩和取消遮罩地形可视性，如以下视频所示。
</p><!--
videoid:paramliteral
width:paramliteral
height:paramliteral
units:paramliteral
type:paramliteral
start:paramliteral
service:paramliteral
-->
<style type="text/css">
#player_1_szp40pap_90
{
	margin: 0px;
	width: 75%;
	display: inline-block;
	position: relative;
	overflow: hidden;
}
#player_1_szp40pap_90:after
{
	content: "";
	padding-top: 56.25%;
	display: block;
}
</style> 
<div id="player_1_szp40pap_90"> 
	<div id="playerContainer_1_szp40pap_90" style="position:absolute;top:0;left: 0;right: 0;bottom:0;border:solid thin black;">
		<iframe width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen="" src="https://dev.epicgames.com/community/api/cms/videos/1_szp40pap/embed.html"></iframe>
	</div>
</div>
<div class="note">
	<p>欲了解使用绘制工具创建地形洞的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><h2 id="向地形指定材质">向地形指定材质</h2>
<p>创建地形的材质后，需将材质指定到关卡中的地形Actor，以使用该材质。 
</p><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形材质。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>在关卡编辑器的地形 <strong>细节</strong> 面板中，点击 <strong>地形</strong> 部分中 <strong>地形材质</strong> 旁的"指定"箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg">
		<img class="  lazyload" alt="Assigned Material" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg" />
</picture>

</p></li></ol><h3 id="向地形指定地形洞材质">向地形指定地形洞材质</h3>
<p>可指定不同材质为 <strong>地形洞材质</strong>，其为拥有特定不透明度设置的材质。 
</p><div class="note">
	<p>参阅地形洞材质的相关章节，了解洞材质的常规信息。欲了解不透明遮罩的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形洞材质并选中。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>导航到关卡编辑器 <strong>细节</strong> > <strong>地形</strong> > <strong>地形洞材质</strong>。选择箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li></ol>
</div>
<h2 id="landscapelayercoords">LandscapeLayerCoords</h2>
<a name="1972104683" ></a><div class="include_wrapper" data-path="BuildingWorlds/Landscape/Materials/">
<p>尽管任意 <strong>材质</strong> 都可用于 <strong>地形</strong> Actor，但虚幻引擎4（UE4）中的材质系统同时提供了一些特定的地形材质节点，可帮助优化地形纹理。以下文档中将介绍此类节点的功能，以及如何在地形材质中使用它们。
</p><div class="note">
	<p>可在[材质编辑器](RenderingAndGraphics/Materials/Editor中中，使用修改其他材质的方式修改材质以用于地形。</p>
</div><h2 id="层权重和排序">层权重和排序</h2>
<p>地形使用权重混合，而非Alpha混合，因此所有层在任何位置的混合系数最多累积到1.0。Alpha混合与顺序无关，可随时绘制任意层，因此十分有用。此外，在使用Alpha混合时，Alpha层的权重会增加，而其他现有层权重会减小。 
</p><p>但是，使用Alpha混合的一个弊端是层绘制达100%时，所有其他层的权重值将变为0%。此情况在使用<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#绘制" ><span>绘制</span></a>工具移除已100%的层时十分明显。由于其他层为0%，工具无法取代要移除的100%层，因此层好似并无变化。 
</p><h2 id="地形特定材质节点">地形特定材质节点</h2>
<p>在材质编辑器中，可发现六个可用于地形系统的特殊节点。可在 <strong>地形</strong> 分类下的 <strong>控制板</strong> 菜单中找到所有这些节点。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg">
		<img class="  lazyload" alt="Material Editor Context Menu" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg" />
</picture>

</p><h3 id="地形层混合节点">地形层混合节点</h3>
<p>利用 <strong>LandscapeLayerBlend</strong> 节点可混合多个纹理或材质网络，以便将其用作地形层。LandscapeLayerBlend使用阵列存储关于地形层的信息。要向该阵列添加层，选择加号图标。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p><p>将多个层添加到 <strong>LandscapeLayerBlend</strong> 节点时，层命名会被填入LandscapeLayerBlend节点。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerBlend Mode" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>节点包含的层列表。可单击加号（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg" />
</picture>
）添加层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>额外层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这为额外层折叠时的外观。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>层的唯一命名。<strong>层名称</strong> 对应地形工具窗口中<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#图层" ><span>绘制模式</span></a>使用的层命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>混合类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>为 <strong>LB_AlphaBlend</strong> 、 <strong>LB_HeightBlend</strong> 或 <strong>LB_WeightBlend</strong> 。参阅本页上的"地形层混合类型"。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是在材质编辑器中预览混合的层权重值。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量层输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作颜色的数字值。此项主要在发生问题时用于层调试。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量高度输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作高度的数字值。</p>
			</td>
	
</tr></tbody>
</table><p>下表详细说明了 <strong>层混合</strong> 节点的输入和输出。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg">
		<img class="  lazyload" alt="layer_blend_node.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>项目 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层 *层名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>各层添加层的输入进行混合。此输入仅在 <strong>细节</strong> 面板中添加并命名层后可用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>高度 *层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此为提供高度图进行混合的位置。该输入仅在 <strong>混合类型</strong> 属性设为 <strong>LB_HeightBlend</strong> 的层上可见。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>混合起来的层结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="混合层">混合层</h3>
<p>使用层混合模式的特定组合时，地形上不同层交叉的位置将出现大量黑斑。将LB_HeightBlend模式用于多地形层时，此问题尤其常见。LB_HeightBlend的工作原理是使用指定权重值调制层的混合系数或权重。如区域上绘制有多个层，且均被设为LB_HeightBlend，则可能特定区域中绘制的所有层将同时拥有0高度值，因此各层的理想混合系数将变为0。 
</p><p>由于无隐式或显式排序，且无层对该区域有贡献，因此结果会产生黑斑。由于混合法线贴图会产生法线值(0,0,0)，且该值无效，会导致照明渲染问题，因此混合法线贴图时情况会更糟。针对此问题的解决方案是对其中一个层使用 <strong>LB_AlphaBlend</strong>，如以下范例所示。
</p><p>左图中所有层均为LB_HeightBlend，会导致部分区域变黑。在右图中，红色"1"层已改为使用LB_AlphaBlend，从而解决该问题。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg">
		<img class="  lazyload" alt="LB_HeightBlend Problem" width="800" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg" />
</picture>

</p><p>以下是混合起来的所有层的 <strong>Landscape Layer Blend</strong> 节点属性范例。务必注意 <strong>土壤</strong> 层将其混合模式设为LB_AlphaBlend，而其他层则设为LB_HeightBlend。此设置旨在避免发生上文中的问题（层交汇处出现黑斑）。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg">
		<img class="  lazyload" alt="Layer Blend Properties" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg" />
</picture>

</p><p>如需删除层，点击层元素编号右侧的下拉箭头打开菜单，并选择 <strong>删除</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg">
		<img class="  lazyload" alt="Delete Layer" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg" />
</picture>

</p><h3 id="地形层坐标节点">地形层坐标节点</h3>
<p><strong>LandscapeLayerCoords</strong> 节点生成UV坐标，可用于将材质网络映射到地形地貌。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerCoords Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将材质（或网络）映射到地形时指定要所用朝向的 <strong>ELandscapeCoordMappingType</strong>。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>自定义UVType</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要在地形上使用的映射位置。<strong>CustomUVType</strong> 输出UV坐标以基于给定属性值将材质映射到地形。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射缩放</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将等分缩放应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射旋转</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将旋转应用到UV坐标（以度计）。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[U]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[U]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[V]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[V]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出UV坐标，根据给定属性值将材质映射到地形。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层切换节点">地形层切换节点</h3>
<p>特定层未对地形区域贡献时，利用 <strong>LandscapeLayerSwitch</strong> 节点可排除部分材质运算。特定层权重为0时，利用此操作可通过移除不必要的计算优化材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerSwitch Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>使用预览</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如果选中，则使用预览。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong> LayerUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域使用节点属性中指定的层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>LayerNotUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域未使用层，且其权重为0。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将基于层对地形的特定区域是否贡献，选择使用 <strong>LayerUsed</strong> 或 <strong>LayerNotUsed</strong>。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层权重节点">地形层权重节点</h3>
<p>利用 <strong>LandscapeLayerWeight</strong> 表达式可根据地形材质中获取的关联层权重混合所有材质网络。该层的权重用作混合两个输入网络的Alpha值。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerWeight Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>材质编辑器中用于预览的权重。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>恒定底色</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>可在此指定地形需要拥有的底色</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>基础</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要与该层混合的网络。此通常为前一层混合的结果，但如是首个层，则可以为空。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要混合起来创建该层的网络。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>根据所涉层的层权重，输出 <strong>Base</strong> 和 <strong>Layer</strong> 输入间的混合结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形可视性遮罩节点">地形可视性遮罩节点</h3>
<p><strong>LandscapeVisibilityMask</strong> 节点移除地形的可见部分，以便在地形中创建洞进行如洞穴创建等操作。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg">
		<img class="  lazyload" alt="LandscapeVisibilityMask Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出可视性遮罩属性。</p>
			</td>
	
</tr></tbody>
</table><div class="note">
	<p>确保输出连接到材质的 <strong>不透明蒙版</strong> 插槽，且将 <strong>材质混合模式</strong> 设为 <strong>遮罩（Masked）</strong>。否则节点无法正常工作。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>
</p>
</div><h2 id="地形层混合类型">地形层混合类型</h2>
<p>地形 <strong>层混合</strong> 材质节点有三个不同混合模式可供选择。尝试得到不同结果时，使用不同 <strong>层混合</strong> 类型。
</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>混合类型 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>功能 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB权重混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如层来自外部程序，如World Machine，或需要独立绘制各层，而无需担心层顺序，即可使用此类型。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB Alpha混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如要绘制细节并需要已定义的层顺序，则使用此类型。例如，在岩石和草地上绘制雪层会遮住，但擦除后会显示下放岩石和草地。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB高度混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此与LBWeightBlend相同，但会基于高度图将细节添加至层间的过渡。利用此项，可进行如岩石间缝隙中的层过渡点出现泥土等操作，而不仅仅是岩石和泥土平滑混合。</p>
			</td>
	
</tr></tbody>
</table><p>此为 <strong>LB高度混合</strong> 的操作范例。正如所见，岩石缝隙间的层过渡点出现了泥土。如此便可在层交回处实现自然过渡。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg">
		<img class="  lazyload" alt="LB_HeightBlend.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg" />
</picture>

</p><h2 id="地形层混合技术信息">地形层混合技术信息</h2>
<p>在后台，此类层节点的行为与静态切换参数节点类似，利用其可切换使用的材质部分。地形的各组件均包含主地形材质中创建的的 <strong>MaterialInstanceConstant</strong>，仅应用到此组件。如特定地形组件上未使用特定层，则连接到层的节点子树将被废弃。此项会降低总体材质复杂度，使应用于地形的材质包含任意数量的纹理取样，前提是单个组件上使用的样本量不超过着色器模型规格设置的最大数量（SM 3.0为16个）。 
</p><p>这意味可设置主材质包含地形任意位置上使用的所有纹理或网络。最终组成极度复杂的网络集合，同时在硬件支持的参数范围内，继续将最终材质应用到地形组件。
</p><div class="note">
	<p>任何材质表达式网络都可连接到 <strong>Layer</strong> 输入，取代简单 <strong>TextureSample</strong>。如此便可得到更加复杂的效果，例如，根据所层被查看的距离，从细节纹理过渡到较大的宏纹理。</p>
</div><h2 id="曲面细分和置换贴图">曲面细分和置换贴图</h2>
<p>材质的 <strong>曲面细分乘数</strong> 和 <strong>场景置换贴图</strong> 通道可与地形地貌结合使用，以在地形靠近相机时提供更多细节和变形。其工作方式与其他标准材质相同，层混合可与之结合使用，与 <strong>底色</strong>、<strong>法线</strong> 或其他通道相同。地形也仅在最高细节级别（LOD）上渲染硬件曲面细分，其随着地形接近第二个LOD而逐渐淡出。后续LOD将不再启用曲面细分，在地形地貌上启用曲面细分替换时极大提高性能。
</p><div class="note">
	<p>此类功能仅限启用DirectX 11时使用。因此，其应用于作二次润色效果，除非特别针对的是DirectX 11硬件。可查看<a id="content_link" href="../../../../Resources/ContentExamples/MaterialNodes/1_12/index.html" ><span>曲面细分乘数</span></a>页面，阅读在项目中启用和使用曲面细分的更多相关信息。</p>
</div><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg">
		<img class="  lazyload" alt="Landscape_HW_Tess.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg" />
</picture>

</p><div class="caption">
	<p>在上述可视化中，渲染最高LOD（白色）时启用了曲面细分，而渲染其他LOD（彩色）时未启用曲面细分。</p>
</div><h2 id="移动地形材质">移动地形材质</h2>
<p>移动地形不再仅限于三个地形层。虽然三个为最优方案，但只要纹理取样器数量足够，就可支持任意数量的层。地形层分配现使用<a id="content_link"filter-data="tag_materials" href="../Utility/index.html" ><span>特征等级切换材质节点</span></a>，单个PC或主机地形材质也可具有移动版本。下图展示PC和主机版《堡垒之夜：大逃杀》中使用的地形在移动设备上的外观。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg">
		<img class="  lazyload" alt="MobileLandscape_FeatureLevel.png" title="MobileLandscape372029427FeatureLevel.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg" />
</picture>

</p><h2 id="使用层混合">使用层混合</h2>
<p>将多个纹理和材质网络混合为可绘制地形层的功能，是纹理化地形地貌的基础。为了将层混合起来，可使用多个 <strong>LandscapeLayerWeight</strong> 节点或一个到两个 <strong>LandscapeLayerBlend</strong> 节点，具体取决于是否使用法线贴图。
</p><h3 id="使用地形层权重节点">使用地形层权重节点</h3>
<p>设置和使用 <strong>LandscapeLayerWeight</strong> 节点的过程非常简单，具体见下文所述。
</p><div class="note">
	<p>所有层命名必须唯一，因此建议使用可表明层所含内容的描述性名称来命名层。此命名这可协助记忆层中的内容，以便更加快速地搜索层。 </p>
</div><ol ><li class="Default"><p>在 <strong>材质编辑器</strong> 中，向材质图表添加 <strong>LandscapeLayerWeight</strong> 节点。其默认的 <strong>参数命名</strong> 为"None"。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.png" ><span><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg">
		<img class="  lazyload" alt="Landscape_Layer_Weight_Base.png" width="700" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg" />
</picture>
</span></a></span></p>
</div></li><li class="Default"><p>在 <strong>细节</strong> 面板中，将 <strong>参数命名</strong> 改为层的描述性命名，如"Rock"。在输入 <strong>参数命名</strong> 后，节点上将自行更新命名。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg" />
</picture>

</p></li><li class="Default"><p>添加额外 <strong>LandscapeLayerWeight</strong> 节点，直到所需材质中的所有层都拥有此类节点为止。该范例中仅使用两个 <strong>LandscapeLayerWeight</strong> 节点。
</p></li><li class="Default"><p>添加 <strong>纹理取样</strong> 或其他材质网络表达式，并将其与 <strong>LandscapeLayerWeight</strong> 节点连接。
</p></li><li class="Default"><p>添加 <strong>LandscapeLayerCoords</strong> 节点，任意设置其UV标题，然后将其与 <strong>纹理取样</strong> 节点连接。
</p></li><li class="Default"><p>从各 <strong>层</strong> 节点的输出引脚连出引线，连接到下一层节点的 <strong>基本</strong> 引脚，使用引线将两者连接（不连接首个层节点的 <strong>基本</strong> 引脚）。
</p></li><li class="Default"><p>从最终 <strong>层</strong> 节点的输出引脚连出引线，连接到材质 <strong>基本</strong> 节点的 <strong>底色</strong> 输入。
</p></li></ol><p>完成后应可看到类似以下使用 <strong>LandscapeLayerWeight</strong> 节点的范例：
</p><p>  <picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg">
		<img class="  lazyload" alt="Landscape Layer Nodes" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg" />
</picture>

</p><div class="note">
	<p>可通过更改 <strong>LandscapeLayerWeight</strong> 节点的 <strong>预览权重</strong> 属性，预览材质上不同权重的效果。</p>
</div><h3 id="使用地形层混合节点">使用地形层混合节点</h3>
<p>作为使用 <strong>LandscapeLayerWeight</strong> 节点手动混合层的替代方法，<strong>LandscapeLayerBlend</strong> 节点使用Alpha混合或带有基于高度偏移的Alpha混合来混合多个层。利用基于高度的偏移，层可根据高度图输入与其他层混合。
</p><ol ><li class="Default"><p>在材质编辑器中，添加 <strong>LandscapeLayerBlend</strong> 节点。
</p></li><li class="Default"><p>在 <strong>细节</strong> 面板中的 <strong>层</strong> 旁，点击加号图标（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg" />
</picture>
）添加层。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p></li><li class="Default"><p>展开层查看其属性。
</p></li><li class="Default"><p>将 <strong>层命名</strong> 改为层的描述性命名，如"Snow"。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg" />
</picture>

</p></li><li class="Default"><p>决定层是Alpha混合或高度混合，并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>按需添加地形材质的其他层数。重命名并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>将LandscapeLayerBlend节点输出连接到材质基本节点的 <strong>底色</strong> 输入。
</p></li><li class="Default"><p>添加纹理取样节点，将其主输出连接到 <strong>LandscapeLayerBlend</strong> 节点的 <strong>层</strong> 输入。或创建更复杂的材质网络，将其连接到地形层混合 <strong>层</strong> 输入。对于混合高度层，将纹理取样的Alpha输出连接到LandscapeLayerBlend的 <strong>高度</strong> 输入。
</p></li></ol><p>完成后纹理材质网络将类似下图：
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg">
		<img class="  lazyload" alt="Landscape Blend Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg" />
</picture>

</p><div class="note">
	<p>修改 <strong>LandscapeLayerBlend</strong> 节点的 <strong>预览权重</strong> 属性，可预览材质上不同权重的效果。</p>
</div><h2 id="创建地形洞材质">创建地形洞材质</h2>
<p>在<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/ManageMode/index.html" ><span>管理模式</span></a>下可在地形上创建洞，但仅能通过删除整个地形组件进行操作。为避免此类操作，可使用地形洞材质来遮罩地形上特定位置的可视性和碰撞。如要在山脉侧面创建进入洞穴的入口，此操作将非常有用。
</p><div class="tip">
	<p>可使用地形材质和地形洞材质的相同材质，但注意：对比不使用不透明蒙版的材质，使用此类蒙版的材质对性能影响更大。因此可选择创建单独的地形洞材质。</p>
</div><ol ><li class="Default"><p>打开材质编辑器，在 <strong>细节</strong> 面板中，将 <strong>混合模式</strong> 设为 <strong>遮罩</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>

</p></li><li class="Default"><p>接着将 <strong>LandscapeVisibilityMask</strong> 节点添加到材质图表，并将其输出连接到 <strong>不透明蒙版</strong> 输入。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskNode.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg" />
</picture>

</p></li><li class="Default"><p>编译材质后，将其指定到地形以便使用。该操作可在 <strong>细节</strong> 面板的 <strong>地形洞材质（Landscape Hole Material）</strong> 部分中完成。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li><li class="Default"><p>现正常设置地形材质的其余部分，完成后应可得到类似下图的结果。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskSetup_In_Material.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg" />
</picture>

</p></li></ol><p>现在能够遮罩和取消遮罩地形可视性，如以下视频所示。
</p><!--
videoid:paramliteral
width:paramliteral
height:paramliteral
units:paramliteral
type:paramliteral
start:paramliteral
service:paramliteral
-->
<style type="text/css">
#player_1_szp40pap_90
{
	margin: 0px;
	width: 75%;
	display: inline-block;
	position: relative;
	overflow: hidden;
}
#player_1_szp40pap_90:after
{
	content: "";
	padding-top: 56.25%;
	display: block;
}
</style> 
<div id="player_1_szp40pap_90"> 
	<div id="playerContainer_1_szp40pap_90" style="position:absolute;top:0;left: 0;right: 0;bottom:0;border:solid thin black;">
		<iframe width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen="" src="https://dev.epicgames.com/community/api/cms/videos/1_szp40pap/embed.html"></iframe>
	</div>
</div>
<div class="note">
	<p>欲了解使用绘制工具创建地形洞的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><h2 id="向地形指定材质">向地形指定材质</h2>
<p>创建地形的材质后，需将材质指定到关卡中的地形Actor，以使用该材质。 
</p><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形材质。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>在关卡编辑器的地形 <strong>细节</strong> 面板中，点击 <strong>地形</strong> 部分中 <strong>地形材质</strong> 旁的"指定"箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg">
		<img class="  lazyload" alt="Assigned Material" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg" />
</picture>

</p></li></ol><h3 id="向地形指定地形洞材质">向地形指定地形洞材质</h3>
<p>可指定不同材质为 <strong>地形洞材质</strong>，其为拥有特定不透明度设置的材质。 
</p><div class="note">
	<p>参阅地形洞材质的相关章节，了解洞材质的常规信息。欲了解不透明遮罩的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形洞材质并选中。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>导航到关卡编辑器 <strong>细节</strong> > <strong>地形</strong> > <strong>地形洞材质</strong>。选择箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li></ol>
</div>
<h2 id="landscapelayerswitch">LandscapeLayerSwitch</h2>
<a name="1972104683" ></a><div class="include_wrapper" data-path="BuildingWorlds/Landscape/Materials/">
<p>尽管任意 <strong>材质</strong> 都可用于 <strong>地形</strong> Actor，但虚幻引擎4（UE4）中的材质系统同时提供了一些特定的地形材质节点，可帮助优化地形纹理。以下文档中将介绍此类节点的功能，以及如何在地形材质中使用它们。
</p><div class="note">
	<p>可在[材质编辑器](RenderingAndGraphics/Materials/Editor中中，使用修改其他材质的方式修改材质以用于地形。</p>
</div><h2 id="层权重和排序">层权重和排序</h2>
<p>地形使用权重混合，而非Alpha混合，因此所有层在任何位置的混合系数最多累积到1.0。Alpha混合与顺序无关，可随时绘制任意层，因此十分有用。此外，在使用Alpha混合时，Alpha层的权重会增加，而其他现有层权重会减小。 
</p><p>但是，使用Alpha混合的一个弊端是层绘制达100%时，所有其他层的权重值将变为0%。此情况在使用<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#绘制" ><span>绘制</span></a>工具移除已100%的层时十分明显。由于其他层为0%，工具无法取代要移除的100%层，因此层好似并无变化。 
</p><h2 id="地形特定材质节点">地形特定材质节点</h2>
<p>在材质编辑器中，可发现六个可用于地形系统的特殊节点。可在 <strong>地形</strong> 分类下的 <strong>控制板</strong> 菜单中找到所有这些节点。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg">
		<img class="  lazyload" alt="Material Editor Context Menu" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg" />
</picture>

</p><h3 id="地形层混合节点">地形层混合节点</h3>
<p>利用 <strong>LandscapeLayerBlend</strong> 节点可混合多个纹理或材质网络，以便将其用作地形层。LandscapeLayerBlend使用阵列存储关于地形层的信息。要向该阵列添加层，选择加号图标。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p><p>将多个层添加到 <strong>LandscapeLayerBlend</strong> 节点时，层命名会被填入LandscapeLayerBlend节点。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerBlend Mode" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>节点包含的层列表。可单击加号（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg" />
</picture>
）添加层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>额外层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这为额外层折叠时的外观。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>层的唯一命名。<strong>层名称</strong> 对应地形工具窗口中<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#图层" ><span>绘制模式</span></a>使用的层命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>混合类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>为 <strong>LB_AlphaBlend</strong> 、 <strong>LB_HeightBlend</strong> 或 <strong>LB_WeightBlend</strong> 。参阅本页上的"地形层混合类型"。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是在材质编辑器中预览混合的层权重值。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量层输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作颜色的数字值。此项主要在发生问题时用于层调试。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量高度输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作高度的数字值。</p>
			</td>
	
</tr></tbody>
</table><p>下表详细说明了 <strong>层混合</strong> 节点的输入和输出。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg">
		<img class="  lazyload" alt="layer_blend_node.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>项目 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层 *层名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>各层添加层的输入进行混合。此输入仅在 <strong>细节</strong> 面板中添加并命名层后可用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>高度 *层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此为提供高度图进行混合的位置。该输入仅在 <strong>混合类型</strong> 属性设为 <strong>LB_HeightBlend</strong> 的层上可见。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>混合起来的层结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="混合层">混合层</h3>
<p>使用层混合模式的特定组合时，地形上不同层交叉的位置将出现大量黑斑。将LB_HeightBlend模式用于多地形层时，此问题尤其常见。LB_HeightBlend的工作原理是使用指定权重值调制层的混合系数或权重。如区域上绘制有多个层，且均被设为LB_HeightBlend，则可能特定区域中绘制的所有层将同时拥有0高度值，因此各层的理想混合系数将变为0。 
</p><p>由于无隐式或显式排序，且无层对该区域有贡献，因此结果会产生黑斑。由于混合法线贴图会产生法线值(0,0,0)，且该值无效，会导致照明渲染问题，因此混合法线贴图时情况会更糟。针对此问题的解决方案是对其中一个层使用 <strong>LB_AlphaBlend</strong>，如以下范例所示。
</p><p>左图中所有层均为LB_HeightBlend，会导致部分区域变黑。在右图中，红色"1"层已改为使用LB_AlphaBlend，从而解决该问题。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg">
		<img class="  lazyload" alt="LB_HeightBlend Problem" width="800" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg" />
</picture>

</p><p>以下是混合起来的所有层的 <strong>Landscape Layer Blend</strong> 节点属性范例。务必注意 <strong>土壤</strong> 层将其混合模式设为LB_AlphaBlend，而其他层则设为LB_HeightBlend。此设置旨在避免发生上文中的问题（层交汇处出现黑斑）。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg">
		<img class="  lazyload" alt="Layer Blend Properties" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg" />
</picture>

</p><p>如需删除层，点击层元素编号右侧的下拉箭头打开菜单，并选择 <strong>删除</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg">
		<img class="  lazyload" alt="Delete Layer" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg" />
</picture>

</p><h3 id="地形层坐标节点">地形层坐标节点</h3>
<p><strong>LandscapeLayerCoords</strong> 节点生成UV坐标，可用于将材质网络映射到地形地貌。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerCoords Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将材质（或网络）映射到地形时指定要所用朝向的 <strong>ELandscapeCoordMappingType</strong>。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>自定义UVType</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要在地形上使用的映射位置。<strong>CustomUVType</strong> 输出UV坐标以基于给定属性值将材质映射到地形。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射缩放</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将等分缩放应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射旋转</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将旋转应用到UV坐标（以度计）。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[U]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[U]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[V]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[V]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出UV坐标，根据给定属性值将材质映射到地形。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层切换节点">地形层切换节点</h3>
<p>特定层未对地形区域贡献时，利用 <strong>LandscapeLayerSwitch</strong> 节点可排除部分材质运算。特定层权重为0时，利用此操作可通过移除不必要的计算优化材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerSwitch Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>使用预览</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如果选中，则使用预览。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong> LayerUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域使用节点属性中指定的层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>LayerNotUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域未使用层，且其权重为0。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将基于层对地形的特定区域是否贡献，选择使用 <strong>LayerUsed</strong> 或 <strong>LayerNotUsed</strong>。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层权重节点">地形层权重节点</h3>
<p>利用 <strong>LandscapeLayerWeight</strong> 表达式可根据地形材质中获取的关联层权重混合所有材质网络。该层的权重用作混合两个输入网络的Alpha值。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerWeight Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>材质编辑器中用于预览的权重。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>恒定底色</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>可在此指定地形需要拥有的底色</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>基础</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要与该层混合的网络。此通常为前一层混合的结果，但如是首个层，则可以为空。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要混合起来创建该层的网络。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>根据所涉层的层权重，输出 <strong>Base</strong> 和 <strong>Layer</strong> 输入间的混合结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形可视性遮罩节点">地形可视性遮罩节点</h3>
<p><strong>LandscapeVisibilityMask</strong> 节点移除地形的可见部分，以便在地形中创建洞进行如洞穴创建等操作。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg">
		<img class="  lazyload" alt="LandscapeVisibilityMask Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出可视性遮罩属性。</p>
			</td>
	
</tr></tbody>
</table><div class="note">
	<p>确保输出连接到材质的 <strong>不透明蒙版</strong> 插槽，且将 <strong>材质混合模式</strong> 设为 <strong>遮罩（Masked）</strong>。否则节点无法正常工作。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>
</p>
</div><h2 id="地形层混合类型">地形层混合类型</h2>
<p>地形 <strong>层混合</strong> 材质节点有三个不同混合模式可供选择。尝试得到不同结果时，使用不同 <strong>层混合</strong> 类型。
</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>混合类型 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>功能 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB权重混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如层来自外部程序，如World Machine，或需要独立绘制各层，而无需担心层顺序，即可使用此类型。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB Alpha混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如要绘制细节并需要已定义的层顺序，则使用此类型。例如，在岩石和草地上绘制雪层会遮住，但擦除后会显示下放岩石和草地。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB高度混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此与LBWeightBlend相同，但会基于高度图将细节添加至层间的过渡。利用此项，可进行如岩石间缝隙中的层过渡点出现泥土等操作，而不仅仅是岩石和泥土平滑混合。</p>
			</td>
	
</tr></tbody>
</table><p>此为 <strong>LB高度混合</strong> 的操作范例。正如所见，岩石缝隙间的层过渡点出现了泥土。如此便可在层交回处实现自然过渡。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg">
		<img class="  lazyload" alt="LB_HeightBlend.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg" />
</picture>

</p><h2 id="地形层混合技术信息">地形层混合技术信息</h2>
<p>在后台，此类层节点的行为与静态切换参数节点类似，利用其可切换使用的材质部分。地形的各组件均包含主地形材质中创建的的 <strong>MaterialInstanceConstant</strong>，仅应用到此组件。如特定地形组件上未使用特定层，则连接到层的节点子树将被废弃。此项会降低总体材质复杂度，使应用于地形的材质包含任意数量的纹理取样，前提是单个组件上使用的样本量不超过着色器模型规格设置的最大数量（SM 3.0为16个）。 
</p><p>这意味可设置主材质包含地形任意位置上使用的所有纹理或网络。最终组成极度复杂的网络集合，同时在硬件支持的参数范围内，继续将最终材质应用到地形组件。
</p><div class="note">
	<p>任何材质表达式网络都可连接到 <strong>Layer</strong> 输入，取代简单 <strong>TextureSample</strong>。如此便可得到更加复杂的效果，例如，根据所层被查看的距离，从细节纹理过渡到较大的宏纹理。</p>
</div><h2 id="曲面细分和置换贴图">曲面细分和置换贴图</h2>
<p>材质的 <strong>曲面细分乘数</strong> 和 <strong>场景置换贴图</strong> 通道可与地形地貌结合使用，以在地形靠近相机时提供更多细节和变形。其工作方式与其他标准材质相同，层混合可与之结合使用，与 <strong>底色</strong>、<strong>法线</strong> 或其他通道相同。地形也仅在最高细节级别（LOD）上渲染硬件曲面细分，其随着地形接近第二个LOD而逐渐淡出。后续LOD将不再启用曲面细分，在地形地貌上启用曲面细分替换时极大提高性能。
</p><div class="note">
	<p>此类功能仅限启用DirectX 11时使用。因此，其应用于作二次润色效果，除非特别针对的是DirectX 11硬件。可查看<a id="content_link" href="../../../../Resources/ContentExamples/MaterialNodes/1_12/index.html" ><span>曲面细分乘数</span></a>页面，阅读在项目中启用和使用曲面细分的更多相关信息。</p>
</div><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg">
		<img class="  lazyload" alt="Landscape_HW_Tess.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg" />
</picture>

</p><div class="caption">
	<p>在上述可视化中，渲染最高LOD（白色）时启用了曲面细分，而渲染其他LOD（彩色）时未启用曲面细分。</p>
</div><h2 id="移动地形材质">移动地形材质</h2>
<p>移动地形不再仅限于三个地形层。虽然三个为最优方案，但只要纹理取样器数量足够，就可支持任意数量的层。地形层分配现使用<a id="content_link"filter-data="tag_materials" href="../Utility/index.html" ><span>特征等级切换材质节点</span></a>，单个PC或主机地形材质也可具有移动版本。下图展示PC和主机版《堡垒之夜：大逃杀》中使用的地形在移动设备上的外观。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg">
		<img class="  lazyload" alt="MobileLandscape_FeatureLevel.png" title="MobileLandscape372029427FeatureLevel.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg" />
</picture>

</p><h2 id="使用层混合">使用层混合</h2>
<p>将多个纹理和材质网络混合为可绘制地形层的功能，是纹理化地形地貌的基础。为了将层混合起来，可使用多个 <strong>LandscapeLayerWeight</strong> 节点或一个到两个 <strong>LandscapeLayerBlend</strong> 节点，具体取决于是否使用法线贴图。
</p><h3 id="使用地形层权重节点">使用地形层权重节点</h3>
<p>设置和使用 <strong>LandscapeLayerWeight</strong> 节点的过程非常简单，具体见下文所述。
</p><div class="note">
	<p>所有层命名必须唯一，因此建议使用可表明层所含内容的描述性名称来命名层。此命名这可协助记忆层中的内容，以便更加快速地搜索层。 </p>
</div><ol ><li class="Default"><p>在 <strong>材质编辑器</strong> 中，向材质图表添加 <strong>LandscapeLayerWeight</strong> 节点。其默认的 <strong>参数命名</strong> 为"None"。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.png" ><span><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg">
		<img class="  lazyload" alt="Landscape_Layer_Weight_Base.png" width="700" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg" />
</picture>
</span></a></span></p>
</div></li><li class="Default"><p>在 <strong>细节</strong> 面板中，将 <strong>参数命名</strong> 改为层的描述性命名，如"Rock"。在输入 <strong>参数命名</strong> 后，节点上将自行更新命名。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg" />
</picture>

</p></li><li class="Default"><p>添加额外 <strong>LandscapeLayerWeight</strong> 节点，直到所需材质中的所有层都拥有此类节点为止。该范例中仅使用两个 <strong>LandscapeLayerWeight</strong> 节点。
</p></li><li class="Default"><p>添加 <strong>纹理取样</strong> 或其他材质网络表达式，并将其与 <strong>LandscapeLayerWeight</strong> 节点连接。
</p></li><li class="Default"><p>添加 <strong>LandscapeLayerCoords</strong> 节点，任意设置其UV标题，然后将其与 <strong>纹理取样</strong> 节点连接。
</p></li><li class="Default"><p>从各 <strong>层</strong> 节点的输出引脚连出引线，连接到下一层节点的 <strong>基本</strong> 引脚，使用引线将两者连接（不连接首个层节点的 <strong>基本</strong> 引脚）。
</p></li><li class="Default"><p>从最终 <strong>层</strong> 节点的输出引脚连出引线，连接到材质 <strong>基本</strong> 节点的 <strong>底色</strong> 输入。
</p></li></ol><p>完成后应可看到类似以下使用 <strong>LandscapeLayerWeight</strong> 节点的范例：
</p><p>  <picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg">
		<img class="  lazyload" alt="Landscape Layer Nodes" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg" />
</picture>

</p><div class="note">
	<p>可通过更改 <strong>LandscapeLayerWeight</strong> 节点的 <strong>预览权重</strong> 属性，预览材质上不同权重的效果。</p>
</div><h3 id="使用地形层混合节点">使用地形层混合节点</h3>
<p>作为使用 <strong>LandscapeLayerWeight</strong> 节点手动混合层的替代方法，<strong>LandscapeLayerBlend</strong> 节点使用Alpha混合或带有基于高度偏移的Alpha混合来混合多个层。利用基于高度的偏移，层可根据高度图输入与其他层混合。
</p><ol ><li class="Default"><p>在材质编辑器中，添加 <strong>LandscapeLayerBlend</strong> 节点。
</p></li><li class="Default"><p>在 <strong>细节</strong> 面板中的 <strong>层</strong> 旁，点击加号图标（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg" />
</picture>
）添加层。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p></li><li class="Default"><p>展开层查看其属性。
</p></li><li class="Default"><p>将 <strong>层命名</strong> 改为层的描述性命名，如"Snow"。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg" />
</picture>

</p></li><li class="Default"><p>决定层是Alpha混合或高度混合，并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>按需添加地形材质的其他层数。重命名并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>将LandscapeLayerBlend节点输出连接到材质基本节点的 <strong>底色</strong> 输入。
</p></li><li class="Default"><p>添加纹理取样节点，将其主输出连接到 <strong>LandscapeLayerBlend</strong> 节点的 <strong>层</strong> 输入。或创建更复杂的材质网络，将其连接到地形层混合 <strong>层</strong> 输入。对于混合高度层，将纹理取样的Alpha输出连接到LandscapeLayerBlend的 <strong>高度</strong> 输入。
</p></li></ol><p>完成后纹理材质网络将类似下图：
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg">
		<img class="  lazyload" alt="Landscape Blend Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg" />
</picture>

</p><div class="note">
	<p>修改 <strong>LandscapeLayerBlend</strong> 节点的 <strong>预览权重</strong> 属性，可预览材质上不同权重的效果。</p>
</div><h2 id="创建地形洞材质">创建地形洞材质</h2>
<p>在<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/ManageMode/index.html" ><span>管理模式</span></a>下可在地形上创建洞，但仅能通过删除整个地形组件进行操作。为避免此类操作，可使用地形洞材质来遮罩地形上特定位置的可视性和碰撞。如要在山脉侧面创建进入洞穴的入口，此操作将非常有用。
</p><div class="tip">
	<p>可使用地形材质和地形洞材质的相同材质，但注意：对比不使用不透明蒙版的材质，使用此类蒙版的材质对性能影响更大。因此可选择创建单独的地形洞材质。</p>
</div><ol ><li class="Default"><p>打开材质编辑器，在 <strong>细节</strong> 面板中，将 <strong>混合模式</strong> 设为 <strong>遮罩</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>

</p></li><li class="Default"><p>接着将 <strong>LandscapeVisibilityMask</strong> 节点添加到材质图表，并将其输出连接到 <strong>不透明蒙版</strong> 输入。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskNode.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg" />
</picture>

</p></li><li class="Default"><p>编译材质后，将其指定到地形以便使用。该操作可在 <strong>细节</strong> 面板的 <strong>地形洞材质（Landscape Hole Material）</strong> 部分中完成。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li><li class="Default"><p>现正常设置地形材质的其余部分，完成后应可得到类似下图的结果。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskSetup_In_Material.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg" />
</picture>

</p></li></ol><p>现在能够遮罩和取消遮罩地形可视性，如以下视频所示。
</p><!--
videoid:paramliteral
width:paramliteral
height:paramliteral
units:paramliteral
type:paramliteral
start:paramliteral
service:paramliteral
-->
<style type="text/css">
#player_1_szp40pap_90
{
	margin: 0px;
	width: 75%;
	display: inline-block;
	position: relative;
	overflow: hidden;
}
#player_1_szp40pap_90:after
{
	content: "";
	padding-top: 56.25%;
	display: block;
}
</style> 
<div id="player_1_szp40pap_90"> 
	<div id="playerContainer_1_szp40pap_90" style="position:absolute;top:0;left: 0;right: 0;bottom:0;border:solid thin black;">
		<iframe width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen="" src="https://dev.epicgames.com/community/api/cms/videos/1_szp40pap/embed.html"></iframe>
	</div>
</div>
<div class="note">
	<p>欲了解使用绘制工具创建地形洞的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><h2 id="向地形指定材质">向地形指定材质</h2>
<p>创建地形的材质后，需将材质指定到关卡中的地形Actor，以使用该材质。 
</p><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形材质。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>在关卡编辑器的地形 <strong>细节</strong> 面板中，点击 <strong>地形</strong> 部分中 <strong>地形材质</strong> 旁的"指定"箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg">
		<img class="  lazyload" alt="Assigned Material" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg" />
</picture>

</p></li></ol><h3 id="向地形指定地形洞材质">向地形指定地形洞材质</h3>
<p>可指定不同材质为 <strong>地形洞材质</strong>，其为拥有特定不透明度设置的材质。 
</p><div class="note">
	<p>参阅地形洞材质的相关章节，了解洞材质的常规信息。欲了解不透明遮罩的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形洞材质并选中。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>导航到关卡编辑器 <strong>细节</strong> > <strong>地形</strong> > <strong>地形洞材质</strong>。选择箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li></ol>
</div>
<h2 id="landscapelayerweight">LandscapeLayerWeight</h2>
<a name="1972104683" ></a><div class="include_wrapper" data-path="BuildingWorlds/Landscape/Materials/">
<p>尽管任意 <strong>材质</strong> 都可用于 <strong>地形</strong> Actor，但虚幻引擎4（UE4）中的材质系统同时提供了一些特定的地形材质节点，可帮助优化地形纹理。以下文档中将介绍此类节点的功能，以及如何在地形材质中使用它们。
</p><div class="note">
	<p>可在[材质编辑器](RenderingAndGraphics/Materials/Editor中中，使用修改其他材质的方式修改材质以用于地形。</p>
</div><h2 id="层权重和排序">层权重和排序</h2>
<p>地形使用权重混合，而非Alpha混合，因此所有层在任何位置的混合系数最多累积到1.0。Alpha混合与顺序无关，可随时绘制任意层，因此十分有用。此外，在使用Alpha混合时，Alpha层的权重会增加，而其他现有层权重会减小。 
</p><p>但是，使用Alpha混合的一个弊端是层绘制达100%时，所有其他层的权重值将变为0%。此情况在使用<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#绘制" ><span>绘制</span></a>工具移除已100%的层时十分明显。由于其他层为0%，工具无法取代要移除的100%层，因此层好似并无变化。 
</p><h2 id="地形特定材质节点">地形特定材质节点</h2>
<p>在材质编辑器中，可发现六个可用于地形系统的特殊节点。可在 <strong>地形</strong> 分类下的 <strong>控制板</strong> 菜单中找到所有这些节点。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg">
		<img class="  lazyload" alt="Material Editor Context Menu" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg" />
</picture>

</p><h3 id="地形层混合节点">地形层混合节点</h3>
<p>利用 <strong>LandscapeLayerBlend</strong> 节点可混合多个纹理或材质网络，以便将其用作地形层。LandscapeLayerBlend使用阵列存储关于地形层的信息。要向该阵列添加层，选择加号图标。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p><p>将多个层添加到 <strong>LandscapeLayerBlend</strong> 节点时，层命名会被填入LandscapeLayerBlend节点。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerBlend Mode" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>节点包含的层列表。可单击加号（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg" />
</picture>
）添加层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>额外层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这为额外层折叠时的外观。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>层的唯一命名。<strong>层名称</strong> 对应地形工具窗口中<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#图层" ><span>绘制模式</span></a>使用的层命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>混合类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>为 <strong>LB_AlphaBlend</strong> 、 <strong>LB_HeightBlend</strong> 或 <strong>LB_WeightBlend</strong> 。参阅本页上的"地形层混合类型"。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是在材质编辑器中预览混合的层权重值。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量层输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作颜色的数字值。此项主要在发生问题时用于层调试。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量高度输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作高度的数字值。</p>
			</td>
	
</tr></tbody>
</table><p>下表详细说明了 <strong>层混合</strong> 节点的输入和输出。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg">
		<img class="  lazyload" alt="layer_blend_node.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>项目 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层 *层名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>各层添加层的输入进行混合。此输入仅在 <strong>细节</strong> 面板中添加并命名层后可用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>高度 *层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此为提供高度图进行混合的位置。该输入仅在 <strong>混合类型</strong> 属性设为 <strong>LB_HeightBlend</strong> 的层上可见。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>混合起来的层结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="混合层">混合层</h3>
<p>使用层混合模式的特定组合时，地形上不同层交叉的位置将出现大量黑斑。将LB_HeightBlend模式用于多地形层时，此问题尤其常见。LB_HeightBlend的工作原理是使用指定权重值调制层的混合系数或权重。如区域上绘制有多个层，且均被设为LB_HeightBlend，则可能特定区域中绘制的所有层将同时拥有0高度值，因此各层的理想混合系数将变为0。 
</p><p>由于无隐式或显式排序，且无层对该区域有贡献，因此结果会产生黑斑。由于混合法线贴图会产生法线值(0,0,0)，且该值无效，会导致照明渲染问题，因此混合法线贴图时情况会更糟。针对此问题的解决方案是对其中一个层使用 <strong>LB_AlphaBlend</strong>，如以下范例所示。
</p><p>左图中所有层均为LB_HeightBlend，会导致部分区域变黑。在右图中，红色"1"层已改为使用LB_AlphaBlend，从而解决该问题。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg">
		<img class="  lazyload" alt="LB_HeightBlend Problem" width="800" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg" />
</picture>

</p><p>以下是混合起来的所有层的 <strong>Landscape Layer Blend</strong> 节点属性范例。务必注意 <strong>土壤</strong> 层将其混合模式设为LB_AlphaBlend，而其他层则设为LB_HeightBlend。此设置旨在避免发生上文中的问题（层交汇处出现黑斑）。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg">
		<img class="  lazyload" alt="Layer Blend Properties" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg" />
</picture>

</p><p>如需删除层，点击层元素编号右侧的下拉箭头打开菜单，并选择 <strong>删除</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg">
		<img class="  lazyload" alt="Delete Layer" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg" />
</picture>

</p><h3 id="地形层坐标节点">地形层坐标节点</h3>
<p><strong>LandscapeLayerCoords</strong> 节点生成UV坐标，可用于将材质网络映射到地形地貌。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerCoords Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将材质（或网络）映射到地形时指定要所用朝向的 <strong>ELandscapeCoordMappingType</strong>。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>自定义UVType</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要在地形上使用的映射位置。<strong>CustomUVType</strong> 输出UV坐标以基于给定属性值将材质映射到地形。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射缩放</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将等分缩放应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射旋转</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将旋转应用到UV坐标（以度计）。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[U]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[U]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[V]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[V]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出UV坐标，根据给定属性值将材质映射到地形。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层切换节点">地形层切换节点</h3>
<p>特定层未对地形区域贡献时，利用 <strong>LandscapeLayerSwitch</strong> 节点可排除部分材质运算。特定层权重为0时，利用此操作可通过移除不必要的计算优化材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerSwitch Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>使用预览</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如果选中，则使用预览。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong> LayerUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域使用节点属性中指定的层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>LayerNotUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域未使用层，且其权重为0。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将基于层对地形的特定区域是否贡献，选择使用 <strong>LayerUsed</strong> 或 <strong>LayerNotUsed</strong>。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层权重节点">地形层权重节点</h3>
<p>利用 <strong>LandscapeLayerWeight</strong> 表达式可根据地形材质中获取的关联层权重混合所有材质网络。该层的权重用作混合两个输入网络的Alpha值。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerWeight Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>材质编辑器中用于预览的权重。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>恒定底色</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>可在此指定地形需要拥有的底色</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>基础</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要与该层混合的网络。此通常为前一层混合的结果，但如是首个层，则可以为空。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要混合起来创建该层的网络。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>根据所涉层的层权重，输出 <strong>Base</strong> 和 <strong>Layer</strong> 输入间的混合结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形可视性遮罩节点">地形可视性遮罩节点</h3>
<p><strong>LandscapeVisibilityMask</strong> 节点移除地形的可见部分，以便在地形中创建洞进行如洞穴创建等操作。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg">
		<img class="  lazyload" alt="LandscapeVisibilityMask Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出可视性遮罩属性。</p>
			</td>
	
</tr></tbody>
</table><div class="note">
	<p>确保输出连接到材质的 <strong>不透明蒙版</strong> 插槽，且将 <strong>材质混合模式</strong> 设为 <strong>遮罩（Masked）</strong>。否则节点无法正常工作。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>
</p>
</div><h2 id="地形层混合类型">地形层混合类型</h2>
<p>地形 <strong>层混合</strong> 材质节点有三个不同混合模式可供选择。尝试得到不同结果时，使用不同 <strong>层混合</strong> 类型。
</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>混合类型 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>功能 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB权重混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如层来自外部程序，如World Machine，或需要独立绘制各层，而无需担心层顺序，即可使用此类型。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB Alpha混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如要绘制细节并需要已定义的层顺序，则使用此类型。例如，在岩石和草地上绘制雪层会遮住，但擦除后会显示下放岩石和草地。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB高度混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此与LBWeightBlend相同，但会基于高度图将细节添加至层间的过渡。利用此项，可进行如岩石间缝隙中的层过渡点出现泥土等操作，而不仅仅是岩石和泥土平滑混合。</p>
			</td>
	
</tr></tbody>
</table><p>此为 <strong>LB高度混合</strong> 的操作范例。正如所见，岩石缝隙间的层过渡点出现了泥土。如此便可在层交回处实现自然过渡。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg">
		<img class="  lazyload" alt="LB_HeightBlend.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg" />
</picture>

</p><h2 id="地形层混合技术信息">地形层混合技术信息</h2>
<p>在后台，此类层节点的行为与静态切换参数节点类似，利用其可切换使用的材质部分。地形的各组件均包含主地形材质中创建的的 <strong>MaterialInstanceConstant</strong>，仅应用到此组件。如特定地形组件上未使用特定层，则连接到层的节点子树将被废弃。此项会降低总体材质复杂度，使应用于地形的材质包含任意数量的纹理取样，前提是单个组件上使用的样本量不超过着色器模型规格设置的最大数量（SM 3.0为16个）。 
</p><p>这意味可设置主材质包含地形任意位置上使用的所有纹理或网络。最终组成极度复杂的网络集合，同时在硬件支持的参数范围内，继续将最终材质应用到地形组件。
</p><div class="note">
	<p>任何材质表达式网络都可连接到 <strong>Layer</strong> 输入，取代简单 <strong>TextureSample</strong>。如此便可得到更加复杂的效果，例如，根据所层被查看的距离，从细节纹理过渡到较大的宏纹理。</p>
</div><h2 id="曲面细分和置换贴图">曲面细分和置换贴图</h2>
<p>材质的 <strong>曲面细分乘数</strong> 和 <strong>场景置换贴图</strong> 通道可与地形地貌结合使用，以在地形靠近相机时提供更多细节和变形。其工作方式与其他标准材质相同，层混合可与之结合使用，与 <strong>底色</strong>、<strong>法线</strong> 或其他通道相同。地形也仅在最高细节级别（LOD）上渲染硬件曲面细分，其随着地形接近第二个LOD而逐渐淡出。后续LOD将不再启用曲面细分，在地形地貌上启用曲面细分替换时极大提高性能。
</p><div class="note">
	<p>此类功能仅限启用DirectX 11时使用。因此，其应用于作二次润色效果，除非特别针对的是DirectX 11硬件。可查看<a id="content_link" href="../../../../Resources/ContentExamples/MaterialNodes/1_12/index.html" ><span>曲面细分乘数</span></a>页面，阅读在项目中启用和使用曲面细分的更多相关信息。</p>
</div><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg">
		<img class="  lazyload" alt="Landscape_HW_Tess.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg" />
</picture>

</p><div class="caption">
	<p>在上述可视化中，渲染最高LOD（白色）时启用了曲面细分，而渲染其他LOD（彩色）时未启用曲面细分。</p>
</div><h2 id="移动地形材质">移动地形材质</h2>
<p>移动地形不再仅限于三个地形层。虽然三个为最优方案，但只要纹理取样器数量足够，就可支持任意数量的层。地形层分配现使用<a id="content_link"filter-data="tag_materials" href="../Utility/index.html" ><span>特征等级切换材质节点</span></a>，单个PC或主机地形材质也可具有移动版本。下图展示PC和主机版《堡垒之夜：大逃杀》中使用的地形在移动设备上的外观。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg">
		<img class="  lazyload" alt="MobileLandscape_FeatureLevel.png" title="MobileLandscape372029427FeatureLevel.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg" />
</picture>

</p><h2 id="使用层混合">使用层混合</h2>
<p>将多个纹理和材质网络混合为可绘制地形层的功能，是纹理化地形地貌的基础。为了将层混合起来，可使用多个 <strong>LandscapeLayerWeight</strong> 节点或一个到两个 <strong>LandscapeLayerBlend</strong> 节点，具体取决于是否使用法线贴图。
</p><h3 id="使用地形层权重节点">使用地形层权重节点</h3>
<p>设置和使用 <strong>LandscapeLayerWeight</strong> 节点的过程非常简单，具体见下文所述。
</p><div class="note">
	<p>所有层命名必须唯一，因此建议使用可表明层所含内容的描述性名称来命名层。此命名这可协助记忆层中的内容，以便更加快速地搜索层。 </p>
</div><ol ><li class="Default"><p>在 <strong>材质编辑器</strong> 中，向材质图表添加 <strong>LandscapeLayerWeight</strong> 节点。其默认的 <strong>参数命名</strong> 为"None"。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.png" ><span><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg">
		<img class="  lazyload" alt="Landscape_Layer_Weight_Base.png" width="700" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg" />
</picture>
</span></a></span></p>
</div></li><li class="Default"><p>在 <strong>细节</strong> 面板中，将 <strong>参数命名</strong> 改为层的描述性命名，如"Rock"。在输入 <strong>参数命名</strong> 后，节点上将自行更新命名。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg" />
</picture>

</p></li><li class="Default"><p>添加额外 <strong>LandscapeLayerWeight</strong> 节点，直到所需材质中的所有层都拥有此类节点为止。该范例中仅使用两个 <strong>LandscapeLayerWeight</strong> 节点。
</p></li><li class="Default"><p>添加 <strong>纹理取样</strong> 或其他材质网络表达式，并将其与 <strong>LandscapeLayerWeight</strong> 节点连接。
</p></li><li class="Default"><p>添加 <strong>LandscapeLayerCoords</strong> 节点，任意设置其UV标题，然后将其与 <strong>纹理取样</strong> 节点连接。
</p></li><li class="Default"><p>从各 <strong>层</strong> 节点的输出引脚连出引线，连接到下一层节点的 <strong>基本</strong> 引脚，使用引线将两者连接（不连接首个层节点的 <strong>基本</strong> 引脚）。
</p></li><li class="Default"><p>从最终 <strong>层</strong> 节点的输出引脚连出引线，连接到材质 <strong>基本</strong> 节点的 <strong>底色</strong> 输入。
</p></li></ol><p>完成后应可看到类似以下使用 <strong>LandscapeLayerWeight</strong> 节点的范例：
</p><p>  <picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg">
		<img class="  lazyload" alt="Landscape Layer Nodes" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg" />
</picture>

</p><div class="note">
	<p>可通过更改 <strong>LandscapeLayerWeight</strong> 节点的 <strong>预览权重</strong> 属性，预览材质上不同权重的效果。</p>
</div><h3 id="使用地形层混合节点">使用地形层混合节点</h3>
<p>作为使用 <strong>LandscapeLayerWeight</strong> 节点手动混合层的替代方法，<strong>LandscapeLayerBlend</strong> 节点使用Alpha混合或带有基于高度偏移的Alpha混合来混合多个层。利用基于高度的偏移，层可根据高度图输入与其他层混合。
</p><ol ><li class="Default"><p>在材质编辑器中，添加 <strong>LandscapeLayerBlend</strong> 节点。
</p></li><li class="Default"><p>在 <strong>细节</strong> 面板中的 <strong>层</strong> 旁，点击加号图标（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg" />
</picture>
）添加层。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p></li><li class="Default"><p>展开层查看其属性。
</p></li><li class="Default"><p>将 <strong>层命名</strong> 改为层的描述性命名，如"Snow"。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg" />
</picture>

</p></li><li class="Default"><p>决定层是Alpha混合或高度混合，并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>按需添加地形材质的其他层数。重命名并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>将LandscapeLayerBlend节点输出连接到材质基本节点的 <strong>底色</strong> 输入。
</p></li><li class="Default"><p>添加纹理取样节点，将其主输出连接到 <strong>LandscapeLayerBlend</strong> 节点的 <strong>层</strong> 输入。或创建更复杂的材质网络，将其连接到地形层混合 <strong>层</strong> 输入。对于混合高度层，将纹理取样的Alpha输出连接到LandscapeLayerBlend的 <strong>高度</strong> 输入。
</p></li></ol><p>完成后纹理材质网络将类似下图：
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg">
		<img class="  lazyload" alt="Landscape Blend Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg" />
</picture>

</p><div class="note">
	<p>修改 <strong>LandscapeLayerBlend</strong> 节点的 <strong>预览权重</strong> 属性，可预览材质上不同权重的效果。</p>
</div><h2 id="创建地形洞材质">创建地形洞材质</h2>
<p>在<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/ManageMode/index.html" ><span>管理模式</span></a>下可在地形上创建洞，但仅能通过删除整个地形组件进行操作。为避免此类操作，可使用地形洞材质来遮罩地形上特定位置的可视性和碰撞。如要在山脉侧面创建进入洞穴的入口，此操作将非常有用。
</p><div class="tip">
	<p>可使用地形材质和地形洞材质的相同材质，但注意：对比不使用不透明蒙版的材质，使用此类蒙版的材质对性能影响更大。因此可选择创建单独的地形洞材质。</p>
</div><ol ><li class="Default"><p>打开材质编辑器，在 <strong>细节</strong> 面板中，将 <strong>混合模式</strong> 设为 <strong>遮罩</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>

</p></li><li class="Default"><p>接着将 <strong>LandscapeVisibilityMask</strong> 节点添加到材质图表，并将其输出连接到 <strong>不透明蒙版</strong> 输入。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskNode.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg" />
</picture>

</p></li><li class="Default"><p>编译材质后，将其指定到地形以便使用。该操作可在 <strong>细节</strong> 面板的 <strong>地形洞材质（Landscape Hole Material）</strong> 部分中完成。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li><li class="Default"><p>现正常设置地形材质的其余部分，完成后应可得到类似下图的结果。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskSetup_In_Material.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg" />
</picture>

</p></li></ol><p>现在能够遮罩和取消遮罩地形可视性，如以下视频所示。
</p><!--
videoid:paramliteral
width:paramliteral
height:paramliteral
units:paramliteral
type:paramliteral
start:paramliteral
service:paramliteral
-->
<style type="text/css">
#player_1_szp40pap_90
{
	margin: 0px;
	width: 75%;
	display: inline-block;
	position: relative;
	overflow: hidden;
}
#player_1_szp40pap_90:after
{
	content: "";
	padding-top: 56.25%;
	display: block;
}
</style> 
<div id="player_1_szp40pap_90"> 
	<div id="playerContainer_1_szp40pap_90" style="position:absolute;top:0;left: 0;right: 0;bottom:0;border:solid thin black;">
		<iframe width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen="" src="https://dev.epicgames.com/community/api/cms/videos/1_szp40pap/embed.html"></iframe>
	</div>
</div>
<div class="note">
	<p>欲了解使用绘制工具创建地形洞的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><h2 id="向地形指定材质">向地形指定材质</h2>
<p>创建地形的材质后，需将材质指定到关卡中的地形Actor，以使用该材质。 
</p><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形材质。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>在关卡编辑器的地形 <strong>细节</strong> 面板中，点击 <strong>地形</strong> 部分中 <strong>地形材质</strong> 旁的"指定"箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg">
		<img class="  lazyload" alt="Assigned Material" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg" />
</picture>

</p></li></ol><h3 id="向地形指定地形洞材质">向地形指定地形洞材质</h3>
<p>可指定不同材质为 <strong>地形洞材质</strong>，其为拥有特定不透明度设置的材质。 
</p><div class="note">
	<p>参阅地形洞材质的相关章节，了解洞材质的常规信息。欲了解不透明遮罩的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形洞材质并选中。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>导航到关卡编辑器 <strong>细节</strong> > <strong>地形</strong> > <strong>地形洞材质</strong>。选择箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li></ol>
</div>
<h2 id="landscapevisibilitymask">LandscapeVisibilityMask</h2>
<a name="1972104683" ></a><div class="include_wrapper" data-path="BuildingWorlds/Landscape/Materials/">
<p>尽管任意 <strong>材质</strong> 都可用于 <strong>地形</strong> Actor，但虚幻引擎4（UE4）中的材质系统同时提供了一些特定的地形材质节点，可帮助优化地形纹理。以下文档中将介绍此类节点的功能，以及如何在地形材质中使用它们。
</p><div class="note">
	<p>可在[材质编辑器](RenderingAndGraphics/Materials/Editor中中，使用修改其他材质的方式修改材质以用于地形。</p>
</div><h2 id="层权重和排序">层权重和排序</h2>
<p>地形使用权重混合，而非Alpha混合，因此所有层在任何位置的混合系数最多累积到1.0。Alpha混合与顺序无关，可随时绘制任意层，因此十分有用。此外，在使用Alpha混合时，Alpha层的权重会增加，而其他现有层权重会减小。 
</p><p>但是，使用Alpha混合的一个弊端是层绘制达100%时，所有其他层的权重值将变为0%。此情况在使用<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#绘制" ><span>绘制</span></a>工具移除已100%的层时十分明显。由于其他层为0%，工具无法取代要移除的100%层，因此层好似并无变化。 
</p><h2 id="地形特定材质节点">地形特定材质节点</h2>
<p>在材质编辑器中，可发现六个可用于地形系统的特殊节点。可在 <strong>地形</strong> 分类下的 <strong>控制板</strong> 菜单中找到所有这些节点。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg">
		<img class="  lazyload" alt="Material Editor Context Menu" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Mat_Context.jpg" />
</picture>

</p><h3 id="地形层混合节点">地形层混合节点</h3>
<p>利用 <strong>LandscapeLayerBlend</strong> 节点可混合多个纹理或材质网络，以便将其用作地形层。LandscapeLayerBlend使用阵列存储关于地形层的信息。要向该阵列添加层，选择加号图标。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p><p>将多个层添加到 <strong>LandscapeLayerBlend</strong> 节点时，层命名会被填入LandscapeLayerBlend节点。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerBlend Mode" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>节点包含的层列表。可单击加号（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_Landscape_PlusSign.jpg" />
</picture>
）添加层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>额外层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这为额外层折叠时的外观。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>层的唯一命名。<strong>层名称</strong> 对应地形工具窗口中<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/PaintMode/index.html#图层" ><span>绘制模式</span></a>使用的层命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>混合类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>为 <strong>LB_AlphaBlend</strong> 、 <strong>LB_HeightBlend</strong> 或 <strong>LB_WeightBlend</strong> 。参阅本页上的"地形层混合类型"。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>这是在材质编辑器中预览混合的层权重值。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量层输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作颜色的数字值。此项主要在发生问题时用于层调试。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>常量高度输入</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如不想使用纹理，此可提供用作高度的数字值。</p>
			</td>
	
</tr></tbody>
</table><p>下表详细说明了 <strong>层混合</strong> 节点的输入和输出。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg">
		<img class="  lazyload" alt="layer_blend_node.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_blend_node.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>项目 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层 *层名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>各层添加层的输入进行混合。此输入仅在 <strong>细节</strong> 面板中添加并命名层后可用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>高度 *层命名</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此为提供高度图进行混合的位置。该输入仅在 <strong>混合类型</strong> 属性设为 <strong>LB_HeightBlend</strong> 的层上可见。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>混合起来的层结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="混合层">混合层</h3>
<p>使用层混合模式的特定组合时，地形上不同层交叉的位置将出现大量黑斑。将LB_HeightBlend模式用于多地形层时，此问题尤其常见。LB_HeightBlend的工作原理是使用指定权重值调制层的混合系数或权重。如区域上绘制有多个层，且均被设为LB_HeightBlend，则可能特定区域中绘制的所有层将同时拥有0高度值，因此各层的理想混合系数将变为0。 
</p><p>由于无隐式或显式排序，且无层对该区域有贡献，因此结果会产生黑斑。由于混合法线贴图会产生法线值(0,0,0)，且该值无效，会导致照明渲染问题，因此混合法线贴图时情况会更糟。针对此问题的解决方案是对其中一个层使用 <strong>LB_AlphaBlend</strong>，如以下范例所示。
</p><p>左图中所有层均为LB_HeightBlend，会导致部分区域变黑。在右图中，红色"1"层已改为使用LB_AlphaBlend，从而解决该问题。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg">
		<img class="  lazyload" alt="LB_HeightBlend Problem" width="800" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/HeightBlendProblem.jpg" />
</picture>

</p><p>以下是混合起来的所有层的 <strong>Landscape Layer Blend</strong> 节点属性范例。务必注意 <strong>土壤</strong> 层将其混合模式设为LB_AlphaBlend，而其他层则设为LB_HeightBlend。此设置旨在避免发生上文中的问题（层交汇处出现黑斑）。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg">
		<img class="  lazyload" alt="Layer Blend Properties" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LayerBlendProperties.jpg" />
</picture>

</p><p>如需删除层，点击层元素编号右侧的下拉箭头打开菜单，并选择 <strong>删除</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg">
		<img class="  lazyload" alt="Delete Layer" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_DeleteBlendLayer2.jpg" />
</picture>

</p><h3 id="地形层坐标节点">地形层坐标节点</h3>
<p><strong>LandscapeLayerCoords</strong> 节点生成UV坐标，可用于将材质网络映射到地形地貌。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerCoords Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_coord_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射类型</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将材质（或网络）映射到地形时指定要所用朝向的 <strong>ELandscapeCoordMappingType</strong>。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>自定义UVType</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要在地形上使用的映射位置。<strong>CustomUVType</strong> 输出UV坐标以基于给定属性值将材质映射到地形。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射缩放</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将等分缩放应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射旋转</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将旋转应用到UV坐标（以度计）。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[U]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[U]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>映射平移[V]</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>以[V]方向将偏移应用到UV坐标。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>7</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出UV坐标，根据给定属性值将材质映射到地形。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层切换节点">地形层切换节点</h3>
<p>特定层未对地形区域贡献时，利用 <strong>LandscapeLayerSwitch</strong> 节点可排除部分材质运算。特定层权重为0时，利用此操作可通过移除不必要的计算优化材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerSwitch Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_switch_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>使用预览</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如果选中，则使用预览。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong> LayerUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域使用节点属性中指定的层。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>LayerNotUsed</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>地形当前区域未使用层，且其权重为0。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>将基于层对地形的特定区域是否贡献，选择使用 <strong>LayerUsed</strong> 或 <strong>LayerNotUsed</strong>。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形层权重节点">地形层权重节点</h3>
<p>利用 <strong>LandscapeLayerWeight</strong> 表达式可根据地形材质中获取的关联层权重混合所有材质网络。该层的权重用作混合两个输入网络的Alpha值。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg">
		<img class="  lazyload" alt="LandscapeLayerWeight Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>参数名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>给定参数的唯一命名。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>2</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>预览权重</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>材质编辑器中用于预览的权重。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>3</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>恒定底色</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>可在此指定地形需要拥有的底色</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>4</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>基础</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要与该层混合的网络。此通常为前一层混合的结果，但如是首个层，则可以为空。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>5</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>层</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>要混合起来创建该层的网络。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p>6</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>根据所涉层的层权重，输出 <strong>Base</strong> 和 <strong>Layer</strong> 输入间的混合结果。</p>
			</td>
	
</tr></tbody>
</table><h3 id="地形可视性遮罩节点">地形可视性遮罩节点</h3>
<p><strong>LandscapeVisibilityMask</strong> 节点移除地形的可见部分，以便在地形中创建洞进行如洞穴创建等操作。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg">
		<img class="  lazyload" alt="LandscapeVisibilityMask Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_num.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>编号 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>1</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>未标记输出</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>输出可视性遮罩属性。</p>
			</td>
	
</tr></tbody>
</table><div class="note">
	<p>确保输出连接到材质的 <strong>不透明蒙版</strong> 插槽，且将 <strong>材质混合模式</strong> 设为 <strong>遮罩（Masked）</strong>。否则节点无法正常工作。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>
</p>
</div><h2 id="地形层混合类型">地形层混合类型</h2>
<p>地形 <strong>层混合</strong> 材质节点有三个不同混合模式可供选择。尝试得到不同结果时，使用不同 <strong>层混合</strong> 类型。
</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>混合类型 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>功能 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB权重混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如层来自外部程序，如World Machine，或需要独立绘制各层，而无需担心层顺序，即可使用此类型。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB Alpha混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>如要绘制细节并需要已定义的层顺序，则使用此类型。例如，在岩石和草地上绘制雪层会遮住，但擦除后会显示下放岩石和草地。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>LB高度混合</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此与LBWeightBlend相同，但会基于高度图将细节添加至层间的过渡。利用此项，可进行如岩石间缝隙中的层过渡点出现泥土等操作，而不仅仅是岩石和泥土平滑混合。</p>
			</td>
	
</tr></tbody>
</table><p>此为 <strong>LB高度混合</strong> 的操作范例。正如所见，岩石缝隙间的层过渡点出现了泥土。如此便可在层交回处实现自然过渡。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg">
		<img class="  lazyload" alt="LB_HeightBlend.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/LB_HeightBlend.jpg" />
</picture>

</p><h2 id="地形层混合技术信息">地形层混合技术信息</h2>
<p>在后台，此类层节点的行为与静态切换参数节点类似，利用其可切换使用的材质部分。地形的各组件均包含主地形材质中创建的的 <strong>MaterialInstanceConstant</strong>，仅应用到此组件。如特定地形组件上未使用特定层，则连接到层的节点子树将被废弃。此项会降低总体材质复杂度，使应用于地形的材质包含任意数量的纹理取样，前提是单个组件上使用的样本量不超过着色器模型规格设置的最大数量（SM 3.0为16个）。 
</p><p>这意味可设置主材质包含地形任意位置上使用的所有纹理或网络。最终组成极度复杂的网络集合，同时在硬件支持的参数范围内，继续将最终材质应用到地形组件。
</p><div class="note">
	<p>任何材质表达式网络都可连接到 <strong>Layer</strong> 输入，取代简单 <strong>TextureSample</strong>。如此便可得到更加复杂的效果，例如，根据所层被查看的距离，从细节纹理过渡到较大的宏纹理。</p>
</div><h2 id="曲面细分和置换贴图">曲面细分和置换贴图</h2>
<p>材质的 <strong>曲面细分乘数</strong> 和 <strong>场景置换贴图</strong> 通道可与地形地貌结合使用，以在地形靠近相机时提供更多细节和变形。其工作方式与其他标准材质相同，层混合可与之结合使用，与 <strong>底色</strong>、<strong>法线</strong> 或其他通道相同。地形也仅在最高细节级别（LOD）上渲染硬件曲面细分，其随着地形接近第二个LOD而逐渐淡出。后续LOD将不再启用曲面细分，在地形地貌上启用曲面细分替换时极大提高性能。
</p><div class="note">
	<p>此类功能仅限启用DirectX 11时使用。因此，其应用于作二次润色效果，除非特别针对的是DirectX 11硬件。可查看<a id="content_link" href="../../../../Resources/ContentExamples/MaterialNodes/1_12/index.html" ><span>曲面细分乘数</span></a>页面，阅读在项目中启用和使用曲面细分的更多相关信息。</p>
</div><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg">
		<img class="  lazyload" alt="Landscape_HW_Tess.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_HW_Tess.jpg" />
</picture>

</p><div class="caption">
	<p>在上述可视化中，渲染最高LOD（白色）时启用了曲面细分，而渲染其他LOD（彩色）时未启用曲面细分。</p>
</div><h2 id="移动地形材质">移动地形材质</h2>
<p>移动地形不再仅限于三个地形层。虽然三个为最优方案，但只要纹理取样器数量足够，就可支持任意数量的层。地形层分配现使用<a id="content_link"filter-data="tag_materials" href="../Utility/index.html" ><span>特征等级切换材质节点</span></a>，单个PC或主机地形材质也可具有移动版本。下图展示PC和主机版《堡垒之夜：大逃杀》中使用的地形在移动设备上的外观。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg">
		<img class="  lazyload" alt="MobileLandscape_FeatureLevel.png" title="MobileLandscape372029427FeatureLevel.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/MobileLandscape_FeatureLevel.jpg" />
</picture>

</p><h2 id="使用层混合">使用层混合</h2>
<p>将多个纹理和材质网络混合为可绘制地形层的功能，是纹理化地形地貌的基础。为了将层混合起来，可使用多个 <strong>LandscapeLayerWeight</strong> 节点或一个到两个 <strong>LandscapeLayerBlend</strong> 节点，具体取决于是否使用法线贴图。
</p><h3 id="使用地形层权重节点">使用地形层权重节点</h3>
<p>设置和使用 <strong>LandscapeLayerWeight</strong> 节点的过程非常简单，具体见下文所述。
</p><div class="note">
	<p>所有层命名必须唯一，因此建议使用可表明层所含内容的描述性名称来命名层。此命名这可协助记忆层中的内容，以便更加快速地搜索层。 </p>
</div><ol ><li class="Default"><p>在 <strong>材质编辑器</strong> 中，向材质图表添加 <strong>LandscapeLayerWeight</strong> 节点。其默认的 <strong>参数命名</strong> 为"None"。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.png" ><span><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg">
		<img class="  lazyload" alt="Landscape_Layer_Weight_Base.png" width="700" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_Layer_Weight_Base.jpg" />
</picture>
</span></a></span></p>
</div></li><li class="Default"><p>在 <strong>细节</strong> 面板中，将 <strong>参数命名</strong> 改为层的描述性命名，如"Rock"。在输入 <strong>参数命名</strong> 后，节点上将自行更新命名。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_weight_rock.jpg" />
</picture>

</p></li><li class="Default"><p>添加额外 <strong>LandscapeLayerWeight</strong> 节点，直到所需材质中的所有层都拥有此类节点为止。该范例中仅使用两个 <strong>LandscapeLayerWeight</strong> 节点。
</p></li><li class="Default"><p>添加 <strong>纹理取样</strong> 或其他材质网络表达式，并将其与 <strong>LandscapeLayerWeight</strong> 节点连接。
</p></li><li class="Default"><p>添加 <strong>LandscapeLayerCoords</strong> 节点，任意设置其UV标题，然后将其与 <strong>纹理取样</strong> 节点连接。
</p></li><li class="Default"><p>从各 <strong>层</strong> 节点的输出引脚连出引线，连接到下一层节点的 <strong>基本</strong> 引脚，使用引线将两者连接（不连接首个层节点的 <strong>基本</strong> 引脚）。
</p></li><li class="Default"><p>从最终 <strong>层</strong> 节点的输出引脚连出引线，连接到材质 <strong>基本</strong> 节点的 <strong>底色</strong> 输入。
</p></li></ol><p>完成后应可看到类似以下使用 <strong>LandscapeLayerWeight</strong> 节点的范例：
</p><p>  <picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg">
		<img class="  lazyload" alt="Landscape Layer Nodes" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialLayers.jpg" />
</picture>

</p><div class="note">
	<p>可通过更改 <strong>LandscapeLayerWeight</strong> 节点的 <strong>预览权重</strong> 属性，预览材质上不同权重的效果。</p>
</div><h3 id="使用地形层混合节点">使用地形层混合节点</h3>
<p>作为使用 <strong>LandscapeLayerWeight</strong> 节点手动混合层的替代方法，<strong>LandscapeLayerBlend</strong> 节点使用Alpha混合或带有基于高度偏移的Alpha混合来混合多个层。利用基于高度的偏移，层可根据高度图输入与其他层混合。
</p><ol ><li class="Default"><p>在材质编辑器中，添加 <strong>LandscapeLayerBlend</strong> 节点。
</p></li><li class="Default"><p>在 <strong>细节</strong> 面板中的 <strong>层</strong> 旁，点击加号图标（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg">
		<img class="  lazyload" alt="Plus Sign" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_PlusSymbol_12x.jpg" />
</picture>
）添加层。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg">
		<img class="  lazyload" alt="Layer_Blend_arrayelements.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_arrayelements.jpg" />
</picture>

</p></li><li class="Default"><p>展开层查看其属性。
</p></li><li class="Default"><p>将 <strong>层命名</strong> 改为层的描述性命名，如"Snow"。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg">
		<img class="  lazyload" alt="Layer Name" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Layer_Blend_snow.jpg" />
</picture>

</p></li><li class="Default"><p>决定层是Alpha混合或高度混合，并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>按需添加地形材质的其他层数。重命名并设置相应的 <strong>混合类型</strong>。
</p></li><li class="Default"><p>将LandscapeLayerBlend节点输出连接到材质基本节点的 <strong>底色</strong> 输入。
</p></li><li class="Default"><p>添加纹理取样节点，将其主输出连接到 <strong>LandscapeLayerBlend</strong> 节点的 <strong>层</strong> 输入。或创建更复杂的材质网络，将其连接到地形层混合 <strong>层</strong> 输入。对于混合高度层，将纹理取样的Alpha输出连接到LandscapeLayerBlend的 <strong>高度</strong> 输入。
</p></li></ol><p>完成后纹理材质网络将类似下图：
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg">
		<img class="  lazyload" alt="Landscape Blend Node" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_MaterialBlend.jpg" />
</picture>

</p><div class="note">
	<p>修改 <strong>LandscapeLayerBlend</strong> 节点的 <strong>预览权重</strong> 属性，可预览材质上不同权重的效果。</p>
</div><h2 id="创建地形洞材质">创建地形洞材质</h2>
<p>在<a id="content_link" href="../../../../BuildingWorlds/Landscape/Editing/ManageMode/index.html" ><span>管理模式</span></a>下可在地形上创建洞，但仅能通过删除整个地形组件进行操作。为避免此类操作，可使用地形洞材质来遮罩地形上特定位置的可视性和碰撞。如要在山脉侧面创建进入洞穴的入口，此操作将非常有用。
</p><div class="tip">
	<p>可使用地形材质和地形洞材质的相同材质，但注意：对比不使用不透明蒙版的材质，使用此类蒙版的材质对性能影响更大。因此可选择创建单独的地形洞材质。</p>
</div><ol ><li class="Default"><p>打开材质编辑器，在 <strong>细节</strong> 面板中，将 <strong>混合模式</strong> 设为 <strong>遮罩</strong>。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg">
		<img class="  lazyload" alt="layer_visibility_mask_opacitymask.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/layer_visibility_mask_opacitymask.jpg" />
</picture>

</p></li><li class="Default"><p>接着将 <strong>LandscapeVisibilityMask</strong> 节点添加到材质图表，并将其输出连接到 <strong>不透明蒙版</strong> 输入。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskNode.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskNode.jpg" />
</picture>

</p></li><li class="Default"><p>编译材质后，将其指定到地形以便使用。该操作可在 <strong>细节</strong> 面板的 <strong>地形洞材质（Landscape Hole Material）</strong> 部分中完成。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li><li class="Default"><p>现正常设置地形材质的其余部分，完成后应可得到类似下图的结果。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg">
		<img class="  lazyload" alt="Landscape_VisibilityMaskSetup_In_Material.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/Landscape_VisibilityMaskSetup_In_Material.jpg" />
</picture>

</p></li></ol><p>现在能够遮罩和取消遮罩地形可视性，如以下视频所示。
</p><!--
videoid:paramliteral
width:paramliteral
height:paramliteral
units:paramliteral
type:paramliteral
start:paramliteral
service:paramliteral
-->
<style type="text/css">
#player_1_szp40pap_90
{
	margin: 0px;
	width: 75%;
	display: inline-block;
	position: relative;
	overflow: hidden;
}
#player_1_szp40pap_90:after
{
	content: "";
	padding-top: 56.25%;
	display: block;
}
</style> 
<div id="player_1_szp40pap_90"> 
	<div id="playerContainer_1_szp40pap_90" style="position:absolute;top:0;left: 0;right: 0;bottom:0;border:solid thin black;">
		<iframe width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen="" src="https://dev.epicgames.com/community/api/cms/videos/1_szp40pap/embed.html"></iframe>
	</div>
</div>
<div class="note">
	<p>欲了解使用绘制工具创建地形洞的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><h2 id="向地形指定材质">向地形指定材质</h2>
<p>创建地形的材质后，需将材质指定到关卡中的地形Actor，以使用该材质。 
</p><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形材质。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>在关卡编辑器的地形 <strong>细节</strong> 面板中，点击 <strong>地形</strong> 部分中 <strong>地形材质</strong> 旁的"指定"箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg">
		<img class="  lazyload" alt="Assigned Material" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial2.jpg" />
</picture>

</p></li></ol><h3 id="向地形指定地形洞材质">向地形指定地形洞材质</h3>
<p>可指定不同材质为 <strong>地形洞材质</strong>，其为拥有特定不透明度设置的材质。 
</p><div class="note">
	<p>参阅地形洞材质的相关章节，了解洞材质的常规信息。欲了解不透明遮罩的相关信息，参阅<a id="content_link"filter-data="tag_landscape" href="../../../../BuildingWorlds/Landscape/Editing/SculptMode/index.html" ><span>使用不透明遮罩创建洞</span></a>。</p>
</div><ol ><li class="Default"><p>在 <strong>内容浏览器</strong> 中找到要使用的地形洞材质并选中。
</p></li><li class="Default"><p>在视口或在 <strong>世界大纲视图</strong> 中选择地形。
</p></li><li class="Default"><p>导航到关卡编辑器 <strong>细节</strong> > <strong>地形</strong> > <strong>地形洞材质</strong>。选择箭头（<picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg">
		<img class="  lazyload" alt="Assign arrow" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/icon_assign_left_16x.jpg" />
</picture>
）指定选中材质。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg">
		<img class="  lazyload" alt="landscape_holematerial1.png" data-src="../../../../../Images/BuildingWorlds/Landscape/Materials/landscape_holematerial1.jpg" />
</picture>

</p></li></ol>
</div>

																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="pageTags">
				<div class="title">标签</div>
					<div>
					<div class="keyword_tag_filter"><a id="tag_link" href="../../../../SiteIndex/index.html?tags=Materials">Materials</a></div>
					</div>
				</div>
								<div id="recommendations"></div>			</div>
						  									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/RenderingAndGraphics/Materials/ExpressionReference/Landscape/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 12:17:22 GMT -->
</html>
