<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 10:59:07 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/" />');
				var udnCSS = '../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>自动曝光（眼部适应） | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../Include/Javascript/informational.js" type="text/javascript"></script>
	    <script  src="../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/" hreflang="ko" />

	<meta name="redirect" content="Engine/Rendering/PostProcessEffects/AutomaticExposure" />
<meta name="intsourcechangelist" content="14237003" />
<meta name="availability" content="Public" />
<meta name="title" content="自动曝光（眼部适应）" />
<meta name="description" content="自动调整场景曝光，模拟亮度变化时的眼部适应" />
<meta name="type" content="overview" />
<meta name="version" content="4.25" />
<meta name="parent" content="RenderingAndGraphics/PostProcessEffects" />
<meta name="order" content="1" />
<meta name="keywords" content="Post Process" />
<meta name="related" content="TestingAndOptimization/DevTools/PixelInspector" />
<meta name="related" content="BuildingWorlds/LightingAndShadows/PhysicalLightUnits" />
<meta name="crumbs" content="%ROOT%,RenderingAndGraphics,RenderingAndGraphics/PostProcessEffects" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="自动曝光（眼部适应）" />
	<meta property="og:description" content="自动调整场景曝光，模拟亮度变化时的眼部适应" />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">

			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">

	<span class="separator">></span> <a id="parent_link" href="../../index.html">设计视觉、渲染和图形效果</a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">后期处理特效</a>

<span class="separator">></span> <span id="page">自动曝光（眼部适应）</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">

			 <nav id="navPanel">
				<div class="contents-table-el"><!----><!----><!----><!----><a class="contents-table-link is-parent" href="/zh-CN/Basics/index.html">理解基础概念</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WorkingWithContent/index.html">管理内容</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/BuildingWorlds/index.html">构建虚拟世界</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/RenderingAndGraphics/index.html">设计视觉、渲染和图形效果</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProgrammingAndScripting/index.html">编程和脚本编写</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/InteractiveExperiences/index.html">创建交互体验</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/AnimatingObjects/index.html">为角色和对象添加动画</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/WorkingWithMedia/index.html">使用媒体</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/ProductionPipelines/index.html">建立你的开发流程</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/TestingAndOptimization/index.html">测试并优化你的内容</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/SharingAndReleasing/index.html">项目分享及发布</a><!----></div>
				<div class="contents-table-el"> <a class="contents-table-link is-parent" href="/zh-CN/Resources/index.html">示例与教学</a><!----></div>
				<div class="contents-table-el"><a class="contents-table-link is-parent" href="/zh-CN/WhatsNew/index.html">新内容</a></div>
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">自动曝光（眼部适应）</h1>
							</div>	
							<h2 >自动调整场景曝光，模拟亮度变化时的眼部适应</h2>
							<div id="access">
								<div class="accessContainer">
																																			</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>																		<div id="seeAlso">
	<div style="position:relative;">
		<div id="title">参见</div>
		<div id="pageList">
			<ul>
								<li>
					<p>
						<a id="related_link" href="../../../TestingAndOptimization/DevTools/PixelInspector/index.html" title="像素检查器可以显示给定像素的GBuffer的各部分情况。">像素检查器</a>
					</p>
				</li>
								<li>
					<p>
						<a id="related_link" href="../../../BuildingWorlds/LightingAndShadows/PhysicalLightUnits/index.html" title="说明如何使用基于物理的光照单位。">物理光照单位</a>
					</p>
				</li>
							</ul>
		</div>
	</div>
</div>
																														<div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#曝光测光模式">曝光测光模式</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#直方图和基本算法">直方图和基本算法</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#手动算法">手动算法</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#重要概念与功能">重要概念与功能</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#曝光补偿曲线">曝光补偿曲线</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#曝光测光遮罩">曝光测光遮罩</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#曝光更改速度和移动">曝光更改速度和移动</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#扩展ev100的默认亮度范围">扩展EV100的默认亮度范围</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#预曝光">预曝光</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#移动设备用法">移动设备用法</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#游戏设置">游戏设置</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#自动曝光直方图设置">自动曝光直方图设置</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#基本自动曝光设置">基本自动曝光设置</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#手动设置">手动设置</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#编辑器视口覆盖">编辑器视口覆盖</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#可视化和调试">可视化和调试</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#直方图">直方图</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#直方图调试可视化模式">直方图调试可视化模式</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#更新至ue4.25或更高版本">更新至UE 4.25或更高版本</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#新自动曝光默认值">新自动曝光默认值</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#自动更新现有项目和内容">自动更新现有项目和内容</a></p>
	</li>					</ul>
	</li>		    	        </ul>
</div>
</div>
</div>
<div class="Note">
	<p>从虚幻引擎4.24或更早版本升级到 <strong>虚幻引擎4.25及更高版本</strong> 的项目，自动曝光的显示可能会有所不同。从4.25起，旨在提高自动曝光可用性和功能的重大更改破坏了向后兼容性。
</p><p>欲了解此功能及有关将项目升级到4.25和更高版本的更多信息，参见本页面<a id="content_link" href="https://docs.unrealengine.com/en-US/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/#updatingtoue4.25orlater" ><span>更新到UE 4.25或更高版本</span></a>部分。</p>
</div><p><strong>后期处理体积（Post Process Volume）</strong> 提供 <strong>自动曝光（Automatic Exposure）</strong> （通常称为眼部适应）控制选项，可自动调整当前场景视图的曝光效果，使其变亮或变暗。此效果可再现人眼适应不同光照条件的体验，例如从昏暗的室内走到明亮的室外，或从室外走到室内。
</p><!--
videoid:paramliteral
width:paramliteral
height:paramliteral
units:paramliteral
type:paramliteral
start:paramliteral
service:paramliteral
-->
<style type="text/css">
#player_1_h5de96jc_22
{
	margin: 0px;
	width: 75%;
	display: inline-block;
	position: relative;
	overflow: hidden;
}
#player_1_h5de96jc_22:after
{
	content: "";
	padding-top: 56.25%;
	display: block;
}
</style> 
<div id="player_1_h5de96jc_22"> 
	<div id="playerContainer_1_h5de96jc_22" style="position:absolute;top:0;left: 0;right: 0;bottom:0;border:solid thin black;">
		<iframe width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen="" src="https://dev.epicgames.com/community/api/cms/videos/1_h5de96jc/embed.html"></iframe>
	</div>
</div>
<h2 id="曝光测光模式">曝光测光模式</h2>
<p>在场景中设置自动曝光时，引擎提供几种测光模式选项。此类不同测光模式提供可精确模拟实际摄像机的设置，可在后期处理过程中控制场景中的曝光。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExposureMeteringModes.jpg">
		<img class="  lazyload" alt="ExposureMeteringModes.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExposureMeteringModes.jpg" />
</picture>

</p><ul ><li class="Default"><p><strong>自动曝光直方图（Auto Exposure Histogram）</strong> 模式通过由64bin直方图构成的高级设置更好地控制自动曝光。这是虚幻引擎中的默认曝光测光模式。
</p></li><li class="Default"><p><strong>基本自动曝光（Auto Exposure Basic）</strong> 模式提供的设置较少，但这是通过下采样曝光计算单个值的更快速方法。 
</p></li><li class="Default"><p><strong>手动（Manual）</strong> 模式支持使用后期处理和摄像机设置中的 <strong>摄像机（Camera）</strong> 设置控制曝光，而非仅使用 <strong>曝光（Exposure）</strong> 类别中的设置。
</p></li></ul><h3 id="直方图和基本算法">直方图和基本算法</h3>
<p><strong>基本自动曝光（Auto Exposure Basic）</strong> 和 <strong>自动曝光直方图（Auto Exposure Histogram）</strong> 测光模式均可计算场景的整体亮度，并使场景变亮或变暗到期望值，但两者计算场景亮度的方式有所不同。 
</p><ul ><li class="Default"><p><strong>基本自动曝光（Auto Exposure Basic）</strong> 算法使用场景的对数亮度平均值确定目标曝光值。 
</p></li><li class="Default"><p><strong>自动曝光直方图（Auto Exposure Histogram）</strong> 模式首先计算对数亮度场景的直方图。然后，分析直方图，确定平均亮度值。
</p></li></ul><p>基本模式和直方图模式使用不同算法计算场景的平均亮度。但确定平均亮度值后，两种算法都将该亮度视为中灰。在摄影中，此中灰点有时称为"18%灰"或"18%中灰"，指灰卡反射的光量。
</p><h3 id="手动算法">手动算法</h3>
<p><strong>手动（Manual）</strong> 测光模式允许用户选择不受场景亮度影响的单个固定曝光值。若后期处理设置中禁用 <strong>应用物理摄像机曝光（Apply Physical Camera Exposure）</strong>，则曝光值为线性亮度： 
</p><pre class="prettyprint"><code>曝光 = 1/（2&#94;（EV100 + 曝光补偿））</code></pre>
<p>若应用 <strong>应用物理摄像机曝光（Apply Physical Camera Exposure）</strong>，则EV100按如下公式计算。否则，值为0。
</p><pre class="prettyprint"><code>EV100 = log2（孔径&#94;2/快门速度&#42;100/ISO）</code></pre>
<p>下述公式中的曝光定义在应用色调映射器和曝光补偿之前，场景表面亮度（L，以cd/m2为单位）与像素亮度（B）之间的关系。 
</p><pre class="prettyprint"><code>B = 曝光&#42;L</code></pre>
<p>可通过视口显示标记（<strong>显示（Show）> 后期处理（Post Processing）</strong>）禁用色调映射器，验证此公式的结果，并使用<a id="content_link"filter-data="tag_" href="../../../TestingAndOptimization/DevTools/PixelInspector/index.html" ><span>像素检查器</span></a>检查场景亮度。另请注意，<a id="content_link" href="#" ><span>编辑器EV100覆盖设置</span></a>直接设置此公式中使用的EV100曝光。
</p><div class="note">
	<p>除从 当前测光模式计算的曝光外，<strong>曝光补偿</strong> （也简称为 <strong>ExpComp</strong>）还额外定义2^ExpComp比例，使用EV100编辑器覆盖时除外。</p>
</div><h2 id="重要概念与功能">重要概念与功能</h2>
<p>在项目关卡中设置和使用自动曝光时，应考虑以下重要概念、功能和最佳实践。<br /></p><h3 id="曝光补偿曲线">曝光补偿曲线</h3>
<p>借助 <strong>曝光补偿曲线（Exposure Compensation Curve）</strong> 资产槽，美术师可更好地控制场景中的曝光补偿。此曲线资产可直接控制X和Y轴。使用高动态范围可视化模式 <strong>HDR（眼部适应）</strong> 时，可从屏幕上显示的信息中提取此类值。 
</p><div class="imagetable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/PPV_ExpCompAssetCurve.jpg">
		<img class="  lazyload" alt="PPV_ExpCompAssetCurve.png" height="350" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/PPV_ExpCompAssetCurve.jpg" />
</picture>
 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpCompCurveAsset.jpg">
		<img class="  lazyload" alt="ExpCompCurveAsset.png" height="350" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpCompCurveAsset.jpg" />
</picture>
 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>后期处理设置</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>曲线资产图表</p>
			</td>
	
</tr></tbody>
</table>
</div><p>使用内容浏览器选择 <strong>新增（Add New）</strong> 按钮并导航到 <strong>其他（Miscellaneous）</strong> 类别，选择 <strong>曲线（Curve）</strong> 资产类型，添加自己的曲线。在选择曲线类（Pick Curve Class） 窗口中，选择 <strong>曲线浮点（Curve Float）</strong> 类型。
</p><p>在启用"HDR（眼部适应）"可视化模式的关卡视口中，X轴在直方图上由 <strong>平均场景EV100</strong> 值（1）和 <strong>实际</strong> （紫色）线（1）表示。Y轴由 <strong>曝光补偿（曲线）</strong> 值（2）表示。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpCompCurve.jpg">
		<img class="  lazyload" alt="ExpCompCurve.png" width="1000" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpCompCurve.jpg" />
</picture>

</p><p>上面的示例场景显示 <strong>平均场景EV100</strong> 为0.548，将转换为曲线资产X轴的插入值（如下所示）。还将返回 <strong>曝光补偿（曲线）（Exposure Compensation（Curve））</strong> 值0.864。
</p><div class="lightbox">
	<p><span class="non-localized"><a id="content_link" href="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpCompCurveAsset2.png" ><span><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpCompCurveAsset2.jpg">
		<img class="  lazyload" alt="ExpCompCurveAsset2.png" width="850" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpCompCurveAsset2.jpg" />
</picture>
</span></a></span></p>
</div><div class="caption">
	<p>点击查看大图。</p>
</div><p>曝光补偿值分为各自的 <em>设置</em> 值和 <em>曲线</em> 值，可更精确地控制调整方式。同时解释了通过分离此类值以特定方式进行曝光补偿的原因。 
</p><p>相关值为： 
</p><ul ><li class="Default"><p><strong>平均EV100</strong> 是计算的目标EV100值，在直方图中用目标（蓝色）线表示。
</p></li><li class="Default"><p><strong>曝光补偿（设置）</strong> 是后期处理设置中设置的曝光补偿值。
</p></li><li class="Default"><p><strong>曝光补偿（曲线）</strong> 是后期处理中指定给曝光补偿曲线槽的曲线资产中生成的Y轴值。
</p></li><li class="Default"><p><strong>曝光补偿（全部）</strong> 是生成最终曝光补偿值的 <em>设置</em> 和 <em>曲线</em> 曝光补偿值之和。
</p></li></ul><h3 id="曝光测光遮罩">曝光测光遮罩</h3>
<p><strong>曝光测光遮罩（Exposure Metering Mask）</strong> 为美术师提供可选纹理槽来控制自动曝光的全屏影响，其中每个像素由指定纹理遮罩进行重要性加权。注重屏幕中心而非边缘的像素有助于稳定自动曝光（参见下例）。
</p><div class="imagetable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/PPV_ExpCompMeteringMask.jpg">
		<img class="  lazyload" alt="PPV_ExpCompMeteringMask.png" height="350" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/PPV_ExpCompMeteringMask.jpg" />
</picture>
 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpMeteringMaskExample.jpg">
		<img class="  lazyload" alt="ExpMeteringMaskExample.png" height="350" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpMeteringMaskExample.jpg" />
</picture>
 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>后期处理设置</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>曝光测光遮罩示例纹理</p>
			</td>
	
</tr></tbody>
</table>
</div><p>通过朝屏幕中心对遮罩中的像素加权，沿屏幕边缘出现的明亮对象不太可能引起预期曝光突然发生变化。 
</p><!--
before:param
after:param
position:paramliteral
-->
<div class="comparison_slider">
    <div class="first">
        <p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpMetMask_Disabled.jpg">
		<img class="  lazyload" alt="Without Exposure Metering Mask" width="900" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpMetMask_Disabled.jpg" />
</picture>
</p>
        <div class="overlay-first "></div>
    </div>
    <div class="last">
        <p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpMetMask_Enabled.jpg">
		<img class="  lazyload" alt="With an Exposure Metering Mask" width="900" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ExpMetMask_Enabled.jpg" />
</picture>
</p>
        <div class="overlay-last "></div>
    </div>
</div><div class="note">
	<p>虚幻引擎4.25发布后，控制台命令 <strong>r.EyeAdaptation.Focus</strong> 已删除。此命令在整个屏幕均匀应用加权值，提供现在通过创建自己的测光遮罩处理的类似功能。另外，此命令仅支持基本自动曝光测光模式，而曝光测光遮罩同时支持直方图和基本测光模式。</p>
</div><h3 id="曝光更改速度和移动">曝光更改速度和移动</h3>
<p>曝光补偿适应当前场景的速率以对数步长计算，曲线以恒速上下感知移动。曝光补偿沿曲线朝其目标值以每秒F值移动。 
</p><p>为处理这种感知移动，自适应算法以线性和指数移动遍历曲线。使用两种遍历方法可改善仅使用指数移动的两种副作用：
</p><ul ><li class="Default"><p>可减少快速适应亮度小幅波动的抖动行为。
</p></li><li class="Default"><p>可实现从黑暗区域到明亮区域的缓慢过渡。
</p></li></ul><p>在下例中，远离目标曝光值时，沿曲线的遍历以线性方式开始（2）。一旦接近，遍历过渡为指数移动（1），保持一阶导数的连续性。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/CurveMovement.jpg">
		<img class="  lazyload" alt="CurveMovement.png" width="700" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/CurveMovement.jpg" />
</picture>

</p><p>接近目标曝光值时，存在设定的过渡距离，这时曲线从线性移动转换为指数移动。默认情况下，此过渡出现在距目标值的1.5 F值处。可使用命令 <strong>r.EyeAdaptation.ExponentialTransitionDistance</strong> 设置过渡距离（以每秒F值为单位）。 
</p><h4 id="使用加速和减速参数">使用加速和减速参数</h4>
<p>后期处理中的 <strong>加速（Speed Up）</strong> 和 <strong>减速（Speed Down）</strong> 属性可控制曝光从实际值（紫色）调整为目标值（蓝色）的速度。此类设置可设置时间范围（以每秒F值为单位），以便在不同亮度范围（例如从黑暗环境移动到明亮环境）之间移动时让眼睛适应。
</p><p>设置此类值时，请考虑眼睛需要多长时间才能适应光照变化。设置此类属性时，请采纳以下建议：
</p><ul ><li class="Default"><p>模仿眼部适应行为时，<strong>加速（Speed Up）</strong> 参数应采用更高的值。这样可实现从黑暗区域到明亮区域的快速过渡。此外，还通过 <em>收缩</em> 虹膜模仿自然的眼部行为，从而减少进入瞳孔的光。较长的过渡时间会保持较高曝光，图像会过亮。
</p></li><li class="Default"><p>模仿眼部适应行为时，<strong>减速（Speed Down）</strong> 参数应采用更低的值。这样可实现从明亮区域到更暗区域的缓慢过渡。此外，还通过 <em>扩张</em> 虹膜模仿自然的眼部行为，从而增加进入瞳孔的光。较长的过渡时间会保持较低曝光，图像会过暗。
</p></li></ul><h3 id="扩展ev100的默认亮度范围">扩展EV100的默认亮度范围</h3>
<p>默认情况下，引擎利用像素亮度（cd/m2）来设置后期处理体积中的 <strong>最大亮度（Max Brightness）</strong> 和 <strong>最小亮度（Min Brightness）</strong> 设置。尝试设置<a id="content_link"filter-data="tag_lighting" href="../../../BuildingWorlds/LightingAndShadows/PhysicalLightUnits/index.html" ><span>物理精确光照范围</span></a>时，可扩大自动曝光的默认亮度范围，以EV100（也称为ISO 100）表示亮度。这意味着可对场景中的光源使用合适的勒克斯值，并通过自动曝光遵循该值，而不会导致图像过度曝光。
</p><p>可在 <strong>渲染（Rendering）> 默认设置（Default Settings）</strong> 部分的项目设置（Project Settings）中启用该选项，方法是选中 <strong>扩大自动曝光设置中的默认亮度范围</strong> 旁的复选框。
</p><p>启用此设置会更改后期处理体积的 <strong>最小亮度（Min Brightness）</strong> 和 <strong>最大亮度（Max Brightness）</strong> 默认值，以及 <strong>直方图对数最小值（Histogram Log Min）</strong> 和 <strong>直方图对数最大值（Histogram Log Max）</strong> 名称，以反映EV100。<br /></p><div class="imagetable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/PPVSettings_Default.jpg">
		<img class="  lazyload" alt="PPVSettings_Default.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/PPVSettings_Default.jpg" />
</picture>
 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/PPVSettings_ExtendedLuminance.jpg">
		<img class="  lazyload" alt="PPVSettings_ExtendedLuminance.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/PPVSettings_ExtendedLuminance.jpg" />
</picture>
 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>引擎默认设置</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>启用扩大亮度范围</p>
			</td>
	
</tr></tbody>
</table>
</div><h3 id="预曝光">预曝光</h3>
<p>着色器中应用的曝光量称为 <strong>预曝光</strong>。写入场景颜色前，在着色器中应用前一帧的场景曝光。这使引擎能重新映射摄像机曝光的场景颜色范围，从而在与最终颜色之一（曝光后）相似的范围内渲染场景。限制支持HDR照明值所需的渲染目标范围，可降低使用非常明亮的光源时低精度渲染目标格式出现算术溢出的风险。启用后，还具有提高基本自动曝光测光模式质量的效果。
</p><p>可通过项目设置（Project Settings）中 <strong>渲染（Rendering）> 默认设置（Default Settings）</strong> 部分的 <strong>在写入场景颜色前应用预曝光（Apply Pre-exposure before writing to the scene color）</strong> 启用预曝光。 
</p><h2 id="移动设备用法">移动设备用法</h2>
<p>在支持功能级别ES3.1或更高版本的移动设备上，自动曝光功能与台式机和控制台平台相同。对于移动设备，内存开销可忽略，性能开销低，具体视场景而定。
</p><p>对于任何项目设置中启用 <strong>移动HDR（Mobile HDR）</strong> 的虚幻引擎项目，默认情况下均启用自动曝光（Auto Exposure）。若没有，可进行如下设置：
</p><ul ><li class="Default"><p>在项目设置中的 <strong>引擎（Engine）- 渲染（Rendering）- </strong> 部分下启用 <strong>移动HDR（Mobile HDR）</strong>。
</p></li><li class="Default"><p>将控制台变量 <strong>r.Mobile.EyeAdaptation</strong> 设为 <strong>1</strong>。此选项应默认启用。
</p></li><li class="Default"><p>控制台变量 <strong>r.EyeAdaptationQuality</strong> 应设为大于0的值。
</p></li></ul><div class="note">
	<p>在 <code>BaseScalability.ini</code> 配置文件的 <strong>[PostProcessQuality]</strong> 部分 下配置此类控制台变量。对特定设备使用定义的配置文件时，在 <code>BaseDeviceProfiles.ini</code> 中设置控制台变量 <strong>sg.PostProcessQuality</strong>。请注意，除 <strong>Android_Low</strong> 外，所有设备均默认启用。</p>
</div><h2 id="游戏设置">游戏设置</h2>
<p>默认的自动曝光后期处理和后期处体积控制 <em>游戏中</em> 的自动曝光设置。自动曝光默认为开启，可用于关卡视口和资产编辑器视口。 
</p><p>可从 <strong>镜头（Lens）</strong> 类别中的 <strong>曝光（Exposure）</strong> 下拉菜单下访问自动曝光（Auto Exposure）设置。
</p><div class="imagetable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/GameSettings_DetailsPanel.jpg">
		<img class="  lazyload" alt="GameSettings_DetailsPanel.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/GameSettings_DetailsPanel.jpg" />
</picture>
 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/GameSettings_PreviewSceneSettings.jpg">
		<img class="  lazyload" alt="GameSettings_PreviewSceneSettings.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/GameSettings_PreviewSceneSettings.jpg" />
</picture>
 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>后期处理体积设置</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>资产编辑器预览场景设置</p>
			</td>
	
</tr></tbody>
</table>
</div><p>关卡视口 <strong>细节（Details）</strong> 面板中提供后期处理设置，资产编辑器 <strong>预览场景设置（Preview Scene Settings）</strong> 面板包含调整场景自动曝光所需的相关设置。可通过所选 <strong>测量模式</strong> 访问后期处理中的不同属性集。每种模式均设置用于自动曝光的亮度计算方法。
</p><p>从以下测光模式中选择：
</p><ul ><li class="Default"><p><strong>自动曝光直方图（Auto Exposure Histogram）</strong> 构造64bin直方图，可通过高级设置更好地控制自动曝光。 
</p></li><li class="Default"><p><strong>基本自动曝光（Auto Exposure Basic）</strong> 是一种通过下采样计算单个值的更快速方法。
</p></li><li class="Default"><p><strong>手动（Manual）</strong> 可使用内部的 <strong>摄像机</strong> 后期处理设置而不是曝光（Exposure）属性控制曝光。
</p></li></ul><h3 id="自动曝光直方图设置">自动曝光直方图设置</h3>
<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/AutoExp_Histogram.jpg">
		<img class="  lazyload" alt="AutoExp_Histogram.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/AutoExp_Histogram.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>曝光补偿（Exposure Compensation）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>曝光的对数调整，仅在指定色调映射器的情况下使用。设为0时，没有调整；设为-1时，为两倍暗，设为-2时，为四倍暗，设为1时，为两倍亮，设为2时，为四倍亮。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>曝光补偿曲线（Exposure Compensation Curve）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>该槽取用曲线资产，用于更好地控制场景中的曝光补偿。曲线图表中的X和Y轴值转换为 <strong>平均场景EV100</strong> 和 <strong>曝光补偿（曲线）</strong> 值。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>曝光测光遮罩（Exposure Metering Mask）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>使用自己的纹理遮罩测量曝光。遮罩上的亮点将对自动曝光测光产生很大影响，而暗点的影响较小。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>最小亮度（Min Brightness）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>自动曝光的最小亮度，用于限定眼部可适应的最低亮度。值必须小于0，并且必须大于或等于 <strong>最大亮度（Max Brightness）</strong>。合适的值应为接近0的正值，并应在黑暗的光照条件下调整。例如，若该值过小，则图像会显得太亮。若值过大，则图像会显得太暗。实际值取决于所使用内容的HDR范围。若最小亮度（Min Brightness）等于最大亮度（Max Brightness），自动曝光将禁用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>最大亮度（Max Brightness）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>自动曝光的最大亮度，用于限定眼部可适应的最高亮度。值必须大于0，并且必须大于或等于 <strong>最小亮度（Min Brightness）</strong>。合适的值应为正值（2是不错的起始值），并将在明亮的光照条件调整。例如，若该值过小，则图像会显得太亮。若值过大，则图像会显得太暗。实际值取决于所使用内容的HDR范围。若最大亮度（Max Brightness）等于最小亮度（Min Brightness），自动曝光将禁用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>最小EV100（Min EV100）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>扩大自动曝光设置中的默认亮度范围（Extend default luminance range in Auto Exposure settings）</strong> 时，用于代替 <strong>最小亮度（Min Brightness）</strong></p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>最大EV100（Max EV100）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>扩大自动曝光设置中的默认亮度范围（Extend default luminance range in Auto Exposure settings）</strong> 时，用于代替 <strong>最小亮度（Min Brightness）</strong></p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>加速（Speed Up）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>从黑暗环境到明亮环境的适应速度。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>减速（Speed Down）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>从明亮环境到黑暗环境的适应速度。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="2" align="">
			<p><div class="tablesection">
	<p> 高级（Advanced） </p>
</div></p>
			</td>
	
	<td rowspan="1" >
			
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>低百分比（Low Percent）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>自动曝光适应从场景颜色亮度直方图中提取的值。该值定义为比此亮度低X%。较高的值给予屏幕上的亮点更高优先级，但可能导致结果的稳定性降低。较低的值给予中值和暗值更高优先级，但可能会导致亮点耗尽。值应大于0且小于100。合适的起始范围为70至80。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>高百分比（High Percent）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>自动曝光适应从场景颜色亮度直方图中提取的值。该值定义为比此亮度低X%。较高的值给予屏幕上的亮点更高优先级，但可能导致结果的稳定性降低。较低的值给予中值和暗值更高优先级，但可能会导致亮点耗尽。值应大于0且小于100。合适的起始范围为80至95。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>直方图对数最小值（Histogram Log Min）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>定义使用 <strong>HDR（眼部适应）</strong> 可视化模式时所生成直方图的亮度范围下限。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>直方图对数最大值（Histogram Log Max）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>定义使用 <strong>HDR（眼部适应）</strong> 可视化模式时所生成直方图的亮度范围上限。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>直方图最小EV100（Histogram Min EV100）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>扩大自动曝光设置中的默认亮度范围（Extend default luminance range in Auto Exposure settings）</strong> 时，用于代替 <strong>最小亮度（Min Brightness）</strong><strong>HDR（眼部适应）</strong> 可视化模式时所生成直方图的亮度范围下限。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>直方图最小EV100（Histogram Min EV100）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>扩大自动曝光设置中的默认亮度范围（Extend default luminance range in Auto Exposure settings）</strong> 时，用于代替 <strong>最小亮度（Min Brightness）</strong><strong>HDR（眼部适应）</strong> 可视化模式时所生成直方图的亮度范围上限。</p>
			</td>
	
</tr></tbody>
</table><h3 id="基本自动曝光设置">基本自动曝光设置</h3>
<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/AutoExp_Basic.jpg">
		<img class="  lazyload" alt="AutoExp_Basic.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/AutoExp_Basic.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>曝光补偿（Exposure Compensation）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>曝光对数调整，仅在指定色调映射器的情况下使用。设为0时，没有调整；设为-1时，为两倍暗，设为-2时，为四倍暗，设为1时，为两倍亮，设为2时，为四倍亮。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>曝光补偿曲线（Exposure Compensation Curve）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>该槽取用曲线资产，用于更好地控制场景中的曝光补偿。曲线图表中的X和Y轴值转换为 <strong>平均场景EV100</strong> 和 <strong>曝光补偿（曲线）</strong> 值。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>曝光测光遮罩（Exposure Metering Mask）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>使用自己的纹理遮罩测量曝光。遮罩上的亮点将对自动曝光测光产生很大影响，而暗点的影响较小。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>最小亮度（Min Brightness）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>自动曝光的最小亮度，用于限定眼部可适应的最低亮度。值必须小于0，并且必须大于或等于 <strong>最大亮度（Max Brightness）</strong>。合适的值应为接近0的正值，并应在黑暗的光照条件下调整。例如，若该值过小，则图像会显得太亮。若值过大，则图像会显得太暗。实际值取决于所使用内容的HDR范围。若最小亮度（Min Brightness）等于最大亮度（Max Brightness），自动曝光将禁用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>最大亮度（Max Brightness）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>自动曝光的最大亮度，用于限定眼部可适应的最高亮度。值必须大于0，并且必须大于或等于 <strong>最小亮度（Min Brightness）</strong>。合适的值应为正值（2是不错的起始值），并将在明亮的光照条件调整。例如，若该值过小，则图像会显得太亮。若值过大，则图像会显得太暗。实际值取决于所使用内容的HDR范围。若最大亮度（Max Brightness）等于最小亮度（Min Brightness），自动曝光将禁用。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>最小EV100（Min EV100）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>扩大自动曝光设置中的默认亮度范围（Extend default luminance range in Auto Exposure settings）</strong> 时，用于代替 <strong>最小亮度（Min Brightness）</strong></p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>最大EV100（Max EV100）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p><strong>扩大自动曝光设置中的默认亮度范围（Extend default luminance range in Auto Exposure settings）</strong> 时，用于代替 <strong>最小亮度（Min Brightness）</strong></p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>加速（Speed Up）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>从黑暗环境到明亮环境的适应速度。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>减速（Speed Down）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>从明亮环境到黑暗环境的适应速度。</p>
			</td>
	
</tr></tbody>
</table><h3 id="手动设置">手动设置</h3>
<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/AutoExp_Manual.jpg">
		<img class="  lazyload" alt="AutoExp_Manual.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/AutoExp_Manual.jpg" />
</picture>

</p><table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>属性 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>说明 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="2" align="">
			<p><div class="tablesection">
	<p> 曝光（Exposure） </p>
</div></p>
			</td>
	
	<td rowspan="1" >
			
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>曝光补偿（Exposure Compensation）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>曝光对数调整，仅在指定色调映射器的情况下使用。设为0时，没有调整；设为-1时，为两倍暗，设为-2时，为四倍暗，设为1时，为两倍亮，设为2时，为四倍亮。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>应用物理摄像机曝光（Apply Physical Camera Exposure）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>此切换仅影响 <strong>手动</strong> 测光模式。启用后，场景亮度会受到 <strong>摄像机</strong> 设置（ISO、快门速度和光圈）的影响。禁用时，摄像机使用默认值ISO 100、孔径1.0和快速速度1.0。启用此标记后，大多数场景将明显变暗。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>曝光测光遮罩（Exposure Metering Mask）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>使用自己的纹理遮罩测量曝光。遮罩上的亮点将对自动曝光测光产生很大影响，而暗点的影响较小。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="2" align="">
			<p><div class="tablesection">
	<p> 摄像机（Camera） </p>
</div></p>
			</td>
	
	<td rowspan="1" >
			
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>快门速度（1/s）（Shutter Speed (1/s)）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>定义摄像机快门速度，以秒为单位。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>ISO</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>该值表示摄像机传感器的灵敏度。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>孔径（F值）（Aperture (F-stop)）</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>定义摄像机镜头开口的大小。较大的值会降低景深（DOF）效果。</p>
			</td>
	
</tr></tbody>
</table><h2 id="编辑器视口覆盖">编辑器视口覆盖</h2>
<p>每个编辑器视口提供一个选项，用于覆盖默认的自动曝光设置或后期处理体积中的设置。
</p><p>从关卡视口或资产编辑器视口的 <strong>查看模式（View Mode）</strong> 下拉列表中访问曝光覆盖，并禁用 <strong>游戏设置（Game Settings）</strong> 或 <strong>自动（Auto）</strong> 旁边的复选框以使用EV100滑块。 
</p><div class="imagetable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/Override_LevelViewport.jpg">
		<img class="  lazyload" alt="Override_LevelViewport.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/Override_LevelViewport.jpg" />
</picture>
 </p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/Override_AssetEditor.jpg">
		<img class="  lazyload" alt="Override_AssetEditor.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/Override_AssetEditor.jpg" />
</picture>
 </p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p>关卡视口覆盖</p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>资产编辑器覆盖</p>
			</td>
	
</tr></tbody>
</table>
</div><h2 id="可视化和调试">可视化和调试</h2>
<p><strong>HDR（眼部适应）</strong> 可视化模式提供当前场景视图中测得曝光值的直方图表示，并快速引用后期处理体积和曲线资产中设置的值。 
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/HDR_VisMode.jpg">
		<img class="  lazyload" alt="HDR_VisMode.png" width="1000" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/HDR_VisMode.jpg" />
</picture>

</p><ol ><li class="Default"><p>后期处理体积和曲线资产中设置的曝光和曲线值列表。
</p></li><li class="Default"><p>提供NIT（以cd/m2为单位）和勒克斯值的焦点计。
</p></li><li class="Default"><p>设置最小和最大范围的直方图。
</p></li></ol><p>使用关卡视口启用此可视化模式，选择 <strong>显示（Show）</strong> > <strong>可视化（Visualize）</strong> > <strong>HDR（眼部适应）（HDR（Eye Adaptation））</strong>。
</p><h3 id="直方图">直方图</h3>
<p>直方图提供当前视图中测得的一系列曝光值。图表中的彩色线表示目标曝光值、实际曝光值和最终曝光值，始终适应当前摄像机视图的测量曝光。
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/HistogramChart.jpg">
		<img class="  lazyload" alt="HistogramChart.png" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/HistogramChart.jpg" />
</picture>

</p><ul ><li class="Default"><p><strong>蓝</strong> 线表示当前视图的 <em>目标</em> EV100曝光。 
</p><ul ><li class="Default"><p>这是直方图中平均场景曝光的所在位置。
</p></li></ul></li><li class="Default"><p><strong>紫</strong> 线表示当前视图的 <em>实际</em> EV100曝光。 
</p><ul ><li class="Default"><p>这是此视图中存在的当前曝光。实际曝光值随着视图变化，将始终朝着目标曝光值移动。
</p></li></ul></li><li class="Default"><p><strong>白</strong> 线是后期处理设置中调整曝光补偿后的 <em>最终</em> EV100曝光值。 
</p><ul ><li class="Default"><p>这是曝光补偿后当前视图中的实际曝光值。白线和紫线将保持曝光补偿设定的距离。上例中，曝光补偿为2，其中白线和紫线之间保持该距离。
</p></li></ul></li></ul><!--
videoid:paramliteral
width:paramliteral
height:paramliteral
units:paramliteral
type:paramliteral
start:paramliteral
service:paramliteral
-->
<style type="text/css">
#player_1_51mdcjip_275
{
	margin: 0px;
	width: 75%;
	display: inline-block;
	position: relative;
	overflow: hidden;
}
#player_1_51mdcjip_275:after
{
	content: "";
	padding-top: 56.25%;
	display: block;
}
</style> 
<div id="player_1_51mdcjip_275"> 
	<div id="playerContainer_1_51mdcjip_275" style="position:absolute;top:0;left: 0;right: 0;bottom:0;border:solid thin black;">
		<iframe width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen="" src="https://dev.epicgames.com/community/api/cms/videos/1_51mdcjip/embed.html"></iframe>
	</div>
</div>
<p>在此示例场景中，若在后期处理体积 <strong>曝光（Exposure）</strong> 设置中更改曝光补偿（Exposure Compensation），则该值将在关卡视口中的曝光设置列表中体现。在图中，实际曝光线（紫色）和最终曝光线（白色）的分离反映了曝光补偿的差异偏移。
</p><p>在图表中，较远的边缘表示自动曝光适应范围，该范围由 <strong>直方图对数最小值（Histogram Log Min）</strong> 和 <strong>直方图对数最大值（Histogram Log Max）</strong> （启用项目设置 <strong>扩大自动曝光设置中的默认亮度范围（Extend default luminance range in Auto Exposure settings）</strong> 时，则为 <strong>直方图最小EV100（Histogram Min EV100）和 </strong>直方图最大EV100（Histogram Max EV100）**）设置。 
</p><h3 id="直方图调试可视化模式">直方图调试可视化模式</h3>
<p>此模式提供不同像素值的可视化，确保自动曝光的HDR计算中不涉及非常亮的像素（如太阳）和非常暗的像素（如深阴影）。 
</p><p><picture>
		<source data-srcset="./../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/HistogramDebugVis.jpg">
		<img class="  lazyload" alt="HistogramDebugVis.png" width="1000" data-src="../../../../Images/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/HistogramDebugVis.jpg" />
</picture>

</p><p>红色像素表示 <em>低于</em> <strong>直方图对数最小值（Histogram Log Min）</strong> （或 <strong>直方图最小EV100（Histogram Min EV100）</strong>）设置的自动曝光适应范围。蓝色像素表示 <em>高于</em> <strong>直方图对数最大值（Histogram Log Max）</strong> （或 <strong>直方图最大EV100（Histogram Max EV100）</strong>）设置的自动曝光适应范围。此类像素范围可确保设置的 <strong>低百分比（Low Percent）</strong> 和 <strong>高百分比（High Percent）</strong> 值从计算中删除这些不需要的像素。
</p><div class="note">
	<p>此调试可视化模式要求首先启用 <strong>HDR（眼部适应）（HDR（Eye Adaptation））</strong> 可视化模式。</p>
</div><p>使用命令 <strong>r.EyeAdaptation.VisualizeDebugType 1</strong> 启用此可视化模式。
</p><h2 id="更新至ue4.25或更高版本">更新至UE 4.25或更高版本</h2>
<p>由于虚幻引擎4.25的自动曝光算法发送了变动，导致从旧版本升级到此版本时无法保持向后兼容性。理想情况下，我们希望引擎在升级版本时，内容都能看起来一样。在这种情况下，这种方案并不现实。 
</p><p>下列小节提供了新默认值的细节，此类默认值使测光模式之间的切换更加一致，并介绍如何使用自动更新路径处理4.25版本之前虚幻引擎项目的升级。
</p><h3 id="新自动曝光默认值">新自动曝光默认值</h3>
<p>自动曝光算法的更改导致"自动曝光直方图"测光模式的默认值不同。此前采用80%百分位下限和98.3%百分位上限范围，该范围旨在忽略大多数直方图内容，而仅关注当前视图中的重点。新的默认值范围为从10百分位下限到90百分位上限，应用的结果类似于"基本自动曝光"测光模式。这样做是为了使这些模式更加一致。 
</p><p>另一更改是，将后期处理体积中的"曝光补偿"的默认值设为1.0，而不是0。大多数情况下，原始值的效果都显得太暗。还可选择使用项目设置中的 <strong>自动曝光偏差（Auto Exposure Bias）</strong> 属性设置自己的项目默认值。 
</p><p>虽然旧的默认值可能更适合你的项目，但新默认值提供更广泛的直方图范围，在不同的自动曝光测光模式之间具有更好的一致性。
</p><div class="note">
	<p>若要模仿以前UE4版本的行为，请将直方图范围设为80–98.3%的百分位上下限，并应用曝光补偿log2(1.0/0.18)=2.47。</p>
</div><h3 id="自动更新现有项目和内容">自动更新现有项目和内容</h3>
<p>项目从虚幻引擎4.24之前的版本更新到虚幻引擎4.25或更高版本时，关卡中后期处理体积的 <strong>曝光补偿（Exposure Compensation）</strong> 属性都会自动更新。更新逻辑存储在位于UE4 <code>Engine\Source\Runtime\Private</code> 文件夹 <strong>Scene.cpp</strong> 文件的 <code>CalculateEyeAdaptationExposureVersionUpdate()</code> 中。
</p><p>若项目使用 <strong>自动曝光直方图（Auto Exposure Histogram）</strong> 测光模式，并启用项目设置 <strong>扩大自动曝光设置中的默认亮度范围（Extend default luminance range in Auto Exposure settings）</strong>，则应使用较小的曝光补偿，调整与先前引擎版本的行为变化。 
</p><p>例如，若最小直方图和最大直方图值的平均值为89.15，则采用1.5的曝光补偿。但若直方图范围较大，则采用较少的曝光补偿。若最小直方图和最大直方图值的平均值为50，则采用1.0的曝光补偿。 
</p><p>尽管我们想确保与此前设置完全匹配，但转换过程取决于场景中的可用内容，我们发现默认值提供了可在升级期间与现有内容配合使用的合理值。
</p><div class="note">
	<p>若发现项目存在转换问题，则项目升级后，原始曝光补偿值存储于隐藏值 <code>AutoExposureBiasBackup</code> 中。</p>
</div>
																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="pageTags">
				<div class="title">标签</div>
					<div>
					<div class="keyword_tag_filter"><a id="tag_link" href="../../../SiteIndex/index.html?tags=Post%20Process">Post Process</a></div>
					</div>
				</div>
								<div id="recommendations"></div>			</div>
						  									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/RenderingAndGraphics/PostProcessEffects/AutomaticExposure/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 10:59:16 GMT -->
</html>
