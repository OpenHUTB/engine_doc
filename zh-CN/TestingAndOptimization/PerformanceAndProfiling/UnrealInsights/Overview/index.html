<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 11:40:13 GMT -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="../../../../../Include/Javascript/common_zh-CN.js" type="text/javascript"></script>
	<script type="text/javascript">
		var time = new Date(0);
		var preview = false;
		var relativeHTMLPath = "https://docs.unrealengine.com/4.26/";
				var pageid = 0;
				var heroimage = "";
				var lang = "zh-CN";
				var basePath = document.location.pathname.substring(0, document.location.pathname.indexOf('/' + lang + '/') + lang.length + 1);
		document.write('<base href="' +  encodeURI(basePath) + '/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/" />');
				var udnCSS = '../../../../../Include/CSS/udn_public.css';
		var udnLangCSS = '';
				udnLangCSS = './../../../../../Include/CSS/udn_public_CN.css">';
				var udnOverrideCSS = '../../../../../Include/CSS/skin_overrides.css';
		var udnOverrideDarkCSS = '../../../../../Include/CSS/skin_overrides_dark.css';
		var fancyboxCSS = '../../../../../Include/CSS/jquery.fancybox.css';
		var jqueryuiCSS = '../../../../../Include/CSS/jquery-ui.min.css';
		var qtipCSS = '../../../../../Include/CSS/jquery.qtip.css';
		var prettifyCSS = '../../../../../Include/CSS/prettify.css';
		var navbarCSS = '../../../../../Include/CSS/navBar.css';
		var twentytwentyCSS = '../../../../../Include/CSS/twentytwenty.css';
		var recommendationsCSS = '../../../../../Include/CSS/jquery.recommendations.css';
	</script>
    <title>Unreal Insights介绍 | 虚幻引擎文档</title>
    	    <meta name=viewport content="width=device-width, initial-scale=1" />
	<meta http-equiv="Cache-control" content="no-store">
    <script  src="../../../../../Include/Javascript/CustomEvent.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-3.4.0.min.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/udn_extras.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery-ui.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/informational.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.qtip.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/prettify.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.slimscroll.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.event.move.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/jquery.twentytwenty.js" type="text/javascript"></script>
    <script  src="../../../../../Include/Javascript/lazysizes.min.js" type="text/javascript"></script>
	    <script  src="../../../../../Include/Javascript/jquery.recommendations.js" type="text/javascript"></script>
	
    <link async rel="icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async rel="shortcut icon" href="../../../../../../favicon.png" type="image/x-icon" />
    <link async href="../../../../../Include/Images/touch_icon.png" rel="apple-touch-icon" />
    <link async href="../../../../../Include/Images/touch_icon_114.png" sizes="114x114" rel="apple-touch-icon" />    
		<script  src="../../../../../Include/Javascript/CollapsibleLists.js" type="text/javascript"></script>
	<script  src="../../../../../Include/Javascript/navigationBarUI.js"></script>
	<script  src="../../../../../Include/Javascript/navigationBar.js"></script>
		
	<link rel="alternate" href="https://docs.unrealengine.com/latest/en-US/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/" hreflang="x-default" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/zh-CN/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/" hreflang="zh-CN" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ja/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/" hreflang="ja" />
<link rel="alternate" href="https://docs.unrealengine.com/latest/ko/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/" hreflang="ko" />

	<meta name="redirect" content="Engine/Performance/UnrealInsights/Overview" />
<meta name="intsourcechangelist" content="15271067" />
<meta name="availability" content="Public" />
<meta name="title" content="Unreal Insights介绍" />
<meta name="description" content="简要介绍应用分析工具Unreal Insights" />
<meta name="type" content="overview" />
<meta name="skilllevel" content="advanced" />
<meta name="parent" content="TestingAndOptimization/PerformanceAndProfiling/UnrealInsights" />
<meta name="order" content="0" />
<meta name="related" content="TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Reference" />
<meta name="keywords" content="Performance" />
<meta name="keywords" content="Profiling" />
<meta name="keywords" content="Unreal Insights" />
<meta name="crumbs" content="%ROOT%,TestingAndOptimization,TestingAndOptimization/PerformanceAndProfiling,TestingAndOptimization/PerformanceAndProfiling/UnrealInsights" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:title" content="Unreal Insights介绍" />
	<meta property="og:description" content="简要介绍应用分析工具Unreal Insights" />
		<meta property="og:image" content="" />
	</head>
<body id="webbgThree" style="visibility: hidden;" onload="document.body.style.visibility='visible';">
			<script>window.__tracking_base = 'https://tracking.unrealengine.com/';</script>
	<script src="../../../../../../../tracking.unrealengine.com/tracking.js" async></script>    <div id="webThree">
				<div id="page_head">
						<script type="module" 
					crossorigin="anonymous" 
					src="https://components.unrealengine.com/navigation/edc-navigation.mjs"></script>
			<edc-navigation blackListLangCodes='["de-de","es-es","es-mx","fr-fr","it-it","pt-br","ru-ru","pl-pl","tr-tr"]' locale="zh-CN" ></edc-navigation>
						<div id="pagenav">
				<div class="crumbs" id="crumbs">
<span id="versionContainer">
	<span id="versionSelect" class="btn btn-version" onclick="ToggleMenu($('#versionMenu'), $(this));"></span>
	<div id="versionMenu">
		<div id="4_26" data-version="4.26" class="btn btn-select" onclick="createCookie('version', '4.26', 365);SwitchVersion('4.26');">Unreal Engine 4.26 Documentation</div>
		<div id="4_27" data-version="4.27" class="btn btn-select" onclick="createCookie('version', '4.27', 365);SwitchVersion('4.27');">Unreal Engine 4.27 Documentation</div>
		<div id="5_0" data-version="5.0" class="btn btn-select" onclick="createCookie('version', '5.0', 365);SwitchVersion('5.0');">Unreal Engine 5.0 Documentation</div>
		<div id="5_1" data-version="5.1" class="btn btn-select" onclick="createCookie('version', '5.1', 365);SwitchVersion('5.1');">Unreal Engine 5.1 Documentation</div>
		<div id="5_2" data-version="5.2" class="btn btn-select" onclick="createCookie('version', '5.2', 365);SwitchVersion('5.2');">Unreal Engine 5.2 Documentation</div>
		<div id="5_3" data-version="5.3" class="btn btn-select" onclick="createCookie('version', '5.3', 365);SwitchVersion('5.3');">Unreal Engine 5.3 Documentation</div>
	</div>
</span>
	<span class="separator">></span> <a id="parent_link" href="../../../index.html">测试并优化你的内容</a>

	<span class="separator">></span> <a id="parent_link" href="../../index.html">性能及分析</a>

	<span class="separator">></span> <a id="parent_link" href="../index.html">Unreal Insights</a>

<span class="separator">></span> <span id="page">Unreal Insights介绍</span>
</div>				<div id="pageNavRight">
								<!-- Start of Search -->
												<div id="search_container">
					<form name="bodySearch" method="get" action="https://www.unrealengine.com/zh-CN/bing-search" onsubmit="return validateSearch()">
						<input type="image" src="../../../../../Include/Images/search_box_icon.png" class="searchbutton"/>
						<input type="hidden" name="filter" value="文档" />
						<input type="text" name="keyword" placeholder="搜索文档……" class="searchbox" autocomplete="off"/>
					</form>
				</div>
								<!-- End of Search -->
				<div id="skinContainer">
	<div id="skinSelect" class="btn btn-skin" onclick="ToggleMenu($('#skinMenu'), $(this));"></div>
	<div id="skinMenu">
		<div id="light" class="btn btn-select" onclick="createCookie('skin', 'light', 365);location.reload();">Light Theme</div>
		<div id="dark" class="btn btn-select" onclick="createCookie('skin', 'dark', 365);location.reload();">Dark Theme</div>
	</div>
</div>				</div>
			</div>
		</div>						<div id="navWrapper">
			<div id="nav-filter-container">
				<div id="nav-filter-inner">
					<form>
						<input type="text" placeholder="Filter pages..." id="nav-filter" onchange="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, this.value);if(this.value.length == 0){$('#filter-clear').hide();}else{$('#filter-clear').show();}" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();" />
						<button class="close-icon" id="filter-clear" type="reset" onclick="clearTimeout(filterTimer); filterTimer = setTimeout(updateNavTreeFilter,250, '');$(this).hide();"></button>
					</form>
				</div>
			</div>
			<nav id="navPanel">
			</nav>
			<div id="navigation" title="Click to toggle navigation menu"><span>></span></div>
		</div>		
		<div id="splitter">
		</div>
				<div id="contentContainer">
										<div id="pagedefault">
				<div id="product-banner">
	<div id="product-logo"></div>
</div>				<div id="pagecontainer" style="padding-right:0px;">
					<!-- Start of Markdown converted page content -->
																				<div class="hero  ">
						<div class="imgContainer"><img src="#" /></div>						<div class="info">
							<div id="pageTitle">
								<h1 id="H1TitleId">Unreal Insights介绍</h1>
							</div>	
							<h2 >简要介绍应用分析工具Unreal Insights</h2>
							<div id="access">
								<div class="accessContainer">
																		<div class="skill_tag_filter Advanced"><a id="skill_link" href="../../../../SiteIndex/index.html?skills=Advanced">Advanced</a></div>
																	</div>
							</div>
						</div>
					</div>
																				<div id="maincol">
						<div class="togglesection" id="osContainer">
	<div class="normaltitle">
		<p>Choose your operating system:</p>
	</div><div class="toggleButtons">
		<div class="btn btn-default btn-toggle OS windows" id="windows" onclick="setSelector('OS', 'windows');">
			<p>Windows</p>
		</div>
		<div class="btn btn-default btn-toggle OS mac" id="mac" onclick="setSelector('OS', 'mac');">
			<p>macOS</p>
		</div>
		<div class="btn btn-default btn-toggle OS linux" id="linux" onclick="setSelector('OS', 'linux');">
			<p>Linux</p>
		</div>
	</div>
</div>																		<div id="seeAlso">
	<div style="position:relative;">
		<div id="title">参见</div>
		<div id="pageList">
			<ul>
								<li>
					<p>
						<a id="related_link" href="../Reference/index.html" title="涵盖输入快捷方式、宏和命令行选项的Unreal Insights参考。">Unreal Insights参考</a>
					</p>
				</li>
							</ul>
		</div>
	</div>
</div>
																														<div class="toc">
<div style="position:relative;">
    <div class="title">
    本页面的内容
    </div>
<div id="tocScroll">
    <ul>
	    		    			    <li id="">
	<p><a id="toc_link" href="#设置">设置</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#追踪运行时事件">追踪运行时事件</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#unrealinsight—浏览器">Unreal Insight—浏览器</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#已废弃功能">已废弃功能</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#unrealinsights—查看器">Unreal Insights—查看器</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#timinginsights窗口">Timing Insights窗口</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#assetloadinginsights窗口">Asset Loading Insights窗口</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#内存insights窗口">内存Insights窗口</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#通道">通道</a></p>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#自定义项目输出">自定义项目输出</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#激活或停用日志记录">激活或停用日志记录</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#添加自定义cpu范围定时器">添加自定义CPU范围定时器</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#insights日志">Insights日志</a></p>
	</li>					</ul>
	</li>		    			    <li id="">
	<p><a id="toc_link" href="#平台详情">平台详情</a></p>
			<ul>
							<li id="">
	<p><a id="toc_link" href="#android">Android</a></p>
	</li>							<li id="">
	<p><a id="toc_link" href="#文件">文件</a></p>
	</li>					</ul>
	</li>		    	        </ul>
</div>
</div>
</div>
<p><strong>Unreal Insights</strong> 可帮助开发者识别瓶颈，适用于优化性能。从较高层面看，Unreal Insights是一款集成了虚幻引擎的standalone分析系统，用于收集、分析和显示引擎发出的数据。除充分覆盖引擎的现有系统外，利用Unreal Insights还可轻松添加用户自身的分析数据。最后，该系统拥有远程数据录制功能，对项目执行的影响非常低。 
</p><h2 id="设置">设置</h2>
<p>虚幻引擎随附的Unreal Insights工具位于 <code>Engine/Binaries/Win64</code> 目录中。下载并在本地编译UE4源码用户可使用以下方式编译：在开发或发布模式中构建整个UE4解决方案；或直接编译"UnrealInsights"项目。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsProjectVisualStudio.jpg">
		<img class="  lazyload" alt="UnrealInsightsProjectVisualStudio.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsProjectVisualStudio.jpg" />
</picture>

</p><p>找到或构建编译程序（<code>UnrealInsights.exe</code>）后，在用于录制数据或查看实时会话的机器上运行该程序。为尽量减少工具对应用程序的影响，建议运行工具时最好选择另一台机器，而非监控项目的机器。项目与工具可在同一台机器中运行，但请注意：由于项目在启动时会尝试连接工具，因此必须先运行工具。 
</p><p>若远程运行工具，使用以下命令行选项启动项目来向项目提供IP，其中IP替代"X"：<code>-tracehost=X</code> 
</p><div class="note">
	<ul ><li class="Default"><p>只有在远程设备、Mac或Linux上运行时才需要"-tracehost=X"参数。 
</p></li><li class="Default"><p>在Windows上启动时（若能发现工具），运行时会自动连接Unreal Insights。
</p></li></ul>
</div><h3 id="追踪运行时事件">追踪运行时事件</h3>
<p>使用 <code>-trace&#91;=channel0&#91;,channel1...&#93;&#93;</code> 命令行参数后，可以启用从运行时到Unreal Insights的条件检测事件（instrumentation event）。该参数可以是一个逗号分隔的跟踪通道列表（可选），或者一个.ini定义的通道集的名称 （详情参见下文）。假如没有为 <code>-trace</code> 提供参数，则会使用默认的通道列表（<code>cpu</code>、<code>frames</code>、<code>log</code> 和 <code>bookmarks</code>）。 
</p><div class="note">
	<p>某些命令行参数，例如 <code>-cpuprofilertrace</code> 已经在4。26版本中被删除。如需了解详情，请参阅<a id="content_link"filter-data="tag_performance tag_profiling tag_unreal_insights" href="../Reference/index.html" ><span>Unreal Insights参考</span></a>。</p>
</div><p>使用 <code>trace.start &#91;channel0&#91;,channel1...&#93;&#93;</code> 控制台命令，就可以在运行时启动文件追踪。生成的 .utrace 文件位于项目的默认性能分许目录中（通常为<ProjectDir>/Saved/Profiling），并且可以直接拖拽进Unreal Insights的浏览器面板来打开它。
</p><p>预定义的通道集可以在.ini文件中的 <code>Trace.ChannelPresets</code> 部分定义。在Engine/Config/BaseEngine.ini中可以找到一个默认集（以前叫 "Default"）。它是 <code>-trace</code> 和 <code>trace.start</code> 使用的默认设置。用户可以在.ini文件中轻松添加自己的设置，如下所示。
</p><pre class="prettyprint"><code>&#91;Trace.ChannelPresets&#93;
MyChannelSet=log,frame</code></pre>
<p>This preset can then be used via <code>-trace=MyChannelSet</code> or <code>trace.start MyChannelSet</code>. 
</p><p><a id="content_link"filter-data="tag_trace tag_unreal_insights" href="../Reference/Trace/index.html" ><span>Trace</span></a></p><h2 id="unrealinsight—浏览器">Unreal Insight—浏览器</h2>
<p>在浏览器模式（4.25版新增功能）下启动应用程序后，显示追踪会话（Trace Sessions）（1）、追踪存储目录（Trace Store Directory）（2）功能按钮和新连接（New Connection）（3）菜单。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsBrowser.jpg">
		<img class="  lazyload" alt="UnrealInsightsBrowser.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsBrowser.jpg" />
</picture>

</p><p>工具启动时首先会打开Unreal Insights窗口。在窗口顶部标有 <strong>追踪会话（Trace Sessions）</strong> 的部分将显示可加载进行分析的所有预录会话列表。此类会话对应 <strong>追踪存储目录（Trace Store Directory）</strong> 中的 <code>.utrace</code> 文件。可双击任一追踪会话（或选择追踪会话并点击 <strong>打开（Open）</strong>），或使用 <strong>打开（Open）</strong> 下拉箭头在其他位置搜索 <code>.utrace</code> 文件。要立即启动对每个追踪文件的分析，可以将一个 `.utrace`文件从Explorer拖放到Unreal Insights窗口上。
</p><p>若有实时UE4会话连接工具，列表也会显示该会话。实时会话在状态列为 <strong>LIVE</strong> 一词，分析它们时会实时更新，其他方面则与预录会话相同。工具可同时连接多个会话，在数据流入时会自动录制所有此类会话的数据。可从列表中加载此类会话（与加载预录会话一样）来实时分析。 
</p><p>底部（<strong>新连接（New Connection）</strong>）拥有实验性 <strong>连接（Connect）</strong> 按钮和文本输入字段，可在其中输入正在进行的会话IP。此功能主要用于游戏主机，尚在开发中，可能不稳定。未来版本会有此功能的进一步迭代。目前唯一的推荐程序为：启动项目并为项目使用 <code>-tracehost=%ADDRESS%</code> 命令行选项，然后启动Unreal Insights工具。 
</p><h3 id="已废弃功能">已废弃功能</h3>
<p>追踪录制器部分包含无需关闭工具即可停止追踪录制的 <strong>停止（Stop）</strong> 按钮，4.25版已弃用该按钮。收集所需数据后，在会话结束前，可使用此按钮停止新数据流入实时会话，便于读取数据。按下此按钮还会断开工具与运行中会话的连接，并阻止新会话连接。 
</p><p>停止录制时，显示 <strong>开始（Start）</strong>，替代 <strong>停止（Stop）</strong>。重新启动录制后，可连接新的远程虚幻引擎会话，但不会连接追踪录制停止时启动的会话，也不会重新连接被 <strong>停止（Stop）</strong> 功能放弃的会话。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsStopped.jpg">
		<img class="  lazyload" alt="UnrealInsightsStopped.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsStopped.jpg" />
</picture>

<div class="caption">
	<p>带开始按钮的Unreal Insights v0.10</p>
</div>
</p><h2 id="unrealinsights—查看器">Unreal Insights—查看器</h2>
<p>4.25版新增了单独启动追踪会话分析的功能（查看器模式）。用户可以同时打开多个分析（查看器）窗口。 
</p><p>打开追踪会话分析后，Unreal Insights显示三个窗口选项卡。其中**Timing Insights<strong> 窗口和 </strong>Asset Loading Insights** 窗口选项卡在会话可供查看时显示，用于浏览和显示性能数据。
</p><h3 id="timinginsights窗口">Timing Insights窗口</h3>
<p>Timing Insights窗口包含CPU和GPU的逐帧性能数据。可使用多个面板以不同方式查看项目在各项任务上花费的时间。可选择要汇总查看的时间段、对数据排序或分类，以及查看日志输出。这些面板都可以分别选择显示或隐藏。 
</p><p><a id="content_link"filter-data="tag_performance tag_profiling tag_unreal_insights" href="../Reference/index.html" ><span>Unreal Insights参考</span></a></p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/TimingInsightsPanels.jpg">
		<img class="  lazyload" alt="TimingInsightsPanels.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/TimingInsightsPanels.jpg" />
</picture>

<div class="caption">
	<p>Timing Insights窗口包含帧面板（1）、时间面板（2）、日志面板（3）、定时器和计数器选项卡（4），以及调用项和被调用项面板（5）。</p>
</div>
</p><p>Timing Insights窗口的一项关键功能是选择单个帧或时间段并显示该段时间内收集的性能信息，其方法是高亮显示和缩放时间面板，并聚合定时器选项卡和统计信息计数器选项卡中的数据。具体步骤为点击帧面板中的单个帧，或点击并拖动时间面板顶部拖动条的一部分，也称 <strong>时间标尺</strong>。 
</p><p><strong>!0</strong></p><h4 id="帧面板">帧面板</h4>
<p>帧（Frames）面板用条形图显示各帧总占时。这有助于识别一般趋势，例如在加载特定关卡或未优化场景可见时帧率出现降低，或有助于发现单个帧变慢的原因，例如一次生成大量Actor。由于条越高表示帧越长，因此可轻松找出此类事件发生的确切时刻，并检查数据以确定对应操作。将光标悬停在条上会显示该帧的索引和运行时间。若点击该条，可在时间面板、定时器选项卡和统计信息计数器选项卡中隔离该帧的数据。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/FramesPanel.jpg">
		<img class="  lazyload" alt="FramesPanel.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/FramesPanel.jpg" />
</picture>

<div class="caption">
	<p>帧面板中的选定帧。白色括号标记显示时间面板中可见的一组帧。</p>
</div>
</p><h4 id="时间面板">时间面板</h4>
<p>在Unreal Insights中进行操作中，用户的大部分时间可能都会花在时间（Timing）面板上。此面板显示会话期间运行的所有计时器事件的每个实例可视化表现。不同于帧面板提供的全体帧概览，时间面板显示单独的追踪事件，并提供亚微秒精度级的时间测量。此类事件垂直堆叠以指示范围，并使用单独轨迹显示不同的线程活动。在轨迹画面中，事件按线程垂直划分以显示范围，并基于其开始和结束时间水平放置。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/TimingPanel.jpg">
		<img class="  lazyload" alt="TimingPanel.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/TimingPanel.jpg" />
</picture>

<div class="caption">
	<p>将鼠标悬停在时间面板中的定时器事件上时显示的提示文本。(1) 同一线程上嵌套事件的堆栈。(2)</p>
</div>
</p><p>可在面板左上角的 <strong>轨迹（Tracks）</strong> 下拉框中打开或关闭相关线程组。将鼠标光标悬停于任意轨迹中的块上，都会显示该定时器事件的信息，点击它即可在定时器选项卡中找到并选择该事件。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/TracksDropdown.jpg">
		<img class="  lazyload" alt="TracksDropdown.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/TracksDropdown.jpg" />
</picture>

<div class="caption">
	<p>时间面板含有下拉菜单，可基于轨迹组所含线程隐藏或显示相关轨迹组。</p>
</div>
</p><p>使用时间面板时，可能需要查看特定时间范围的聚合数据。在时间标尺上点击并拖动鼠标指针，就能选择要查看的时间段。也可以 <strong>Ctrl+双击</strong> 时间选项卡内的事件，或左键点击定时事件将其选中然后按下 <strong>回车键</strong>。另一个选择是点击帧面板中的帧。进行此操作时，选中时间范围显示为蓝色覆层，在顶部显示其总长度，定时器选项卡和计数器选项卡仅显示该时间范围内的数据。然后可按 <strong>F</strong> 直接缩放和平移至选定时间范围。 
</p><p>在4.25中，可以双击时间视图中的时间事件，即可高亮显示同一类型（定时器）的所有时间事件。
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsEventFiltering.jpg">
		<img class="  lazyload" alt="UnrealInsightsEventFiltering.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsEventFiltering.jpg" />
</picture>

<div class="caption">
	<p>类似时间事件高亮显示，所有其他时间事件颜色消褪</p>
</div>
</p><h4 id="定时器选项卡">定时器选项卡</h4>
<p>定时器选项卡将列出时间面板中指定时间范围内运行的所有定时器事件。除基于时间范围聚合数据外，还可根据任何活动列中的值对此列表进行升序或降序排序。右键点击列表中任意位置，即可更改排序顺序或激活或停用列。以下列可用于定时器选项卡： 
</p><ul ><li class="Default"><p>元组名 
</p></li><li class="Default"><p>类型 
</p></li><li class="Default"><p>实例计数 
</p></li><li class="Default"><p>总包含时间 
</p></li><li class="Default"><p>最大包含时间（毫秒） 
</p></li><li class="Default"><p>平均包含时间（毫秒） 
</p></li><li class="Default"><p>中间包含时间（毫秒） 
</p></li><li class="Default"><p>最小包含时间（毫秒） 
</p></li><li class="Default"><p>总独占时间 
</p></li><li class="Default"><p>最大独占时间（毫秒） 
</p></li><li class="Default"><p>平均独占时间（毫秒） 
</p></li><li class="Default"><p>中间独占时间（毫秒） 
</p></li><li class="Default"><p>最小独占时间（毫秒）
</p></li></ul><p><strong>分组依据（Group By）</strong></p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/TimersTabByName.jpg">
		<img class="  lazyload" alt="TimersTabByName.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/TimersTabByName.jpg" />
</picture>

<div class="caption">
	<p>按定时器名称分组的定时器选项卡数据</p>
</div>
</p><h4 id="计数器选项卡">计数器选项卡</h4>
<p>计数器选项卡将列出与计时器选项卡同一时间段内增加的所有统计数据。用户可按定时器选项卡中的方式更新排序顺序和列组织。以下列可用于计数器选项卡： 
</p><ul ><li class="Default"><p>元组名 
</p></li><li class="Default"><p>类型 
</p></li><li class="Default"><p>计数 
</p></li><li class="Default"><p>总和 
</p></li><li class="Default"><p>最大值 
</p></li><li class="Default"><p>上四分位数（4.23中未实现） 
</p></li><li class="Default"><p>平均值 
</p></li><li class="Default"><p>中值 
</p></li><li class="Default"><p>下四分位数（4.23中未实现） 
</p></li><li class="Default"><p>最小值
</p></li></ul><p><strong>分组依据（Group By）</strong></p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsCounters.jpg">
		<img class="  lazyload" alt="UnrealInsightsCounters.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsCounters.jpg" />
</picture>

<div class="caption">
	<p>组成平面组的计数器选项卡数据</p>
</div> 
</p><p><a id="content_link"filter-data="tag_performance tag_profiling tag_unreal_insights" href="../Reference/index.html" ><span>Unreal Insights参考</span></a></p><p>双击计数器即可在添加计数器的图表序列时开启图表轨迹可视性。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsCountersGraph.jpg">
		<img class="  lazyload" alt="UnrealInsightsCountersGraph.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsCountersGraph.jpg" />
</picture>

<div class="caption">
	<p>STAT_PageAllocatorTree</p>
</div> 
</p><h4 id="日志面板">日志面板</h4>
<p>日志面板显示UE4会话中的所有日志（由 <code>UE&#95;LOG</code> 调用生成）。日志可按冗余和类别过滤，与编辑器的输出日志窗口相同。它还提供搜索框，可过滤掉与输入文本不符的所有日志消息。除过滤外，点击任意行都会将时间面板平移至该行文本的记录时间。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/LogPanel.jpg">
		<img class="  lazyload" alt="LogPanel.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/LogPanel.jpg" />
</picture>

</p><p>在时间面板中选择时间段将（用蓝色）高亮显示该段时间内的所有日志条目。相反，若点击一个日志条目然后按住shift并点击另一日志条目来选择多个条目，则时间面板将高亮显示此类条目之间的时间范围。 
</p><h3 id="assetloadinginsights窗口">Asset Loading Insights窗口</h3>
<p>Unreal Insights工具提供Asset Loading Insights窗口，用于分析资产加载性能。此窗口包含Timing Insights视图中时间面板的专属版本，已配置为关注与加载资产相关的事件。 
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/AssetLoadingInsights.jpg">
		<img class="  lazyload" alt="AssetLoadingInsights.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/AssetLoadingInsights.jpg" />
</picture>
<code>-loadtimetrace</code></p><h3 id="内存insights窗口">内存Insights窗口</h3>
<p>Memory Insights让开发人员得以了解其应用如何使用内存。将内存使用情况可视化后，团队能够更好地了解他们的工作如何影响应用性能和引擎行为。
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsMemory.jpg">
		<img class="  lazyload" alt="UnrealInsightsMemory.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsMemory.jpg" />
</picture>

<div class="caption">
	<p>内存图表面板(1) 和LLM标签面板 (2)</p>
</div>
</p><p>显示内存使用情况的默认图形跟踪。
</p><ul ><li class="Default"><p>全部（Total） 
</p></li><li class="Default"><p>全部的追踪（TrackedTotal） 
</p></li><li class="Default"><p>未追踪（Untracked） 
</p></li><li class="Default"><p>网格体（Meshes） 
</p></li><li class="Default"><p>纹理（Textures） 
</p></li><li class="Default"><p>物理（Physics） 
</p></li><li class="Default"><p>音效（Audio）
</p></li></ul><h4 id="用例">用例</h4>
<p>要跟踪应用程序的内存使用情况，请在 <strong>关卡编辑器（Level Editor）</strong> - <strong>播放（Play）</strong> > <strong>Play in Standalone Game</strong> 下的 <strong>其他启动参数（Additional Launch Parameters）</strong> 文本框中输入 <code>-trace=memory</code>。
</p><p><code>-trace=memory</code> implies <code>-llm</code></p><h4 id="内存图表面板">内存图表面板</h4>
<p>LLM图表面板能够为各个LLM标签，显示内存随时间变化的情况。内存图表面板配有自定义垂直网格，注明了可见范围以及最小最大值。将鼠标光标悬停在轨道右侧时，只要当前最小值和最大值不相等，就显示这两个值的差值。
</p><h4 id="llm标签面板">LLM标签面板</h4>
<p>LLM标签面板会显示可见LLM标签列表。列表中的每个LLM标签都有如下属性。
</p><div class="simpletable">
	<table >
	<caption></caption>
	<col align=""/>
	<col align=""/>
	<thead>
		<tr >

	<th rowspan="1" colspan="1" >
			<p>属性</p>
			</th>
	
	<th rowspan="1" colspan="1" >
			<p>介绍</p>
			</th>
	
</tr>	</thead>
<tbody>
	<tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>颜色</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>用于显示LLM标签是否有内存图表轨道。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>名称</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>LLM标签的名称。</p>
			</td>
	
</tr><tr >

	<td rowspan="1" colspan="1" align="">
			<p><strong>追踪器</strong></p>
			</td>
	
	<td rowspan="1" colspan="1" align="">
			<p>标识哪个追踪器在使用LLM标签。</p>
			</td>
	
</tr></tbody>
</table>
</div><p>双击一个LLM标签可添加或删除其内存图表轨道。你还可以对每个追踪器的LLM标签列表进行排序和分组。
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsMemoryLLMTagsToggle.jpg">
		<img class="  lazyload" alt="UnrealInsightsMemoryLLMTagsToggle.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsMemoryLLMTagsToggle.jpg" />
</picture>

<div class="caption">
	<p> 启用后，该选项将过滤当前跟踪器使用的LLM标签。 </p>
</div>
</p><h2 id="通道">通道</h2>
<p>通道是一种新概念，开发者可利用它将事件分类到指定组。开发者可用其管理生成追踪数据数量，提高性能并节约空间。通道目前默认禁用，但可在实时会话中启用或关闭。 
</p><p>要在编辑器中启用 <strong>Insights Data Source Filters</strong> 和 <strong>Trace Data Filtering</strong> 插件，可在 <strong>编辑器（Editor）> 插件（Plugins）> 内置（Built-In）</strong> 中寻找。也可在项目的 <code>&#42;.uproject</code> 文件中启用插件。 
</p><pre class="prettyprint"><code>{
    "FileVersion": 3,
    "EngineAssociation": "4.25",
    "Category": "",
    "Description": "",
    "Plugins": &#91;
        {
            "Name": "TraceSourceFilters",
            "Enabled": true
        },
        {
            "Name": "TraceDataFilters",
            "Enabled": true
        }
    &#93;
} </code></pre>
<p><a id="content_link"filter-data="tag_performance tag_profiling tag_unreal_insights" href="../Reference/index.html" ><span>Unreal Insights参考</span></a></p><h2 id="自定义项目输出">自定义项目输出</h2>
<p>细微更改引擎、插件或项目源代码，即可激活或停用特定Unreal Insights功能。同时可添加自定义日志记录。 
</p><h3 id="激活或停用日志记录">激活或停用日志记录</h3>
<p>若要控制发送日志记录数据的区域，或要停用整个系统，需编辑引擎源代码并更改某些宏的值。此类宏遍布整个引擎，通常位于相关功能或模块的标头文件中。已开启日志记录的区域使用值"1"，已关闭日志记录的区域使用值"0"，但始终在条件结构中定义，该条件结构首先确定宏是否适用于编译情境。控制日志消息追踪的宏 <code>LOGTRACE&#95;ENABLED</code> 位于 <code>Engine/Source/Runtime/Core/Public/Logging/LogTrace.h</code> 中，具有以下结构： 
</p><pre class="prettyprint"><code>#if !IS&#95;PROGRAM &amp;&amp; !UE&#95;BUILD&#95;SHIPPING &amp;&amp; (PLATFORM&#95;WINDOWS &#124;&#124; PLATFORM&#95;PS4 &#124;&#124; PLATFORM&#95;XBOXONE)
#define LOGTRACE&#95;ENABLED 1
#else
#define LOGTRACE&#95;ENABLED 0
#endif</code></pre>
<p>在将日志数据正确发送至Unreal Insights系统的版本中，<code>LOGTRACE&#95;ENABLED</code> 默认定义为"1"。要将其停用，修改上述代码中的第二行，将 <code>LOGTRACE&#95;ENABLED</code> 定义为"0"而非"1"。 
</p><p><a id="content_link"filter-data="tag_performance tag_profiling tag_unreal_insights" href="../Reference/index.html" ><span>Unreal Insights参考</span></a></p><h3 id="添加自定义cpu范围定时器">添加自定义CPU范围定时器</h3>
<p>要向自己的引擎功能、插件或项目添加日志记录，对要分析的范围调用 <code>TRACE&#95;CPUPROFILER&#95;EVENT&#95;SCOPE</code> 宏。此宏采用单个文本参数来辨识将拥有其生成的分析数据的追踪组。可使用任何名称，常见用例如 <code>TRACE&#95;CPUPROFILER&#95;EVENT&#95;SCOPE(TEXT("MyClass::Function"))</code> 或 <code>TRACE&#95;CPUPROFILER&#95;EVENT&#95;SCOPE(TEXT("ReticulatingSplines"))</code>。请注意：<code>TRACE&#95;BOOKMARK</code> 和`UE_LOG` 宏显示在Unreal Insights中，因此将日志放在待调查代码的邻近区域有助于在分析数据时更快找到所需信息。 
</p><h3 id="insights日志">Insights日志</h3>
<p><strong>Insights日志</strong> 显示Unreal Insights相关的消息日志。在下面的例子中，Insights日志会显示因为解析LLM XML报告文件而产生的警告和错误。
</p><p><picture>
		<source data-srcset="./../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsMemoryInsightsLog.jpg">
		<img class="  lazyload" alt="UnrealInsightsMemoryInsightsLog.png" data-src="../../../../../Images/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/UnrealInsightsMemoryInsightsLog.jpg" />
</picture>

</p><h2 id="平台详情">平台详情</h2>
<p>可使用Unreal Insights收集一些平台上的追踪数据，例如Android和个人电脑。 
</p><h3 id="android">Android</h3>
<p>凭借Android Debug Bridge (adb)，Android工具可通过USB线重定向TCP流量。要在Android设备上连接运行时应用程序，首先指示<a id="content_link" href="https://developer.android.com/studio/command-line/adb" ><span>adb</span></a>经由设备上通过USB建立的TCP连接传递：
</p><pre class="prettyprint"><code>adb.exe reverse tcp:1980 tcp:1980</code></pre>
<p><div class="tip">
	<p>Unreal Insights聆听TCP端口1980。</p>
</div>
</p><p>在设备上运行时应连接到 <code>localhost</code>，因此操作系统将通过USB线路由流量。
</p><pre class="prettyprint"><code>-tracehost=127.0.0.1</code></pre>
<h3 id="文件">文件</h3>
<p>追踪可使用 <code>-tracefile=PATH</code> 命令行参数输出至文件。<code>PATH</code> 的值专属于被追踪的平台，包括个人电脑和Android。
</p><h4 id="个人电脑">个人电脑</h4>
<pre class="prettyprint"><code>-tracefile=d:/foo/bar.utrace</code></pre>
<h4 id="android_1">Android</h4>
<pre class="prettyprint"><code>-tracefile=/sdcard/UE4Game/foobar.utrace</code></pre>
<p><code>/sdcard/</code></p>
																	</div>
					<!-- End of Markdown converted page content -->
				</div>
												<div id="pageTags">
				<div class="title">标签</div>
					<div>
					<div class="keyword_tag_filter"><a id="tag_link" href="../../../../SiteIndex/index.html?tags=Performance">Performance</a></div>
<div class="keyword_tag_filter"><a id="tag_link" href="../../../../SiteIndex/index.html?tags=Profiling">Profiling</a></div>
<div class="keyword_tag_filter"><a id="tag_link" href="../../../../SiteIndex/index.html?tags=Unreal%20Insights">Unreal Insights</a></div>
					</div>
				</div>
								<div id="recommendations"></div>			</div>
						<div id="footer"></div>									<div id="announcement">
			<div style="display:inline-block;margin:5px;">
				欢迎帮助改进虚幻引擎文档！请告诉我们该如何更好地为您服务。
			</div>
			<div style="margin:5px;display:inline-block;">
				<div class="btn action" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();window.open('https://epicgames.questionpro.com/t/AP9dGZkjp4');createCookie('announcement-read', new Date().getTime(), 30);">填写问卷调查</div>
				<div class="btn btn-default" style="margin-top:-6px;display:inline-block;" onclick="$('#announcement').hide();createCookie('announcement-read', new Date().getTime(), 30);">取消</div>
			</div>
			<div class="btn-close" style="position:absolute;right:5px;top:10px;padding:3px;width:14px;height:14px;" onclick="$('#announcement').hide();"></div>
			</div>
					</div>
	</div></body>

<!-- Mirrored from docs.unrealengine.com/4.26/zh-CN/TestingAndOptimization/PerformanceAndProfiling/UnrealInsights/Overview/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Jan 2024 11:40:20 GMT -->
</html>
